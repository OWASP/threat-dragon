<!DOCTYPE html>
<html>
<head>
    <title data-ng-bind="title">OWASP Threat Dragon Docs</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />

    <script>
        // Must be first. IE10 mobile viewport fix
        if ("-ms-user-select" in document.documentElement.style && navigator.userAgent.match(/IEMobile\/10\.0/)) {
            var msViewportStyle = document.createElement("style");
            var mq = "@-ms-viewport{width:auto!important}";
            msViewportStyle.appendChild(document.createTextNode(mq));
            document.getElementsByTagName("head")[0].appendChild(msViewportStyle);
        }
    </script>
    
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link href="content/bootstrap/bootstrap.min.css" rel="stylesheet" />
    <link href="content/font-awesome/font-awesome.min.css" rel="stylesheet" />
    <link href="content/bootstrap-theme.min.css" rel="stylesheet" />
    <link href="content/bootstrap-custom.css" rel="stylesheet" />

</head>
<body>
    
    <nav class="navbar navbar-default">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#td-pages-nav-links" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">OWASP Threat Dragon</a>
        </div>
    
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="td-pages-nav-links">
            <ul class="nav navbar-nav navbar-right">
                <li><a href="https://threatdragon.org/" target="_blank"><span class="fa fa-flask fa-lg"></span> See the web app</a></li>
                <li><a href="https://github.com/mike-goodwin/owasp-threat-dragon-desktop/releases" target="_blank"><span class="fa fa-cloud-download fa-lg"></span> Download the desktop app</a></li>
                <li><a href="https://github.com/owasp/threat-dragon" target="_blank"><span class="fa fa-github fa-lg"></span> Visit us on GitHub</a></li>
            </ul>
        </li>
      </ul>
        </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
    </nav>
    
    <div class="container-fluid">
        
        <div class="jumbotron">
            <div class="container">
                <div class="row">
                    <div class="col-lg-4 col-md-5 col-sm-12 hidden-xs">
                        <a href="http://dreamsofmine.deviantart.com/" target="_label"><img src="content/images/threatdragon_logo_image.svg" alt="Image credit to DreamsOfMine" /></a>
                    </div>
                    <div class="col-lg-8 col-md-7 col-sm-12 col-xs-12">
                        <p class="lead text-justify">
                            Threat Dragon is an open-source threat modelling tool from OWASP. It comes as a web application or an <a href="https://electron.atom.io/" target="_blank">Electron</a>
                            based installable desktop app for MacOS, Windows and Linux. The desktop app saves your threat models on your local file system,
                            but the online version stores its files in GitHub. This means that to use web app you have to sign in with a GitHub account and
                            give it write access to your public repos. Other than that, the user experience is currently almost identical between the web and
                            desktop variants. In the future, there will be deeper integration with GitHub (and other code repositories).
                        </p>
                        <p>
                            Threat Dragon is currently in development as an OWASP incubator project, so there might still be some bugs.
                        </p>
                        </br>
                        <p class="text-right">
                            <a href="https://owasp.org/www-project-threat-dragon/" target="_blank"><img src="content/images/owasp.svg" alt="OWASP logo" title="OWASP project page"/></a>
                        </p>
                    </div>
                </div>
            </div>
        </div> 
        
        <div class="row">
            
            <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
                <div class="jumbotron">
                    <a href="#downloads">
                        <div class="text-center">
                            <span class="glyphicon glyphicon-cloud-download fa-4x text-primary"></span>
                        </div>
                    </a>
                    <div>
                        </br><p>Downloading the installable desktop application.</p>
                    </div>
                </div>
            </div>

            <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
                <div class="jumbotron">
                    <a href="#getting-started">
                        <div class="text-center">
                            <span class="glyphicon glyphicon-play fa-4x text-primary"></span>
                        </div>
                    </a>
                    <div>
                        </br><p>Getting started with Threat Dragon for the first time.</p>
                    </div>
                </div>
            </div>

            <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
                <div class="jumbotron">
                    <a href="#threat-model-diagrams">
                        <div class="text-center">
                            <span class="glyphicon glyphicon-picture fa-4x text-primary"></span>
                        </div>
                    </a>
                    <div>
                        </br><p>How to work with diagrams for your threat model .</p>
                    </div>
                </div>
            </div>
        
            <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
                <div class="jumbotron">
                    <a href="#threat-generation">
                        <div class="text-center">
                            <span class="glyphicon glyphicon-flash fa-4x text-primary"></span>
                        </div>
                    </a>
                    <div>
                        </br><p>A description of the rules used for threat generation.</p>
                    </div>
                </div>
            </div>
            
        </div>
               
    </div>

    <div class="container-fluid">
        <div class="panel panel-default" id="downloads">
            <div class="panel-heading panel-title">
                <h2>Downloading the desktop app <span class="glyphicon glyphicon-cloud-download fa-lg text-primary pull-right"></span></h2>
            </div>
            <div class="panel-body">
                <p>
                The following installable versions are available for download from <a href="https://github.com/mike-goodwin/owasp-threat-dragon-desktop/releases" target="_blank">GitHub</a>:
                    <ul>
                        <li>
                            Windows (64 bit)
                        </li>
                        <li>
                            MacOS
                        </li>
                        <li>
                            Linux
                        </li>
                    </ul>
                </p>

                <div class="alert alert-info" role="alert">
                    <span class="fa fa-flask"></span> The current  versions of the desktop application are not code-signed. This means you could get a warning when you try to install it on Windows. It also
                    means that the application will not auto-update on any of the platforms. This will be fixed in a future release.
                </div>

            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class="panel panel-default" id="getting-started">
            <div class="panel-heading panel-title">
                <h2>Getting started <span class="glyphicon glyphicon-play fa-lg text-primary pull-right"></span></h2>
            </div>
            <div class="panel-body">
                <h3>Creating a new model</h3>
                <h4>Web application</h4>
                <p>
                The Threat Dragon web variant stores its threat models in your GitHub repos. This is so that the models can stay close to the 
                code they are modelling. Future versions will provide a deeper integration so watch this space but for now, when you login to Threat Dragon for the first time and 
                hit <a href="https://threatdragon.org" target="_blank"><code>https://threatdragon.org</code></a> you will see the Welcome page. To get started with your threat model click or tap
                </p>
                <p>
                    <span class="fa fa-plus fa-2x text-primary"></span>
                </p>
                <p>
                    You will then be presented with a list of your GitHub repositories. Pick the one where you want to store your new
                    model. If you have more than 30 repos you might have to page through them until you find the one you want. Once you
                    have picked your target repo, you will be asked to pick a branch. Again, if you have more than 30 branches you might need
                    to page. When you pick a branch you will be taken to the threat model edit page where you can enter general information about your model. 
                </p>
                <h4>Desktop application</h4>
                <p>
                The Threat Dragon desktop variant stores its threat models on your local filesystem. To get started with your threat model click or tap
                </p>
                <p>
                    <span class="fa fa-plus fa-2x text-primary"></span>
                </p>
                <p>
                    You will then be taken straight to the threat model edit page where you you can enter general information about your model. 
                </p>
                <h4>Threat model edit page</h4>                 
                <p>
                    The <strong>Title</strong> field is mandatory. All the rest are optional, but they provide
                    context for your model. This can be useful if someone else has to pick the model up in the future. 
                    Although only the <strong>Title</strong> field is mandatory, your model will a be pretty useless without <strong>Diagrams</strong>. 
                    Add some diagrams to your model by clicking or tapping
                </p>
                <p>
                <div>
                    <a class="btn btn-link">
                        <span class="glyphicon glyphicon-plus"></span> Add a new diagram...
                    </a>
                </div>
                </p>
                <hr>
                <p>
                    Name your diagram and then click or tap <strong>Add</strong> to confirm or <strong>Cancel</strong> if you change your mind 
                </p>
                <p>
                    <div class="input-group col-lg-3 col-md-3 col-sm-6 col-xs-12">
                        <input class="form-control" type="text" value="Your cool new diagram"/>
                        <span class="input-group-btn">
                            <button class="btn btn-default" type="button">
                                <span class="glyphicon glyphicon-plus"></span> Add
                            </button>
                        </span>
                        <span class="input-group-btn">
                            <button class="btn btn-link" type="button">
                                <span class="glyphicon glyphicon-remove"></span> Cancel
                            </button>
                        </span>
                    </div>
                </p>
                <p>
                    At this stage you are just listing the diagrams and naming them. You add all the diagram elements later.
                </p>
                <hr>
                <p>
                    Once you have entered all the details you need, click or tap <strong>Save</strong>. You can also <strong>Cancel</strong> to exit without saving, or <strong>Reload</strong> to undo any changes and revert to your last save.
                </p>
                <p>
                    <div class="btn-group">
                        <button class="btn btn-default" type="button">
                            <span class="glyphicon glyphicon-remove"></span> Cancel
                        </button>
                        <button class="btn btn-default" type="button">
                            <span class="fa fa-undo"></span> Reload
                        </button>
                        <button class="btn btn-primary" type="button">
                            <span class="glyphicon glyphicon-save"></span> Save
                        </button>
                    </div>
                </p>
                <p>
                    In the web variant oif Threat Dragon, models are saved in your chosen branch at a path like <code>ThreatDragonModels/[model name]/[model title].json</code>. Look at the 
                    <a href="https://github.com/mike-goodwin/owasp-threat-dragon-demo">Demo Threat Model</a> for an example. Because of this, if you change
                    title of your model it will delete the old model in GitHub and replace it with one at the new path. This does <strong>not</strong> apply to the desktop variant.
                </p>    
                <hr>
                <p>
                    <strong class="text-primary">Congratulations!</strong> You have got the basics done. Next step...mapping out your system in a diagram.
                </p>
                <hr>
                <h3>Loading a demo model</h3>
                <p>
                    If you are wondering how to start, you can load a sample threat model. On the welcome page, to download the sample, click or tap
                </p>
                <p>
                    <div>
                        <span class="fa fa-cloud-download fa-2x text-primary"></span>
                    </div>
                </p>
                <p>
                    This should give you some ideas on how to get started with your own model. This works for both the web and desktop variants.
                </p>
                <hr>
                <h3>Opening an existing model</h3>
                <h4>Web application</h4>
                <p>
                    If you have a repository that already has threat models, you can open them by clicking or tapping
                </p>
                <p>
                    <div>
                        <span class="fa fa-github fa-2x text-primary"></span>
                    </div>
                </p>
                <p>
                    You will then be able to select a repo and branch and finally you will be able to choose from a list of models.
                </p>
                <h4>Desktop application</h4>
                <p>
                    If you have an existing model file saved locally, you can open it by clicking or tapping
                </p>
                <p>
                    <div>
                        <span class="fa fa-folder-open fa-2x text-primary"></span>
                    </div>
                </p>
                <p>
                    You will then be able to find the model file in your local file system and open it.
                </p>
                <p>
                    This should give you some ideas on how to get started with your own model. This works for both the web and desktop variants.
                </p>
                <hr>
                <h3>Threat model report</h3>
                <p>
                    From the Threat Model details view you can see a summary report of your model listing the diagrams, elements and threats.
                    Towards the bottom right of the page click
                </p>
                <p>
                    <div>
                        <a class="btn btn-default"" 
                        role="button" data-toggle="tooltip" data-placement="top" title="View Or Print Threat Model Report">
                            <span class="fa fa-file-text"></span> Report
                        </a>
                    </div>
                </p>
                <p>
                    You can customise the report to show or hide
                    <ul>
                        <li>Out of scope model elements</li>
                        <li>Mitigated threats</li>
                        <li>Threat model diagrams</li>
                    </ul>
                    On the desktop variant of Threat Dragon you can print the report or save it as a PDF.
                    On the web variant, you can print the report and then, on most browsers, the print dialog allows you to save the report as a PDF.
                </p>
            </div>
        </div>
    </div>
          
    <div class="container-fluid">
        <div class="panel panel-default" id="threat-model-diagrams">
            <div class="panel-heading panel-title">
                <h2>Threat model diagrams <span class="glyphicon glyphicon-picture fa-lg text-primary pull-right"></span></h2> 
            </div>
            <div class="panel-body">
                <h3>Diagram title</h3>
                <p>
                To edit the diagram title, click or tap the <span class="glyphicon glyphicon-edit"></span> icon
                towards the top right of the diagram editor. When you have edited it, tap or click
                </p>
                <p>
                <button class="btn btn-primary"><span class="glyphicon glyphicon-ok"></span></button>
                </p>
                <p>
                to save your change, or
                </p>
                <p>
                <button class="btn btn-default"><span class="glyphicon glyphicon-remove"></span></button>
                </p>
                <p>
                to cancel and discard your change.
                </p>
                <hr>
                <h3>Processes, data stores and actors</h3>
                <p>
                Add model elements to your diagram by clicking or tapping the relevant shape in the stencil on the left side of the 
                diagram editor. Once added they can be selected by clicking them to see their properties and threats and 
                dragged around the diagram. to delete an element, first select it and then click on the red icon it the elements top left
                corner...
                </p>
                <img src="content/images/actorelement.png" width="200px" alt="image showing the element delete tool" />
                <hr>               
                <h3>Data flows and trust boundaries</h3>
                <p>
                Data flows and trust boundaries can be added to the diagram by clicking their shape in the stencil on the left side of
                the diagram editor. Once added, their ends can be dragged around the diagram. To connect the end of a data flow to a process,
                data store or actor, you can drag one of its ends onto the element.
                </p>
                <p>
                An easier way to draw data flows between elements is to select your first element, then click the grey link tool, next to the red
                remove tool near the top right of the selected element. This turns the link tool green. Then, when you click another element, 
                a new data flow will be created, linking the first element to the second.
                </p>
                <img src="content/images/shapelink.png" width="130px" alt="element link tool" />
                <p>
                Extra vertices can be added by clicking at some
                point on the line. These new vertices can also be dragged to position the data flow or trust boundary. Vertices can be removed
                by clicking the remove tool that appears when you mouse near to the vertex.
                </p>
                <img src="content/images/vertexremove.png" width="100px" alt="vertex remove tool" />
                <p>
                A data flow can be selected by clicking the <strong>Link options</strong> tool that appears when you mouse near to the link.
                Once selected you can edit its properties or add threats to it. Trust boundaries cannot be selected.
                </p>
                <img src="content/images/flowselect.png" width="100px" alt="flow select tool" />
                <p>
                Data flows and trust boundaries can be deleted by clicking the red remove tool that appear when you mouse near to them.
                </p>
                <img src="content/images/flowremove.png" width="100px" alt="flow remove tool" />
                <hr>
                <h3>Out of scope elements</h3>
                <p>
                Processes, data stores, actors and data flows can be marked as out of scope. You can use this for elements that are needed
                to help a diagram make sense, but for which you are not interested in creating threats. To help reviewers (and as a reminder 
                for future-you) you can specify a reason why elements have been marked out of scope. Threat generation is disabled for these
                elements. Out of scope elements are indicated in diagrams with dashed lines:
                </p>
                <img src="content/images/outofscope.png" width="230px" alt="out of scope elements with dashed lines" />
                <hr>
                <h3>Elements with open threats</h3>
                <p>
                Processes, data stores, actors and data flows that have open (unmitigated) threats are highlighted in red so that you know
                where to focus your attention:
                </p>
                <img src="content/images/openthreats.png" width="250px" alt="elements with open threats are red" />
                <hr>
                <h3>Editing toolbar</h3>
                The toolbar on the diagram editing page supports some general diagramming features:
                <hr>
                <p>
                <button type="button" class="btn btn-default" uib-btn-checkbox data-toggle="tooltip" data-placement="top" title="Toggle Gridlines">
                    <span class="glyphicon glyphicon-th" aria-hidden="true"></span>
                </button> Toggles gridlines on/off. When gridlines are on, elements snap to them for neater models.
                </p>
                <p>
                <a class="btn btn-default" role="button" data-toggle="tooltip" data-placement="top" title="Cancel Edit">
                    <span class="glyphicon glyphicon-remove"></span>
                </a> Cancels the edit and returns to the threat model details view.
                </p>
                <!-- p>
                <button class="btn btn-default" type="button" data-toggle="tooltip" data-placement="top" title="Zoom in">
                    <span class="glyphicon glyphicon-zoom-in" aria-hidden="true"></span>
                </button>
                <button class="btn btn-default" type="button" data-toggle="tooltip" data-placement="top" title="Zoom out">
                    <span class="glyphicon glyphicon-zoom-out" aria-hidden="true"></span>
                </button> Zooms the diagram in and out.
                </p -->
                <p>
                <button class="btn btn-default" type="button" data-toggle="tooltip" data-placement="top" title="Delete All Elements From This Diagram">
                    <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                </button> Clears all the elements from the model.
                </p>
                <p>
                <button class="btn btn-default" type="button" data-toggle="tooltip" data-placement="top" title="Discard Changes And Reopen Diagram">
                    <span class="fa fa-undo" aria-hidden="true"></span>
                </button> Reloads the diagram from the last save, discarding any changes.
                </p>
                <p>
                <button class="btn btn-default" type="button" data-toggle="tooltip" data-placement="top" title="Suggest threats for the selected element">
                    <span class="glyphicon glyphicon-flash" aria-hidden="true"></span>
                </button> Generates threats for the selected element using the threat generation rule engine.
                </p>
                <!-- div class="alert alert-info" role="alert">
                    <span class="fa fa-flask"></span> In the current alpha version of OWASP Threat Dragon, the threat generation rule engine is a stub, but you can still manually 
                    add threats to create a full threat model.
                </div -->
                <p>
                <button class="btn btn-default" type="button" data-toggle="tooltip" data-placement="top" title="Duplicate the selected element">
                    <span class="glyphicon glyphicon-duplicate" aria-hidden="true"></span>
                </button> Duplicates the selected element as a new element.
                </p>
                <p>
                <button class="btn btn-default" ng-disabled="!vm.dirty" type="button" data-toggle="tooltip" ng-click="vm.save()" data-placement="top" title="Save This Diagram">
                    <span class="glyphicon glyphicon-save" aria-hidden="true"></span>
                </button> Saves the threat model to your local browser storage.
                </p>
                <hr>
                <h3>Element properties</h3>
                To edit the properties of a model element, first select it. The element properties are shown on the right side of
                the diagram editor. In a future version of Threat Dragon, these properties will be used by the threat generation engine to
                suggest threats and mitigations for your model.
                <hr>
                <h3>Adding and editing threats</h3>
                <p>
                To add threats to elements in your diagram, select an element and tap or click <strong>Edit Threats</strong> on the left side
                of the diagram editor.
                This will collapse the model element stencil and show the threats for the selected element. To add a new threat, tap or click
                </p>
                <p>
                    <div>
                        <button id="buttonNewThreat" class="btn btn-link" ng-click="onNewThreat()">
                            <span class="glyphicon glyphicon-plus"></span> Add a new threat...
                        </button>
                    </div>
                </p>
                Enter the details for your threat in the threat dialog. The <strong>Title</strong> and <strong>STRIDE Threat Type</strong>
                are mandatory. When you are done, hit <strong>Save</strong> and your new threat should appear. To edit it again, tap or click
                its title.
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class="panel panel-default" id="threat-generation">
            <div class="panel-heading panel-title">
                <h2>Threat generation rules <span class="glyphicon glyphicon-flash fa-lg text-primary pull-right"></span></h2>
            </div>
            <div class="panel-body">
                <p>
                Threat Dragon provides <a href="https://www.microsoft.com/security/blog/2007/10/29/the-stride-per-element-chart/" target="_blank"> STRIDE per Element</a>
                rules to generate the suggested threats for an element on the diagram - except for trust boundaries. The suggested threats
                can be individually accepted or ignored, and other threats added manually. 
                </p>
            </div>
        </div>
    </div>
    
    <!-- <script src="libs/jquery/jquery.min.js"></script>
    <script src="libs/bootstrap/bootstrap.min.js"></script> -->

</body>
</html>

