(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
!function(n,t){"use strict";function e(n,t,e){if(!n)throw sn("areq","Argument '{0}' is {1}",t||"?",e||"required");return n}function a(n,t){return n||t?n?t?(J(n)&&(n=n.join(" ")),J(t)&&(t=t.join(" ")),n+" "+t):n:t:""}function r(n){var t={};return n&&(n.to||n.from)&&(t.to=n.to,t.from=n.from),t}function i(n,t,e){var a="";return n=J(n)?n:n&&G(n)&&n.length?n.split(/\s+/):[],B(n,function(n,r){n&&n.length>0&&(a+=r>0?" ":"",a+=e?t+n:n+t)}),a}function o(n,t){var e=n.indexOf(t);t>=0&&n.splice(e,1)}function s(n){if(n instanceof Y)switch(n.length){case 0:return n;case 1:if(n[0].nodeType===E)return n;break;default:return Y(u(n))}if(n.nodeType===E)return Y(n)}function u(n){if(!n[0])return n;for(var t=0;t<n.length;t++){var e=n[t];if(e.nodeType===E)return e}}function l(n,t,e){B(t,function(t){n.addClass(t,e)})}function c(n,t,e){B(t,function(t){n.removeClass(t,e)})}function f(n){return function(t,e){e.addClass&&(l(n,t,e.addClass),e.addClass=null),e.removeClass&&(c(n,t,e.removeClass),e.removeClass=null)}}function d(n){if(n=n||{},!n.$$prepared){var t=n.domOperation||Z;n.domOperation=function(){n.$$domOperationFired=!0,t(),t=Z},n.$$prepared=!0}return n}function m(n,t){v(n,t),p(n,t)}function v(n,t){t.from&&(n.css(t.from),t.from=null)}function p(n,t){t.to&&(n.css(t.to),t.to=null)}function h(n,t,e){var a=t.options||{},r=e.options||{},i=(a.addClass||"")+" "+(r.addClass||""),o=(a.removeClass||"")+" "+(r.removeClass||""),s=$(n.attr("class"),i,o);r.preparationClasses&&(a.preparationClasses=A(r.preparationClasses,a.preparationClasses),delete r.preparationClasses);var u=a.domOperation!==Z?a.domOperation:null;return W(a,r),u&&(a.domOperation=u),s.addClass?a.addClass=s.addClass:a.addClass=null,s.removeClass?a.removeClass=s.removeClass:a.removeClass=null,t.addClass=a.addClass,t.removeClass=a.removeClass,a}function $(n,t,e){function a(n){G(n)&&(n=n.split(" "));var t={};return B(n,function(n){n.length&&(t[n]=!0)}),t}var r={};n=a(n),t=a(t),B(t,function(n,t){r[t]=1}),e=a(e),B(e,function(n,t){r[t]=1===r[t]?null:-1});var i={addClass:"",removeClass:""};return B(r,function(t,e){var a,r;1===t?(a="addClass",r=!n[e]||n[e+R]):-1===t&&(a="removeClass",r=n[e]||n[e+I]),r&&(i[a].length&&(i[a]+=" "),i[a]+=e)}),i}function g(n){return n instanceof Y?n[0]:n}function C(n,t,e,a){var r="";e&&(r=i(e,q,!0)),a.addClass&&(r=A(r,i(a.addClass,I))),a.removeClass&&(r=A(r,i(a.removeClass,R))),r.length&&(a.preparationClasses=r,t.addClass(r))}function y(n,t){t.preparationClasses&&(n.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(n.removeClass(t.activeClasses),t.activeClasses=null)}function D(n,t){var e=t?"paused":"",a=F+tn;return b(n,[a,e]),[a,e]}function b(n,t){var e=t[0],a=t[1];n.style[e]=a}function A(n,t){return n?t?n+" "+t:n:t}function k(n){return[an,n+"s"]}function w(n,t){return[t?en:rn,n+"s"]}function T(n,t,e){var a=Object.create(null),r=n.getComputedStyle(t)||{};return B(e,function(n,t){var e=r[n];if(e){var i=e.charAt(0);("-"===i||"+"===i||i>=0)&&(e=S(e)),0===e&&(e=null),a[t]=e}}),a}function S(n){var t=0,e=n.split(/\s*,\s*/);return B(e,function(n){"s"===n.charAt(n.length-1)&&(n=n.substring(0,n.length-1)),n=parseFloat(n)||0,t=t?Math.max(n,t):n}),t}function j(n){return 0===n||null!=n}function x(n,t){var e=P,a=n+"s";return t?e+=_:a+=" linear all",[e,a]}function O(n,t,e){B(e,function(e){n[e]=Q(n[e])?n[e]:t.style.getPropertyValue(e)})}var P,N,F,M,E=1,I="-add",R="-remove",q="ng-",K="ng-animate",L="$$ngAnimateChildren";void 0===n.ontransitionend&&void 0!==n.onwebkittransitionend?("-webkit-",P="WebkitTransition",N="webkitTransitionEnd transitionend"):(P="transition",N="transitionend"),void 0===n.onanimationend&&void 0!==n.onwebkitanimationend?("-webkit-",F="WebkitAnimation",M="webkitAnimationEnd animationend"):(F="animation",M="animationend");var H,W,B,J,Q,U,V,z,G,X,Y,Z,_="Duration",nn="TimingFunction",tn="PlayState",en=F+"Delay",an=F+_,rn=P+"Delay",on=P+_,sn=t.$$minErr("ng"),un={blockTransitions:function(n,t){var e=t?"-"+t+"s":"";return b(n,[rn,e]),[rn,e]}},ln=["$$rAF",function(n){function t(n){a=a.concat(n),e()}function e(){if(a.length){for(var t=a.shift(),i=0;i<t.length;i++)t[i]();r||n(function(){r||e()})}}var a,r;return a=t.queue=[],t.waitUntilQuiet=function(t){r&&r(),r=n(function(){r=null,t(),e()})},t}],cn=["$interpolate",function(n){return{link:function(t,e,a){function r(n){n="on"===n||"true"===n,e.data(L,n)}var i=a.ngAnimateChildren;G(i)&&0===i.length?e.data(L,!0):(r(n(i)(t)),a.$observe("ngAnimateChildren",r))}}}],fn="$$animateCss",dn=1e3,mn=3,vn=1.5,pn={transitionDuration:on,transitionDelay:rn,transitionProperty:P+"Property",animationDuration:an,animationDelay:en,animationIterationCount:F+"IterationCount"},hn={transitionDuration:on,transitionDelay:rn,animationDuration:an,animationDelay:en},$n=["$animateProvider",function(n){this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$animateCache","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(n,t,e,a,s,u,l,c,h){function $(t,e,a,r,i){var o=s.get(a);o||(o=T(n,t,i),"infinite"===o.animationIterationCount&&(o.animationIterationCount=1));var u=r||o.transitionDuration>0||o.animationDuration>0;return s.put(a,o,u),o}function C(e,a,r,o){var u,l="stagger-"+r;if(s.count(r)>0&&!(u=s.get(l))){var c=i(a,"-stagger");t.addClass(e,c),u=T(n,e,o),u.animationDuration=Math.max(u.animationDuration,0),u.transitionDuration=Math.max(u.transitionDuration,0),t.removeClass(e,c),s.put(l,u,!0)}return u||{}}function y(n){E.push(n),c.waitUntilQuiet(function(){s.flush();for(var n=u(),t=0;t<E.length;t++)E[t](n);E.length=0})}function A(n,t,e,a){var r=$(n,t,e,a,pn),i=r.animationDelay,o=r.transitionDelay;return r.maxDelay=i&&o?Math.max(i,o):i||o,r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration),r}var S=f(t),E=[];return function(n,u){function c(){$()}function f(){$(!0)}function $(e){if(!(V||G&&z)){V=!0,z=!1,yn&&!W.$$skipPreparationClasses&&t.removeClass(n,yn),En&&t.removeClass(n,En),D(U,!1),un.blockTransitions(U,!1),B(on,function(n){U.style[n[0]]=""}),S(n,W),m(n,W),Object.keys(Q).length&&B(Q,function(n,t){n?U.style.setProperty(t,n):U.style.removeProperty(t)}),W.onDone&&W.onDone(),cn&&cn.length&&n.off(cn.join(" "),K);var r=n.data(fn);r&&(a.cancel(r[0].timer),n.removeData(fn)),X&&X.complete(!e)}}function T(n){Mn.blockTransition&&un.blockTransitions(U,n),Mn.blockKeyframeAnimation&&D(U,!!n)}function E(){return X=new e({end:c,cancel:f}),y(Z),$(),{$$willAnimate:!1,start:function(){return X},end:c}}function K(n){n.stopPropagation();var t=n.originalEvent||n;if(t.target===U){var e=t.$manualTimeStamp||Date.now(),a=parseFloat(t.elapsedTime.toFixed(mn));Math.max(e-rn,0)>=tn&&a>=en&&(G=!0,$())}}function L(){function e(){if(!V){if(T(!1),B(on,function(n){var t=n[0],e=n[1];U.style[t]=e}),S(n,W),t.addClass(n,En),Mn.recalculateTimingStyles){if(Dn=U.getAttribute("class")+" "+yn,kn=s.cacheKey(U,pn,W.addClass,W.removeClass),Nn=A(U,Dn,kn,!1),Fn=Nn.maxDelay,_=Math.max(Fn,0),0===(en=Nn.maxDuration))return void $();Mn.hasTransitions=Nn.transitionDuration>0,Mn.hasAnimations=Nn.animationDuration>0}if(Mn.applyAnimationDelay&&(Fn="boolean"!=typeof W.delay&&j(W.delay)?parseFloat(W.delay):Fn,_=Math.max(Fn,0),Nn.animationDelay=Fn,In=w(Fn,!0),on.push(In),U.style[In[0]]=In[1]),tn=_*dn,an=en*dn,W.easing){var e,i=W.easing;Mn.hasTransitions&&(e=P+nn,on.push([e,i]),U.style[e]=i),Mn.hasAnimations&&(e=F+nn,on.push([e,i]),U.style[e]=i)}Nn.transitionDuration&&cn.push(N),Nn.animationDuration&&cn.push(M),rn=Date.now();var o=tn+vn*an,u=rn+o,l=n.data(fn)||[],c=!0;if(l.length){var f=l[0];c=u>f.expectedEndTime,c?a.cancel(f.timer):l.push($)}if(c){var d=a(r,o,!1);l[0]={timer:d,expectedEndTime:u},l.push($),n.data(fn,l)}cn.length&&n.on(cn.join(" "),K),W.to&&(W.cleanupStyles&&O(Q,U,Object.keys(W.to)),p(n,W))}}function r(){var t=n.data(fn);if(t){for(var e=1;e<t.length;e++)t[e]();n.removeData(fn)}}if(!V){if(!U.parentNode)return void $();var i=function(n){if(G)z&&n&&(z=!1,$());else if(z=!n,Nn.animationDuration){var t=D(U,z);z?on.push(t):o(on,t)}},u=On>0&&(Nn.transitionDuration&&0===An.transitionDuration||Nn.animationDuration&&0===An.animationDuration)&&Math.max(An.animationDelay,An.transitionDelay);u?a(e,Math.floor(u*On*dn),!1):e(),Y.resume=function(){i(!0)},Y.pause=function(){i(!1)}}}var W=u||{};W.$$prepared||(W=d(H(W)));var Q={},U=g(n);if(!U||!U.parentNode||!h.enabled())return E();var V,z,G,X,Y,_,tn,en,an,rn,on=[],sn=n.attr("class"),ln=r(W),cn=[];if(0===W.duration||!l.animations&&!l.transitions)return E();var pn=W.event&&J(W.event)?W.event.join(" "):W.event,$n=pn&&W.structural,gn="",Cn="";$n?gn=i(pn,q,!0):pn&&(gn=pn),W.addClass&&(Cn+=i(W.addClass,I)),W.removeClass&&(Cn.length&&(Cn+=" "),Cn+=i(W.removeClass,R)),W.applyClassesEarly&&Cn.length&&S(n,W);var yn=[gn,Cn].join(" ").trim(),Dn=sn+" "+yn,bn=ln.to&&Object.keys(ln.to).length>0;if(!((W.keyframeStyle||"").length>0||bn||yn))return E();var An,kn=s.cacheKey(U,pn,W.addClass,W.removeClass);if(s.containsCachedAnimationWithoutDuration(kn))return yn=null,E();if(W.stagger>0){var wn=parseFloat(W.stagger);An={transitionDelay:wn,animationDelay:wn,transitionDuration:0,animationDuration:0}}else An=C(U,yn,kn,hn);W.$$skipPreparationClasses||t.addClass(n,yn);var Tn;if(W.transitionStyle){var Sn=[P,W.transitionStyle];b(U,Sn),on.push(Sn)}if(W.duration>=0){Tn=U.style[P].length>0;var jn=x(W.duration,Tn);b(U,jn),on.push(jn)}if(W.keyframeStyle){var xn=[F,W.keyframeStyle];b(U,xn),on.push(xn)}var On=An?W.staggerIndex>=0?W.staggerIndex:s.count(kn):0,Pn=0===On;Pn&&!W.skipBlocking&&un.blockTransitions(U,9999);var Nn=A(U,Dn,kn,!$n),Fn=Nn.maxDelay;_=Math.max(Fn,0),en=Nn.maxDuration;var Mn={};if(Mn.hasTransitions=Nn.transitionDuration>0,Mn.hasAnimations=Nn.animationDuration>0,Mn.hasTransitionAll=Mn.hasTransitions&&"all"===Nn.transitionProperty,Mn.applyTransitionDuration=bn&&(Mn.hasTransitions&&!Mn.hasTransitionAll||Mn.hasAnimations&&!Mn.hasTransitions),Mn.applyAnimationDuration=W.duration&&Mn.hasAnimations,Mn.applyTransitionDelay=j(W.delay)&&(Mn.applyTransitionDuration||Mn.hasTransitions),Mn.applyAnimationDelay=j(W.delay)&&Mn.hasAnimations,Mn.recalculateTimingStyles=Cn.length>0,(Mn.applyTransitionDuration||Mn.applyAnimationDuration)&&(en=W.duration?parseFloat(W.duration):en,Mn.applyTransitionDuration&&(Mn.hasTransitions=!0,Nn.transitionDuration=en,Tn=U.style[P+"Property"].length>0,on.push(x(en,Tn))),Mn.applyAnimationDuration&&(Mn.hasAnimations=!0,Nn.animationDuration=en,on.push(k(en)))),0===en&&!Mn.recalculateTimingStyles)return E();var En=i(yn,"-active");if(null!=W.delay){var In;"boolean"!=typeof W.delay&&(In=parseFloat(W.delay),_=Math.max(In,0)),Mn.applyTransitionDelay&&on.push(w(In)),Mn.applyAnimationDelay&&on.push(w(In,!0))}return null==W.duration&&Nn.transitionDuration>0&&(Mn.recalculateTimingStyles=Mn.recalculateTimingStyles||Pn),tn=_*dn,an=en*dn,W.skipBlocking||(Mn.blockTransition=Nn.transitionDuration>0,Mn.blockKeyframeAnimation=Nn.animationDuration>0&&An.animationDelay>0&&0===An.animationDuration),W.from&&(W.cleanupStyles&&O(Q,U,Object.keys(W.from)),v(n,W)),Mn.blockTransition||Mn.blockKeyframeAnimation?T(en):W.skipBlocking||un.blockTransitions(U,!1),{$$willAnimate:!0,end:c,start:function(){if(!V)return Y={end:c,cancel:f,resume:null,pause:null},X=new e(Y),y(L),X}}}}]}],gn=["$$animationProvider",function(n){function t(n){return n.parentNode&&11===n.parentNode.nodeType}n.drivers.push("$$animateCssDriver");var e="ng-animate-shim",a="ng-anchor-out";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(n,r,i,o,s,u,l){function c(n){return n.replace(/\bng-\S+\b/g,"")}function f(n,t){return G(n)&&(n=n.split(" ")),G(t)&&(t=t.split(" ")),n.filter(function(n){return-1===t.indexOf(n)}).join(" ")}function d(t,r,o){function s(n){var t={},e=g(n).getBoundingClientRect();return B(["width","height","top","left"],function(n){var a=e[n];switch(n){case"top":a+=p.scrollTop;break;case"left":a+=p.scrollLeft}t[n]=Math.floor(a)+"px"}),t}function u(n){return n.attr("class")||""}function l(){var t=c(u(o)),e=f(t,v),r=f(v,t),i=n(m,{to:s(o),addClass:"ng-anchor-in "+e,removeClass:a+" "+r,delay:!0});return i.$$willAnimate?i:null}function d(){m.remove(),r.removeClass(e),o.removeClass(e)}var m=Y(g(r).cloneNode(!0)),v=c(u(m));r.addClass(e),o.addClass(e),m.addClass("ng-anchor"),$.append(m);var h,C=function(){var t=n(m,{addClass:a,delay:!0,from:s(r)});return t.$$willAnimate?t:null}();if(!C&&!(h=l()))return d();var y=C||h;return{start:function(){function n(){e&&e.end()}var t,e=y.start();return e.done(function(){if(e=null,!h&&(h=l()))return e=h.start(),e.done(function(){e=null,d(),t.complete()}),e;d(),t.complete()}),t=new i({end:n,cancel:n})}}}function m(n,t,e,a){var r=v(n),o=v(t),s=[];if(B(a,function(n){var t=n.out,a=n.in,r=d(e,t,a);r&&s.push(r)}),r||o||0!==s.length)return{start:function(){function n(){B(t,function(n){n.end()})}var t=[];r&&t.push(r.start()),o&&t.push(o.start()),B(s,function(n){t.push(n.start())});var e=new i({end:n,cancel:n});return i.all(t,function(n){e.complete(n)}),e}}}function v(t){var e=t.element,a=t.options||{};t.structural&&(a.event=t.event,a.structural=!0,a.applyClassesEarly=!0,"leave"===t.event&&(a.onDone=a.domOperation)),a.preparationClasses&&(a.event=A(a.event,a.preparationClasses));var r=n(e,a);return r.$$willAnimate?r:null}if(!s.animations&&!s.transitions)return Z;var p=l[0].body,h=g(o),$=Y(t(h)||p.contains(h)?h:p);return function(n){return n.from&&n.to?m(n.from,n.to,n.classes,n.anchors):v(n)}}]}],Cn=["$animateProvider",function(n){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,e,a){function r(e){e=J(e)?e:e.split(" ");for(var a=[],r={},i=0;i<e.length;i++){var o=e[i],s=n.$$registeredAnimations[o];s&&!r[o]&&(a.push(t.get(s)),r[o]=!0)}return a}var i=f(a);return function(n,t,a,o){function s(){o.domOperation(),i(n,o)}function u(){v=!0,s(),m(n,o)}function l(n,t,a,r,i){var o;switch(a){case"animate":o=[t,r.from,r.to,i];break;case"setClass":o=[t,$,g,i];break;case"addClass":o=[t,$,i];break;case"removeClass":o=[t,g,i];break;default:o=[t,i]}o.push(r);var s=n.apply(n,o);if(s)if(V(s.start)&&(s=s.start()),s instanceof e)s.done(i);else if(V(s))return s;return Z}function c(n,t,a,r,i){var o=[];return B(r,function(r){var s=r[i];s&&o.push(function(){var r,i,o=!1,u=function(n){o||(o=!0,(i||Z)(n),r.complete(!n))};return r=new e({end:function(){u()},cancel:function(){u(!0)}}),i=l(s,n,t,a,function(n){u(!1===n)}),r})}),o}function f(n,t,a,r,i){var o=c(n,t,a,r,i);if(0===o.length){var s,u;"beforeSetClass"===i?(s=c(n,"removeClass",a,r,"beforeRemoveClass"),u=c(n,"addClass",a,r,"beforeAddClass")):"setClass"===i&&(s=c(n,"removeClass",a,r,"removeClass"),u=c(n,"addClass",a,r,"addClass")),s&&(o=o.concat(s)),u&&(o=o.concat(u))}if(0!==o.length)return function(n){var t=[];return o.length&&B(o,function(n){t.push(n())}),t.length?e.all(t,n):n(),function(n){B(t,function(t){n?t.cancel():t.end()})}}}var v=!1;3===arguments.length&&z(a)&&(o=a,a=null),o=d(o),a||(a=n.attr("class")||"",o.addClass&&(a+=" "+o.addClass),o.removeClass&&(a+=" "+o.removeClass));var p,h,$=o.addClass,g=o.removeClass,C=r(a);if(C.length){var y,D;"leave"===t?(D="leave",y="afterLeave"):(D="before"+t.charAt(0).toUpperCase()+t.substr(1),y=t),"enter"!==t&&"move"!==t&&(p=f(n,t,o,C,D)),h=f(n,t,o,C,y)}if(p||h){var b;return{$$willAnimate:!0,end:function(){return b?b.end():(u(),b=new e,b.complete(!0)),b},start:function(){function n(n){u(n),b.complete(n)}function t(t){v||((a||Z)(t),n(t))}if(b)return b;b=new e;var a,r=[];return p&&r.push(function(n){a=p(n)}),r.length?r.push(function(n){s(),n(!0)}):s(),h&&r.push(function(n){a=h(n)}),b.setHost({end:function(){t()},cancel:function(){t(!0)}}),e.chain(r,n),b}}}}}]}],yn=["$$animationProvider",function(n){n.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(n,t){function e(t){var e=t.element,a=t.event,r=t.options,i=t.classes;return n(e,a,i,r)}return function(n){if(n.from&&n.to){var a=e(n.from),r=e(n.to);if(!a&&!r)return;return{start:function(){function n(){return function(){B(i,function(n){n.end()})}}function e(n){o.complete(n)}var i=[];a&&i.push(a.start()),r&&i.push(r.start()),t.all(i,e);var o=new t({end:n(),cancel:n()});return o}}}return e(n)}}]}],Dn="data-ng-animate",bn="$ngAnimatePin",An=["$animateProvider",function(t){function a(n){return{addClass:n.addClass,removeClass:n.removeClass,from:n.from,to:n.to}}function r(n){if(!n)return null;var t=n.split(p),e=Object.create(null);return B(t,function(n){e[n]=!0}),e}function i(n,t){if(n&&t){var e=r(t);return n.split(p).some(function(n){return e[n]})}}function o(n,t,e){return $[n].some(function(n){return n(t,e)})}function l(n,t){var e=(n.addClass||"").length>0,a=(n.removeClass||"").length>0;return t?e&&a:e||a}var c=1,v=2,p=" ",$=this.rules={skip:[],cancel:[],join:[]};$.join.push(function(n,t){return!n.structural&&l(n)}),$.skip.push(function(n,t){return!n.structural&&!l(n)}),$.skip.push(function(n,t){return"leave"===t.event&&n.structural}),$.skip.push(function(n,t){return t.structural&&t.state===v&&!n.structural}),$.cancel.push(function(n,t){return t.structural&&n.structural}),$.cancel.push(function(n,t){return t.state===v&&n.structural}),$.cancel.push(function(n,t){if(t.structural)return!1;var e=n.addClass,a=n.removeClass,r=t.addClass,o=t.removeClass;return!(X(e)&&X(a)||X(r)&&X(o))&&(i(e,o)||i(a,r))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(r,i,p,$,D,b,A,k,w,T,S){function j(n){Z.delete(n.target)}function x(){var n=!1;return function(t){n?t():i.$$postDigest(function(){n=!0,t()})}}function O(n,t){return h(n,t,{})}function P(n,t,e){var a=[],r=tn[e];return r&&B(r,function(r){ln.call(r.node,t)?a.push(r.callback):"leave"===e&&ln.call(r.node,n)&&a.push(r.callback)}),a}function N(n,t,e){var a=u(t);return n.filter(function(n){return!(n.node===a&&(!e||n.callback===e))})}function F(n,t){"close"!==n||t.parentNode||cn.off(t)}function M(n,t,e){function u(n,t,e,a){j(function(){var n=P(k,D,t);n.length?r(function(){B(n,function(n){n($,e,a)}),F(e,D)}):F(e,D)}),n.progress(t,e,a)}function f(n){y($,p),un($,p),m($,p),p.domOperation(),T.complete(!n)}var p=H(e),$=s(n),D=g($),k=D&&D.parentNode;p=d(p);var T=new A,j=x();if(J(p.addClass)&&(p.addClass=p.addClass.join(" ")),p.addClass&&!G(p.addClass)&&(p.addClass=null),J(p.removeClass)&&(p.removeClass=p.removeClass.join(" ")),p.removeClass&&!G(p.removeClass)&&(p.removeClass=null),p.from&&!z(p.from)&&(p.from=null),p.to&&!z(p.to)&&(p.to=null),!(_&&D&&on(D,t,e)&&sn(D,p)))return f(),T;var N=["enter","move","leave"].indexOf(t)>=0,M=S(),E=M||Z.get(D),L=!E&&V.get(D)||{},W=!!L.state;if(E||W&&L.state===c||(E=!q(D,k,t)),E)return M&&u(T,t,"start",a(p)),f(),M&&u(T,t,"close",a(p)),T;N&&I(D);var Q={structural:N,element:$,event:t,addClass:p.addClass,removeClass:p.removeClass,close:f,options:p,runner:T};if(W){if(o("skip",Q,L))return L.state===v?(f(),T):(h($,L,Q),L.runner);if(o("cancel",Q,L))if(L.state===v)L.runner.end();else{if(!L.structural)return h($,L,Q),L.runner;L.close()}else{if(o("join",Q,L)){if(L.state!==v)return C(w,$,N?t:null,p),t=Q.event=L.event,p=h($,L,Q),L.runner;O($,Q)}}}else O($,Q);var U=Q.structural;if(U||(U="animate"===Q.event&&Object.keys(Q.options.to||{}).length>0||l(Q)),!U)return f(),R(D),T;var X=(L.counter||0)+1;return Q.counter=X,K(D,c,Q),i.$$postDigest(function(){$=s(n);var e=V.get(D),r=!e;e=e||{};var i=$.parent()||[],o=i.length>0&&("animate"===e.event||e.structural||l(e));if(r||e.counter!==X||!o)return r&&(un($,p),m($,p)),(r||N&&e.event!==t)&&(p.domOperation(),T.end()),void(o||R(D));t=!e.structural&&l(e,!0)?"setClass":e.event,K(D,v);var c=b($,t,e.options);T.setHost(c),u(T,t,"start",a(p)),c.done(function(n){f(!n);var e=V.get(D);e&&e.counter===X&&R(D),u(T,t,"close",a(p))})}),T}function I(n){var t=n.querySelectorAll("["+Dn+"]");B(t,function(n){var t=parseInt(n.getAttribute(Dn),10),e=V.get(n);if(e)switch(t){case v:e.runner.end();case c:V.delete(n)}})}function R(n){n.removeAttribute(Dn),V.delete(n)}function q(n,t,e){var a,r=$[0].body,i=g(p),o=n===r||"HTML"===n.nodeName,s=n===i,u=!1,l=Z.get(n),c=Y.data(n,bn);for(c&&(t=g(c));t&&(s||(s=t===i),t.nodeType===E);){var f=V.get(t)||{};if(!u){var d=Z.get(t);if(!0===d&&!1!==l){l=!0;break}!1===d&&(l=!1),u=f.structural}if(X(a)||!0===a){var m=Y.data(t,L);Q(m)&&(a=m)}if(u&&!1===a)break;if(o||(o=t===r),o&&s)break;t=s||!(c=Y.data(t,bn))?t.parentNode:g(c)}return(!u||a)&&!0!==l&&s&&o}function K(n,t,e){e=e||{},e.state=t,n.setAttribute(Dn,t);var a=V.get(n),r=a?W(a,e):e;V.set(n,r)}var V=new D,Z=new D,_=null,nn=i.$watch(function(){return 0===k.totalPendingRequests},function(n){n&&(nn(),i.$$postDigest(function(){i.$$postDigest(function(){null===_&&(_=!0)})}))}),tn=Object.create(null),en=t.customFilter(),an=t.classNameFilter(),rn=function(){return!0},on=en||rn,sn=an?function(n,t){var e=[n.getAttribute("class"),t.addClass,t.removeClass].join(" ");return an.test(e)}:rn,un=f(w),ln=n.Node.prototype.contains||function(n){return this===n||!!(16&this.compareDocumentPosition(n))},cn={on:function(n,t,e){var a=u(t);tn[n]=tn[n]||[],tn[n].push({node:a,callback:e}),Y(t).on("$destroy",function(){V.get(a)||cn.off(n,t,e)})},off:function(n,t,e){if(1!==arguments.length||G(arguments[0])){var a=tn[n];a&&(tn[n]=1===arguments.length?null:N(a,t,e))}else{t=arguments[0];for(var r in tn)tn[r]=N(tn[r],t)}},pin:function(n,t){e(U(n),"element","not an element"),e(U(t),"parentElement","not an element"),n.data(bn,t)},push:function(n,t,e,a){return e=e||{},e.domOperation=a,M(n,t,e)},enabled:function(n,t){var e=arguments.length;if(0===e)t=!!_;else{if(U(n)){var a=g(n);1===e?t=!Z.get(a):(Z.has(a)||Y(n).on("$destroy",j),Z.set(a,!t))}else t=_=!!n}return t}};return cn}]}],kn=function(){var n="$$ngAnimateParentKey",t=0,e=Object.create(null);this.$get=[function(){return{cacheKey:function(e,a,r,i){var o=e.parentNode,s=o[n]||(o[n]=++t),u=[s,a,e.getAttribute("class")];return r&&u.push(r),i&&u.push(i),u.join(" ")},containsCachedAnimationWithoutDuration:function(n){var t=e[n];return t&&!t.isValid||!1},flush:function(){e=Object.create(null)},count:function(n){var t=e[n];return t?t.total:0},get:function(n){var t=e[n];return t&&t.value},put:function(n,t,a){e[n]?(e[n].total++,e[n].value=t):e[n]={total:1,value:t,isValid:a}}}}]},wn=["$animateProvider",function(n){function t(n,t){n.data(s,t)}function e(n){n.removeData(s)}function r(n){return n.data(s)}var i="ng-animate-ref",o=this.drivers=[],s="$$animationRunner",u="$$animatePrepareClasses";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler","$$animateCache",function(n,s,l,c,v,p,h){function $(n){function t(n){if(n.processed)return n;n.processed=!0;var e=n.domNode,i=e.parentNode;r.set(e,n);for(var o;i;){if(o=r.get(i)){o.processed||(o=t(o));break}i=i.parentNode}return(o||a).children.push(n),n}var e,a={children:[]},r=new v;for(e=0;e<n.length;e++){var i=n[e];r.set(i.domNode,n[e]={domNode:i.domNode,element:i.element,fn:i.fn,children:[]})}for(e=0;e<n.length;e++)t(n[e]);return function(n){var t,e=[],a=[];for(t=0;t<n.children.length;t++)a.push(n.children[t]);var r=a.length,i=0,o=[];for(t=0;t<a.length;t++){var s=a[t];r<=0&&(r=i,i=0,e.push(o),o=[]),o.push(s),s.children.forEach(function(n){i++,a.push(n)}),r--}return o.length&&e.push(o),e}(a)}var C=[],y=f(n);return function(f,v,D){function b(n){var t="["+i+"]",e=n.hasAttribute(i)?[n]:n.querySelectorAll(t),a=[];return B(e,function(n){var t=n.getAttribute(i);t&&t.length&&a.push(n)}),a}function A(n){var t=[],e={};B(n,function(n,a){var r=n.element,o=g(r),s=n.event,u=["enter","move"].indexOf(s)>=0,l=n.structural?b(o):[];if(l.length){var c=u?"to":"from";B(l,function(n){var t=n.getAttribute(i);e[t]=e[t]||{},e[t][c]={animationID:a,element:Y(n)}})}else t.push(n)});var a={},r={};return B(e,function(e,i){var o=e.from,s=e.to;if(!o||!s){var u=o?o.animationID:s.animationID,l=u.toString();return void(a[l]||(a[l]=!0,t.push(n[u])))}var c=n[o.animationID],f=n[s.animationID],d=o.animationID.toString();if(!r[d]){var m=r[d]={structural:!0,beforeStart:function(){c.beforeStart(),f.beforeStart()},close:function(){c.close(),f.close()},classes:k(c.classes,f.classes),from:c,to:f,anchors:[]};m.classes.length?t.push(m):(t.push(c),t.push(f))}r[d].anchors.push({out:o.element,in:s.element})}),t}function k(n,t){n=n.split(" "),t=t.split(" ");for(var e=[],a=0;a<n.length;a++){var r=n[a];if("ng-"!==r.substring(0,3))for(var i=0;i<t.length;i++)if(r===t[i]){e.push(r);break}}return e.join(" ")}function w(n){for(var t=o.length-1;t>=0;t--){var e=o[t],a=l.get(e),r=a(n);if(r)return r}}function T(){F=(F?F+" ":"")+K,n.addClass(f,F);var t=f.data(u);t&&(n.removeClass(f,t),t=null)}function S(n,t){function e(n){var e=r(n);e&&e.setHost(t)}n.from&&n.to?(e(n.from.element),e(n.to.element)):e(n.element)}function j(){var n=r(f);!n||"leave"===v&&D.$$domOperationFired||n.end()}function x(t){f.off("$destroy",j),e(f),y(f,D),m(f,D),D.domOperation(),F&&n.removeClass(f,F),P.complete(!t)}D=d(D);var O=["enter","move","leave"].indexOf(v)>=0,P=new c({end:function(){x()},cancel:function(){x(!0)}});if(!o.length)return x(),P;var N=a(f.attr("class"),a(D.addClass,D.removeClass)),F=D.tempClasses;return F&&(N+=" "+F,D.tempClasses=null),O&&f.data(u,"ng-"+v+"-prepare"),t(f,P),C.push({element:f,classes:N,event:v,structural:O,options:D,beforeStart:T,close:x}),f.on("$destroy",j),C.length>1?P:(s.$$postDigest(function(){var t=[];B(C,function(n){r(n.element)?t.push(n):n.close()}),C.length=0;var e=A(t),a=[];B(e,function(n){var t=n.from?n.from.element:n.element,e=D.addClass;e=(e?e+" ":"")+K;var i=h.cacheKey(t[0],n.event,e,D.removeClass);a.push({element:t,domNode:g(t),fn:function(){var t,e=n.close;if(h.containsCachedAnimationWithoutDuration(i))return void e();if(n.beforeStart(),r(n.anchors?n.from.element||n.to.element:n.element)){var a=w(n);a&&(t=a.start)}if(t){var o=t();o.done(function(n){e(!n)}),S(n,o)}else e()}})});for(var i=$(a),o=0;o<i.length;o++)for(var s=i[o],l=0;l<s.length;l++){var c=s[l],f=c.element;if(i[o][l]=c.fn,0!==o){var d=f.data(u);d&&n.addClass(f,d)}else f.removeData(u)}p(i)}),P)}}]}],Tn=["$animate",function(n){return{restrict:"A",transclude:"element",terminal:!0,priority:550,link:function(t,e,a,r,i){var o,s;t.$watchCollection(a.ngAnimateSwap||a.for,function(t){o&&n.leave(o),s&&(s.$destroy(),s=null),(t||0===t)&&i(function(t,a){o=t,s=a,n.enter(t,null,e)})})}}}];t.module("ngAnimate",[],function(){Z=t.noop,H=t.copy,W=t.extend,Y=t.element,B=t.forEach,J=t.isArray,G=t.isString,z=t.isObject,X=t.isUndefined,Q=t.isDefined,V=t.isFunction,U=t.isElement}).info({angularVersion:"1.7.8"}).directive("ngAnimateSwap",Tn).directive("ngAnimateChildren",cn).factory("$$rAFScheduler",ln).provider("$$animateQueue",An).provider("$$animateCache",kn).provider("$$animation",wn).provider("$animateCss",$n).provider("$$animateCssDriver",gn).provider("$$animateJs",Cn).provider("$$animateJsDriver",yn)}(window,window.angular);
},{}],2:[function(require,module,exports){
require("./angular-animate"),module.exports="ngAnimate";
},{"./angular-animate":1}],3:[function(require,module,exports){
!function(e,r){"use strict";function n(e,r){if(l(e)){r=r||[];for(var n=0,t=e.length;n<t;n++)r[n]=e[n]}else if(s(e)){r=r||{};for(var a in e)"$"===a.charAt(0)&&"$"===a.charAt(1)||(r[a]=e[a])}return r||e}function t(e,r){var n=[],t=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(e,r,t,a){var i="?"===a||"*?"===a,o="*"===a||"*?"===a;return n.push({name:t,optional:i}),r=r||"",(i?"(?:"+r:r+"(?:")+(o?"(.+?)":"([^/]+)")+(i?"?)?":")")}).replace(/([/$*])/g,"\\$1");return r.ignoreTrailingSlashes&&(t=t.replace(/\/+$/,"")+"/*"),{keys:n,regexp:new RegExp("^"+t+"(?:[?#]|$)",r.caseInsensitiveMatch?"i":"")}}function a(){function e(e,n){return r.extend(Object.create(e),n)}l=r.isArray,s=r.isObject,f=r.isDefined,h=r.noop;var a={};this.when=function(e,i){var o=n(i);if(r.isUndefined(o.reloadOnUrl)&&(o.reloadOnUrl=!0),r.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0),r.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch),a[e]=r.extend(o,{originalPath:e},e&&t(e,o)),e){var c="/"===e[e.length-1]?e.substr(0,e.length-1):e+"/";a[c]=r.extend({originalPath:e,redirectTo:e},t(c,o))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},d=!0,this.eagerInstantiationEnabled=function(e){return f(e)?(d=e,this):d},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function(n,t,i,o,c,u,l,s){function f(e,r){var n=r.keys,t={};if(!r.regexp)return null;var a=r.regexp.exec(e);if(!a)return null;for(var i=1,o=a.length;i<o;++i){var c=n[i-1],u=a[i];c&&u&&(t[c.name]=u)}return t}function d(e){var r=D.current;S=P(),(x=C(S,r))||!r&&!S||n.$broadcast("$routeChangeStart",S,r).defaultPrevented&&e&&e.preventDefault()}function $(){var e=D.current,t=S;if(x)e.params=t.params,r.copy(e.params,i),n.$broadcast("$routeUpdate",e);else if(t||e){y=!1,D.current=t;var a=o.resolve(t);s.$$incOutstandingRequestCount("$route"),a.then(v).then(g).then(function(o){return o&&a.then(m).then(function(a){t===D.current&&(t&&(t.locals=a,r.copy(t.params,i)),n.$broadcast("$routeChangeSuccess",t,e))})}).catch(function(r){t===D.current&&n.$broadcast("$routeChangeError",t,e,r)}).finally(function(){s.$$completeOutstandingRequest(h,"$route")})}}function v(e){var n={route:e,hasRedirection:!1};if(e)if(e.redirectTo)if(r.isString(e.redirectTo))n.path=R(e.redirectTo,e.params),n.search=e.params,n.hasRedirection=!0;else{var a=t.path(),i=t.search(),u=e.redirectTo(e.pathParams,a,i);r.isDefined(u)&&(n.url=u,n.hasRedirection=!0)}else if(e.resolveRedirectTo)return o.resolve(c.invoke(e.resolveRedirectTo)).then(function(e){return r.isDefined(e)&&(n.url=e,n.hasRedirection=!0),n});return n}function g(e){var r=!0;if(e.route!==D.current)r=!1;else if(e.hasRedirection){var n=t.url(),a=e.url;a?t.url(a).replace():a=t.path(e.path).search(e.search).replace().url(),a!==n&&(r=!1)}return r}function m(e){if(e){var n=r.extend({},e.resolve);r.forEach(n,function(e,t){n[t]=r.isString(e)?c.get(e):c.invoke(e,null,null,t)});var t=w(e);return r.isDefined(t)&&(n.$template=t),o.all(n)}}function w(e){var n,t;return r.isDefined(n=e.template)?r.isFunction(n)&&(n=n(e.params)):r.isDefined(t=e.templateUrl)&&(r.isFunction(t)&&(t=t(e.params)),r.isDefined(t)&&(e.loadedTemplateUrl=l.valueOf(t),n=u(t))),n}function P(){var n,i;return r.forEach(a,function(a,o){!i&&(n=f(t.path(),a))&&(i=e(a,{params:r.extend({},t.search(),n),pathParams:n}),i.$$route=a)}),i||a[null]&&e(a[null],{params:{},pathParams:{}})}function C(e,n){return!y&&e&&n&&e.$$route===n.$$route&&(!e.reloadOnUrl||!e.reloadOnSearch&&r.equals(e.pathParams,n.pathParams))}function R(e,n){var t=[];return r.forEach((e||"").split(":"),function(e,r){if(0===r)t.push(e);else{var a=e.match(/(\w+)(?:[?*])?(.*)/),i=a[1];t.push(n[i]),t.push(a[2]||""),delete n[i]}}),t.join("")}var S,x,y=!1,D={routes:a,reload:function(){y=!0;var e={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,y=!1}};n.$evalAsync(function(){d(e),e.defaultPrevented||$()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw p("norout","Tried updating route with no current route");e=r.extend({},this.current.params,e),t.path(R(this.current.$$route.originalPath,e)),t.search(e)}};return n.$on("$locationChangeStart",d),n.$on("$locationChangeSuccess",$),D}]}function i(e){d&&e.get("$route")}function o(){this.$get=function(){return{}}}function c(e,n,t){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,i,o,c,u){function l(){d&&(t.cancel(d),d=null),f&&(f.$destroy(),f=null),h&&(d=t.leave(h),d.done(function(e){!1!==e&&(d=null)}),h=null)}function s(){var o=e.current&&e.current.locals,c=o&&o.$template;if(r.isDefined(c)){var s=a.$new(),d=e.current,v=u(s,function(e){t.enter(e,null,h||i).done(function(e){!1===e||!r.isDefined($)||$&&!a.$eval($)||n()}),l()});h=v,f=d.scope=s,f.$emit("$viewContentLoaded"),f.$eval(p)}else l()}var f,h,d,$=o.autoscroll,p=o.onload||"";a.$on("$routeChangeSuccess",s),s()}}}function u(e,r,n){return{restrict:"ECA",priority:-400,link:function(t,a){var i=n.current,o=i.locals;a.html(o.$template);var c=e(a.contents());if(i.controller){o.$scope=t;var u=r(i.controller,o);i.controllerAs&&(t[i.controllerAs]=u),a.data("$ngControllerController",u),a.children().data("$ngControllerController",u)}t[i.resolveAs||"$resolve"]=o,c(t)}}}var l,s,f,h,d,$=r.module("ngRoute",[]).info({angularVersion:"1.7.8"}).provider("$route",a).run(i),p=r.$$minErr("ngRoute");i.$inject=["$injector"],$.provider("$routeParams",o),$.directive("ngView",c),$.directive("ngView",u),c.$inject=["$route","$anchorScroll","$animate"],u.$inject=["$compile","$controller","$route"]}(window,window.angular);
},{}],4:[function(require,module,exports){
require("./angular-route"),module.exports="ngRoute";
},{"./angular-route":3}],5:[function(require,module,exports){
angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(e,t,n,a){var i=a.has("$animateCss")?a.get("$animateCss"):null;return{link:function(a,o,r){function l(e){return g?{width:e.scrollWidth+"px"}:{height:e.scrollHeight+"px"}}function s(){o.hasClass("collapse")&&o.hasClass("in")||t.resolve(d(a)).then(function(){o.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),i?i(o,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:l(o[0])}).start().finally(u):e.addClass(o,"in",{css:{overflow:"hidden"},to:l(o[0])}).then(u)},angular.noop)}function u(){o.removeClass("collapsing").addClass("collapse").css(b),m(a)}function p(){if(!o.hasClass("collapse")&&!o.hasClass("in"))return c();t.resolve(f(a)).then(function(){o.css(l(o[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),i?i(o,{removeClass:"in",to:v}).start().finally(c):e.removeClass(o,"in",{to:v}).then(c)},angular.noop)}function c(){o.css(v),o.removeClass("collapsing").addClass("collapse"),h(a)}var d=n(r.expanding),m=n(r.expanded),f=n(r.collapsing),h=n(r.collapsed),g=!1,b={},v={};!function(){g=!!("horizontal"in r),g?(b={width:""},v={width:"0"}):(b={height:""},v={height:"0"}),a.$eval(r.uibCollapse)||o.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(b)}(),a.$watch(r.uibCollapse,function(e){e?p():s()})}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(e,t,n){n.$observe("disabled",function(e){n.$set("tabindex",e?-1:null)})}}}),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(a){(angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers)&&angular.forEach(this.groups,function(e){e!==a&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,a){t.addClass("panel"),a.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass||"panel-default",e.$watch("isOpen",function(n){t.toggleClass(e.openClass,!!n),n&&a.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)};var i="accordiongroup-"+e.$id+"-"+Math.floor(1e4*Math.random());e.headingId=i+"-tab",e.panelId=i+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,a,i){a.setHeading(i(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(e,t,n,a){e.$watch(function(){return a[n.uibAccordionTransclude]},function(e){if(e){var n=angular.element(t[0].querySelector("uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"));n.html(""),n.append(e)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(e,t,n,a,i){e.closeable=!!n.close,t.addClass("alert"),n.$set("role","alert"),e.closeable&&t.addClass("alert-dismissible");var o=angular.isDefined(n.dismissOnTimeout)?a(n.dismissOnTimeout)(e.$parent):null;o&&i(function(){e.close()},parseInt(o,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(e){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,n,a,i){var o=i[0],r=i[1],l=e(a.uibUncheckable);n.find("input").css({display:"none"}),r.$render=function(){n.toggleClass(o.activeClass,angular.equals(r.$modelValue,t.$eval(a.uibBtnRadio)))},n.on(o.toggleEvent,function(){if(!a.disabled){var e=n.hasClass(o.activeClass);e&&!angular.isDefined(a.uncheckable)||t.$apply(function(){r.$setViewValue(e?null:t.$eval(a.uibBtnRadio)),r.$render()})}}),a.uibUncheckable&&t.$watch(l,function(e){a.$set("uncheckable",e?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(e,t,n,a){function i(){return r(n.btnCheckboxTrue,!0)}function o(){return r(n.btnCheckboxFalse,!1)}function r(t,n){return angular.isDefined(t)?e.$eval(t):n}var l=a[0],s=a[1];t.find("input").css({display:"none"}),s.$render=function(){t.toggleClass(l.activeClass,angular.equals(s.$modelValue,i()))},t.on(l.toggleEvent,function(){n.disabled||e.$apply(function(){s.$setViewValue(t.hasClass(l.activeClass)?o():i()),s.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(e,t,n,a,i){function o(e){for(var t=0;t<h.length;t++)h[t].slide.active=t===e}function r(n,a,r){if(!v){if(angular.extend(n,{direction:r}),angular.extend(h[b].slide||{},{direction:r}),i.enabled(t)&&!e.$currentTransition&&h[a].element&&f.slides.length>1){h[a].element.data(g,n.direction);var l=f.getCurrentIndex();angular.isNumber(l)&&h[l].element&&h[l].element.data(g,n.direction),e.$currentTransition=!0,i.on("addClass",h[a].element,function(t,n){"close"===n&&(e.$currentTransition=null,i.off("addClass",t))})}e.active=n.index,b=n.index,o(a),p()}}function l(e){for(var t=0;t<h.length;t++)if(h[t].slide===e)return t}function s(){d&&(n.cancel(d),d=null)}function u(t){t.length||(e.$currentTransition=null)}function p(){s();var t=+e.interval;!isNaN(t)&&t>0&&(d=n(c,t))}function c(){var t=+e.interval;m&&!isNaN(t)&&t>0&&h.length?e.next():e.pause()}var d,m,f=this,h=f.slides=e.slides=[],g="uib-slideDirection",b=e.active,v=!1;t.addClass("carousel"),f.addSlide=function(t,n){h.push({slide:t,element:n}),h.sort(function(e,t){return+e.slide.index-+t.slide.index}),(t.index===e.active||1===h.length&&!angular.isNumber(e.active))&&(e.$currentTransition&&(e.$currentTransition=null),b=t.index,e.active=t.index,o(b),f.select(h[l(t)]),1===h.length&&e.play())},f.getCurrentIndex=function(){for(var e=0;e<h.length;e++)if(h[e].slide.index===b)return e},f.next=e.next=function(){var t=(f.getCurrentIndex()+1)%h.length;return 0===t&&e.noWrap()?void e.pause():f.select(h[t],"next")},f.prev=e.prev=function(){var t=f.getCurrentIndex()-1<0?h.length-1:f.getCurrentIndex()-1;return e.noWrap()&&t===h.length-1?void e.pause():f.select(h[t],"prev")},f.removeSlide=function(t){var n=l(t);h.splice(n,1),h.length>0&&b===n?n>=h.length?(b=h.length-1,e.active=b,o(b),f.select(h[h.length-1])):(b=n,e.active=b,o(b),f.select(h[n])):b>n&&(b--,e.active=b),0===h.length&&(b=null,e.active=null)},f.select=e.select=function(t,n){var a=l(t.slide);void 0===n&&(n=a>f.getCurrentIndex()?"next":"prev"),t.slide.index===b||e.$currentTransition||r(t.slide,a,n)},e.indexOfSlide=function(e){return+e.slide.index},e.isActive=function(t){return e.active===t.slide.index},e.isPrevDisabled=function(){return 0===e.active&&e.noWrap()},e.isNextDisabled=function(){return e.active===h.length-1&&e.noWrap()},e.pause=function(){e.noPause||(m=!1,s())},e.play=function(){m||(m=!0,p())},t.on("mouseenter",e.pause),t.on("mouseleave",e.play),e.$on("$destroy",function(){v=!0,s()}),e.$watch("noTransition",function(e){i.enabled(t,!e)}),e.$watch("interval",p),e.$watchCollection("slides",u),e.$watch("active",function(e){if(angular.isNumber(e)&&b!==e){for(var t=0;t<h.length;t++)if(h[t].slide.index===e){e=t;break}h[e]&&(o(e),f.select(h[e]),b=e)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(e){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(t,n,a,i){n.addClass("item"),i.addSlide(t,n),t.$on("$destroy",function(){i.removeSlide(t)}),t.$watch("active",function(t){e[t?"addClass":"removeClass"](n,"active")})}}}]).animation(".item",["$animateCss",function(e){function t(e,t,n){e.removeClass(t),n&&n()}return{beforeAddClass:function(n,a,i){if("active"===a){var o=!1,r=n.data("uib-slideDirection"),l="next"===r?"left":"right",s=t.bind(this,n,l+" "+r,i);return n.addClass(r),e(n,{addClass:l}).start().done(s),function(){o=!0}}i()},beforeRemoveClass:function(n,a,i){if("active"===a){var o=!1,r=n.data("uib-slideDirection"),l="next"===r?"left":"right",s=t.bind(this,n,l,i);return e(n,{addClass:l}).start().done(s),function(){o=!0}}i()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function(e,t,n,a,i){function o(e){return i(v,{key:e},!0)[0]}function r(e){var t=[],n=e.split(""),i=e.indexOf("'");if(i>-1){var o=!1;e=e.split("");for(var r=i;r<e.length;r++)o?("'"===e[r]&&(r+1<e.length&&"'"===e[r+1]?(e[r+1]="$",n[r+1]=""):(n[r]="",o=!1)),e[r]="$"):"'"===e[r]&&(e[r]="$",n[r]="",o=!0);e=e.join("")}return angular.forEach(v,function(a){var i=e.indexOf(a.key);if(i>-1){e=e.split(""),n[i]="("+a.regex+")",e[i]="$";for(var o=i+1,r=i+a.key.length;o<r;o++)n[o]="",e[o]="$";e=e.join(""),t.push({index:i,key:a.key,apply:a.apply,matcher:a.regex})}}),{regex:new RegExp("^"+n.join("")+"$"),map:a(t,"index")}}function l(e){for(var t,n,a=[],i=0;i<e.length;)if(angular.isNumber(n)){if("'"===e.charAt(i))(i+1>=e.length||"'"!==e.charAt(i+1))&&(a.push(s(e,n,i)),n=null);else if(i===e.length)for(;n<e.length;)t=u(e,n),a.push(t),n=t.endIdx;i++}else"'"!==e.charAt(i)?(t=u(e,i),a.push(t.parser),i=t.endIdx):(n=i,i++);return a}function s(e,t,n){return function(){return e.substr(t+1,n-t-1)}}function u(e,t){for(var n=e.substr(t),a=0;a<v.length;a++)if(new RegExp("^"+v[a].key).test(n)){var i=v[a];return{endIdx:t+i.key.length,parser:i.formatter}}return{endIdx:t+1,parser:function(){return n.charAt(0)}}}function p(e,t,n){return!(n<1)&&(1===t&&n>28?29===n&&(e%4==0&&e%100!=0||e%400==0):3!==t&&5!==t&&8!==t&&10!==t||n<31)}function c(e){return parseInt(e,10)}function d(e,t){return e&&t?g(e,t):e}function m(e,t){return e&&t?g(e,t,!0):e}function f(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function h(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function g(e,t,n){n=n?-1:1;var a=e.getTimezoneOffset();return h(e,n*(f(t,a)-a))}var b,v,$=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){b=t.id,this.parsers={},this.formatters={},v=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(e){e=+e,this.year=e<69?e+2e3:e+1900},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return/^[0-9]$/.test(e.getMonth())?n(e,"MM"):n(e,"M")}},{key:"MMMM",regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)},formatter:function(e){return n(e,"MMMM")}},{key:"MMM",regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)},formatter:function(e){return n(e,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return/^[1-9]$/.test(e.getDate())?n(e,"dd"):n(e,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"d")}},{key:"EEEE",regex:t.DATETIME_FORMATS.DAY.join("|"),formatter:function(e){return n(e,"EEEE")}},{key:"EEE",regex:t.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(e){return n(e,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e},formatter:function(e){return n(e,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"s")}},{key:"a",regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)},formatter:function(e){return n(e,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var t=e.match(/([+-])(\d{2})(\d{2})/),n=t[1],a=t[2],i=t[3];this.hours+=c(n+a),this.minutes+=c(n+i)},formatter:function(e){return n(e,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(e){return n(e,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(e){return n(e,"w")}},{key:"GGGG",regex:t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(e){return n(e,"GGGG")}},{key:"GGG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GGG")}},{key:"GG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GG")}},{key:"G",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"G")}}],angular.version.major>=1&&angular.version.minor>4&&v.push({key:"LLLL",regex:t.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.STANDALONEMONTH.indexOf(e)},formatter:function(e){return n(e,"LLLL")}})},this.init(),this.getParser=function(e){var t=o(e);return t&&t.apply||null},this.overrideParser=function(e,t){var n=o(e);n&&angular.isFunction(t)&&(this.parsers={},n.apply=t)}.bind(this),this.filter=function(e,n){return angular.isDate(e)&&!isNaN(e)&&n?(n=t.DATETIME_FORMATS[n]||n,t.id!==b&&this.init(),this.formatters[n]||(this.formatters[n]=l(n)),this.formatters[n].reduce(function(t,n){return t+n(e)},"")):""},this.parse=function(n,a,i){if(!angular.isString(n)||!a)return n;a=t.DATETIME_FORMATS[a]||a,a=a.replace($,"\\$&"),t.id!==b&&this.init(),this.parsers[a]||(this.parsers[a]=r(a));var o=this.parsers[a],l=o.regex,s=o.map,u=n.match(l),c=!1;if(u&&u.length){var d,m;angular.isDate(i)&&!isNaN(i.getTime())?d={year:i.getFullYear(),month:i.getMonth(),date:i.getDate(),hours:i.getHours(),minutes:i.getMinutes(),seconds:i.getSeconds(),milliseconds:i.getMilliseconds()}:(i&&e.warn("dateparser:","baseDate is not a valid date"),d={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var f=1,h=u.length;f<h;f++){var g=s[f-1];"Z"===g.matcher&&(c=!0),g.apply&&g.apply.call(d,u[f])}var v=c?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,y=c?Date.prototype.setUTCHours:Date.prototype.setHours;return p(d.year,d.month,d.date)&&(!angular.isDate(i)||isNaN(i.getTime())||c?(m=new Date(0),v.call(m,d.year,d.month,d.date),y.call(m,d.hours||0,d.minutes||0,d.seconds||0,d.milliseconds||0)):(m=new Date(i),v.call(m,d.year,d.month,d.date),y.call(m,d.hours,d.minutes,d.seconds,d.milliseconds))),m}},this.toTimezone=d,this.fromTimezone=m,this.timezoneToOffset=f,this.addDateMinutes=h,this.convertTimezoneToLocal=g}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(e){var t=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(a,i){function o(e,t,n){s.push(e),u.push({scope:e,element:t}),f.forEach(function(t,n){r(t,e)}),e.$on("$destroy",l)}function r(t,a){var i=t.match(n),o=a.$eval(i[1]),r=i[2],l=p[t];if(!l){var s=function(t){var n=null;u.some(function(e){if(e.scope.$eval(d)===t)return n=e,!0}),l.lastActivated!==n&&(l.lastActivated&&e.removeClass(l.lastActivated.element,o),n&&e.addClass(n.element,o),l.lastActivated=n)};p[t]=l={lastActivated:null,scope:a,watchFn:s,compareWithExp:r,watcher:a.$watch(r,s)}}l.watchFn(a.$eval(r))}function l(e){var t=e.targetScope,n=s.indexOf(t);if(s.splice(n,1),u.splice(n,1),s.length){var a=s[0];angular.forEach(p,function(e){e.scope===t&&(e.watcher=a.$watch(e.compareWithExp,e.watchFn),e.scope=a)})}else p={}}var s=[],u=[],p={},c=i.uibIsClass.match(t),d=c[2],m=c[1],f=m.split(",");return o}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(e,t,n,a,i,o,r,l,s,u,p,c){function d(t){e.datepickerMode=t,e.datepickerOptions.datepickerMode=t}function m(t){var n;if(angular.version.minor<6)n=t.$options||e.datepickerOptions.ngModelOptions||s.ngModelOptions||{},n.getOption=function(e){return n[e]};else{var a=t.$options.getOption("timezone")||(e.datepickerOptions.ngModelOptions?e.datepickerOptions.ngModelOptions.timezone:null)||(s.ngModelOptions?s.ngModelOptions.timezone:null);n=t.$options.createChild(s.ngModelOptions).createChild(e.datepickerOptions.ngModelOptions).createChild(t.$options).createChild({timezone:a})}return n}var f=this,h={$setViewValue:angular.noop},g={},b=[];t.addClass("uib-datepicker"),n.$set("role","application"),e.datepickerOptions||(e.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(t){switch(t){case"customClass":case"dateDisabled":e[t]=e.datepickerOptions[t]||angular.noop;break;case"datepickerMode":e.datepickerMode=angular.isDefined(e.datepickerOptions.datepickerMode)?e.datepickerOptions.datepickerMode:s.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":f[t]=angular.isDefined(e.datepickerOptions[t])?i(e.datepickerOptions[t])(e.$parent):s[t];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":f[t]=angular.isDefined(e.datepickerOptions[t])?e.datepickerOptions[t]:s[t];break;case"startingDay":angular.isDefined(e.datepickerOptions.startingDay)?f.startingDay=e.datepickerOptions.startingDay:angular.isNumber(s.startingDay)?f.startingDay=s.startingDay:f.startingDay=(o.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":e.$watch("datepickerOptions."+t,function(e){e?angular.isDate(e)?f[t]=c.fromTimezone(new Date(e),g.getOption("timezone")):(u&&r.warn("Literal date support has been deprecated, please switch to date object usage"),f[t]=new Date(l(e,"medium"))):f[t]=s[t]?c.fromTimezone(new Date(s[t]),g.getOption("timezone")):null,f.refreshView()});break;case"maxMode":case"minMode":e.datepickerOptions[t]?e.$watch(function(){return e.datepickerOptions[t]},function(n){f[t]=e[t]=angular.isDefined(n)?n:e.datepickerOptions[t],("minMode"===t&&f.modes.indexOf(e.datepickerOptions.datepickerMode)<f.modes.indexOf(f[t])||"maxMode"===t&&f.modes.indexOf(e.datepickerOptions.datepickerMode)>f.modes.indexOf(f[t]))&&(e.datepickerMode=f[t],e.datepickerOptions.datepickerMode=f[t])}):f[t]=e[t]=s[t]||null}}),e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),e.disabled=angular.isDefined(n.disabled)||!1,angular.isDefined(n.ngDisabled)&&b.push(e.$parent.$watch(n.ngDisabled,function(t){e.disabled=t,f.refreshView()})),e.isActive=function(t){return 0===f.compare(t.date,f.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(t){h=t,g=m(h),e.datepickerOptions.initDate?(f.activeDate=c.fromTimezone(e.datepickerOptions.initDate,g.getOption("timezone"))||new Date,e.$watch("datepickerOptions.initDate",function(e){e&&(h.$isEmpty(h.$modelValue)||h.$invalid)&&(f.activeDate=c.fromTimezone(e,g.getOption("timezone")),f.refreshView())})):f.activeDate=new Date;var n=h.$modelValue?new Date(h.$modelValue):new Date;this.activeDate=isNaN(n)?c.fromTimezone(new Date,g.getOption("timezone")):c.fromTimezone(n,g.getOption("timezone")),h.$render=function(){f.render()}},this.render=function(){if(h.$viewValue){var e=new Date(h.$viewValue);!isNaN(e)?this.activeDate=c.fromTimezone(e,g.getOption("timezone")):p||r.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){e.selectedDt=null,this._refreshView(),e.activeDt&&(e.activeDateId=e.activeDt.uid);var t=h.$viewValue?new Date(h.$viewValue):null;t=c.fromTimezone(t,g.getOption("timezone")),h.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,n){var a=h.$viewValue?new Date(h.$viewValue):null;a=c.fromTimezone(a,g.getOption("timezone"));var i=new Date;i=c.fromTimezone(i,g.getOption("timezone"));var o=this.compare(t,i),r={date:t,label:c.filter(t,n),selected:a&&0===this.compare(t,a),disabled:this.isDisabled(t),past:o<0,current:0===o,future:o>0,customClass:this.customClass(t)||null};return a&&0===this.compare(t,a)&&(e.selectedDt=r),f.activeDate&&0===this.compare(r.date,f.activeDate)&&(e.activeDt=r),r},this.isDisabled=function(t){return e.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===f.minMode){var n=h.$viewValue?c.fromTimezone(new Date(h.$viewValue),g.getOption("timezone")):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n=c.toTimezone(n,g.getOption("timezone")),h.$setViewValue(n),h.$render()}else f.activeDate=t,d(f.modes[f.modes.indexOf(e.datepickerMode)-1]),e.$emit("uib:datepicker.mode");e.$broadcast("uib:datepicker.focus")},e.move=function(e){var t=f.activeDate.getFullYear()+e*(f.step.years||0),n=f.activeDate.getMonth()+e*(f.step.months||0);f.activeDate.setFullYear(t,n,1),f.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===f.maxMode&&1===t||e.datepickerMode===f.minMode&&-1===t||(d(f.modes[f.modes.indexOf(e.datepickerMode)+t]),e.$emit("uib:datepicker.mode"))},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var v=function(){f.element[0].focus()};e.$on("uib:datepicker.focus",v),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey&&!e.disabled)if(t.preventDefault(),f.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(f.isDisabled(f.activeDate))return;e.select(f.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(f.handleKeyDown(n,t),f.refreshView()):e.toggleMode("up"===n?1:-1)},t.on("keydown",function(t){e.$apply(function(){e.keydown(t)})}),e.$on("$destroy",function(){for(;b.length;)b.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){function a(e,t){return 1!==t||e%4!=0||e%100==0&&e%400!=0?o[t]:29}function i(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var o=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,a=new Array(t),i=new Date(e),o=0;o<t;)n=new Date(i),a[o++]=n,i.setDate(i.getDate()+1);return a},this._refreshView=function(){var t=this.activeDate.getFullYear(),a=this.activeDate.getMonth(),o=new Date(this.activeDate);o.setFullYear(t,a,1);var r=this.startingDay-o.getDay(),l=r>0?7-r:-r,s=new Date(o);l>0&&s.setDate(1-l);for(var u=this.getDates(s,42),p=0;p<42;p++)u[p]=angular.extend(this.createDateObject(u[p],this.formatDay),{secondary:u[p].getMonth()!==a,uid:e.uniqueId+"-"+p});e.labels=new Array(7);for(var c=0;c<7;c++)e.labels[c]={abbr:n(u[c].date,this.formatDayHeader),full:n(u[c].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(u,7),e.showWeeks){e.weekNumbers=[];for(var d=(11-this.startingDay)%7,m=e.rows.length,f=0;f<m;f++)e.weekNumbers.push(i(e.rows[f][d].date))}},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.setFullYear(e.getFullYear()),a.setFullYear(t.getFullYear()),n-a},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(i,1),n=Math.min(a(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=a(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,a=new Array(12),i=this.activeDate.getFullYear(),o=0;o<12;o++)t=new Date(this.activeDate),t.setFullYear(i,o,1),a[o]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+o});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(a,this.monthColumns),e.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),a=new Date(t.getFullYear(),t.getMonth());return n.setFullYear(e.getFullYear()),a.setFullYear(t.getFullYear()),n-a},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=this.monthColumns;else if("right"===e)n+=1;else if("down"===e)n+=this.monthColumns;else if("pageup"===e||"pagedown"===e){var a=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(a)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,n){function a(e){return parseInt((e-1)/o,10)*o+1}var i,o;this.element=t,this.yearpickerInit=function(){i=this.yearColumns,o=this.yearRows*i,this.step={years:o}},this._refreshView=function(){for(var t,n=new Array(o),r=0,l=a(this.activeDate.getFullYear());r<o;r++)t=new Date(this.activeDate),t.setFullYear(l+r,0,1),n[r]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+r});e.title=[n[0].label,n[o-1].label].join(" - "),e.rows=this.split(n,i),e.columns=i},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=i:"right"===e?n+=1:"down"===e?n+=i:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*o:"home"===e?n=a(this.activeDate.getFullYear()):"end"===e&&(n=a(this.activeDate.getFullYear())+o-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,a){var i=a[0],o=a[1];i.init(o)}}}).directive("uibDaypicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",
link:function(e,t,n,a){var i=a[0];a[1].init(i)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(e,t,n,a){var i=a[0];a[1].init(i)}}}).directive("uibYearpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(e,t,n,a){var i=a[0];angular.extend(i,a[1]),i.yearpickerInit(),i.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var n,a,i={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},o={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},r=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){n=this.getRawNode(n);for(var a=n.offsetParent||e[0].documentElement;a&&a!==e[0].documentElement&&function(e){return"static"===(t.getComputedStyle(e).position||"static")}(a);)a=a.offsetParent;return a||e[0].documentElement},scrollbarWidth:function(i){if(i){if(angular.isUndefined(a)){var o=e.find("body");o.addClass("uib-position-body-scrollbar-measure"),a=t.innerWidth-o[0].clientWidth,a=isFinite(a)?a:0,o.removeClass("uib-position-body-scrollbar-measure")}return a}if(angular.isUndefined(n)){var r=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(r),n=r[0].offsetWidth-r[0].clientWidth,n=isFinite(n)?n:0,r.remove()}return n},scrollbarPadding:function(e){e=this.getRawNode(e);var n=t.getComputedStyle(e),a=this.parseStyle(n.paddingRight),i=this.parseStyle(n.paddingBottom),o=this.scrollParent(e,!1,!0),l=this.scrollbarWidth(r.test(o.tagName));return{scrollbarWidth:l,widthOverflow:o.scrollWidth>o.clientWidth,right:a+l,originalRight:a,heightOverflow:o.scrollHeight>o.clientHeight,bottom:i+l,originalBottom:i}},isScrollable:function(e,n){e=this.getRawNode(e);var a=n?i.hidden:i.normal,o=t.getComputedStyle(e);return a.test(o.overflow+o.overflowY+o.overflowX)},scrollParent:function(n,a,o){n=this.getRawNode(n);var r=a?i.hidden:i.normal,l=e[0].documentElement,s=t.getComputedStyle(n);if(o&&r.test(s.overflow+s.overflowY+s.overflowX))return n;var u="absolute"===s.position,p=n.parentElement||l;if(p===l||"fixed"===s.position)return l;for(;p.parentElement&&p!==l;){var c=t.getComputedStyle(p);if(u&&"static"!==c.position&&(u=!1),!u&&r.test(c.overflow+c.overflowY+c.overflowX))break;p=p.parentElement}return p},position:function(n,a){n=this.getRawNode(n);var i=this.offset(n);if(a){var o=t.getComputedStyle(n);i.top-=this.parseStyle(o.marginTop),i.left-=this.parseStyle(o.marginLeft)}var r=this.offsetParent(n),l={top:0,left:0};return r!==e[0].documentElement&&(l=this.offset(r),l.top+=r.clientTop-r.scrollTop,l.left+=r.clientLeft-r.scrollLeft),{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top-l.top),left:Math.round(i.left-l.left)}},offset:function(n){n=this.getRawNode(n);var a=n.getBoundingClientRect();return{width:Math.round(angular.isNumber(a.width)?a.width:n.offsetWidth),height:Math.round(angular.isNumber(a.height)?a.height:n.offsetHeight),top:Math.round(a.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(a.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(n,a,i){n=this.getRawNode(n),i=!1!==i;var o=n.getBoundingClientRect(),r={top:0,left:0,bottom:0,right:0},l=a?e[0].documentElement:this.scrollParent(n),s=l.getBoundingClientRect();if(r.top=s.top+l.clientTop,r.left=s.left+l.clientLeft,l===e[0].documentElement&&(r.top+=t.pageYOffset,r.left+=t.pageXOffset),r.bottom=r.top+l.clientHeight,r.right=r.left+l.clientWidth,i){var u=t.getComputedStyle(l);r.top+=this.parseStyle(u.paddingTop),r.bottom-=this.parseStyle(u.paddingBottom),r.left+=this.parseStyle(u.paddingLeft),r.right-=this.parseStyle(u.paddingRight)}return{top:Math.round(o.top-r.top),bottom:Math.round(r.bottom-o.bottom),left:Math.round(o.left-r.left),right:Math.round(r.right-o.right)}},parsePlacement:function(e){var t=o.auto.test(e);return t&&(e=e.replace(o.auto,"")),e=e.split("-"),e[0]=e[0]||"top",o.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",o.secondary.test(e[1])||(e[1]="center"),e[2]=!!t,e},positionElements:function(e,n,a,i){e=this.getRawNode(e),n=this.getRawNode(n);var r=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),l=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");a=this.parsePlacement(a);var s=i?this.offset(e):this.position(e),u={top:0,left:0,placement:""};if(a[2]){var p=this.viewportOffset(e,i),c=t.getComputedStyle(n),d={width:r+Math.round(Math.abs(this.parseStyle(c.marginLeft)+this.parseStyle(c.marginRight))),height:l+Math.round(Math.abs(this.parseStyle(c.marginTop)+this.parseStyle(c.marginBottom)))};if(a[0]="top"===a[0]&&d.height>p.top&&d.height<=p.bottom?"bottom":"bottom"===a[0]&&d.height>p.bottom&&d.height<=p.top?"top":"left"===a[0]&&d.width>p.left&&d.width<=p.right?"right":"right"===a[0]&&d.width>p.right&&d.width<=p.left?"left":a[0],a[1]="top"===a[1]&&d.height-s.height>p.bottom&&d.height-s.height<=p.top?"bottom":"bottom"===a[1]&&d.height-s.height>p.top&&d.height-s.height<=p.bottom?"top":"left"===a[1]&&d.width-s.width>p.right&&d.width-s.width<=p.left?"right":"right"===a[1]&&d.width-s.width>p.left&&d.width-s.width<=p.right?"left":a[1],"center"===a[1])if(o.vertical.test(a[0])){var m=s.width/2-r/2;p.left+m<0&&d.width-s.width<=p.right?a[1]="left":p.right+m<0&&d.width-s.width<=p.left&&(a[1]="right")}else{var f=s.height/2-d.height/2;p.top+f<0&&d.height-s.height<=p.bottom?a[1]="top":p.bottom+f<0&&d.height-s.height<=p.top&&(a[1]="bottom")}}switch(a[0]){case"top":u.top=s.top-l;break;case"bottom":u.top=s.top+s.height;break;case"left":u.left=s.left-r;break;case"right":u.left=s.left+s.width}switch(a[1]){case"top":u.top=s.top;break;case"bottom":u.top=s.top+s.height-l;break;case"left":u.left=s.left;break;case"right":u.left=s.left+s.width-r;break;case"center":o.vertical.test(a[0])?u.left=s.left+s.width/2-r/2:u.top=s.top+s.height/2-l/2}return u.top=Math.round(u.top),u.left=Math.round(u.left),u.placement="center"===a[1]?a[0]:a[0]+"-"+a[1],u},adjustTop:function(e,t,n,a){if(-1!==e.indexOf("top")&&n!==a)return{top:t.top-a+"px"}},positionArrow:function(e,n){e=this.getRawNode(e);var a=e.querySelector(".tooltip-inner, .popover-inner");if(a){var i=angular.element(a).hasClass("tooltip-inner"),r=i?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(r){var l={top:"",bottom:"",left:"",right:""};if(n=this.parsePlacement(n),"center"===n[1])return void angular.element(r).css(l);var s="border-"+n[0]+"-width",u=t.getComputedStyle(r)[s],p="border-";o.vertical.test(n[0])?p+=n[0]+"-"+n[1]:p+=n[1]+"-"+n[0],p+="-radius";var c=t.getComputedStyle(i?a:e)[p];switch(n[0]){case"top":l.bottom=i?"0":"-"+u;break;case"bottom":l.top=i?"0":"-"+u;break;case"left":l.right=i?"0":"-"+u;break;case"right":l.left=i?"0":"-"+u}l[n[1]]=c,angular.element(r).css(l)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(e,t,n,a,i,o,r,l,s,u,p,c,d,m,f,h){function g(t){var n=c.parse(t,D,e.date);if(isNaN(n))for(var a=0;a<N.length;a++)if(n=c.parse(t,N[a],e.date),!isNaN(n))return n;return n}function b(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=g(e);if(!isNaN(t))return c.toTimezone(t,I.getOption("timezone"))}return I.getOption("allowInvalid")?e:void 0}function v(e,t){var a=e||t;return!n.ngRequired&&!a||(angular.isNumber(a)&&(a=new Date(a)),!a||(!(!angular.isDate(a)||isNaN(a))||!!angular.isString(a)&&!isNaN(g(a))))}function $(n){if(e.isOpen||!e.disabled){var a=U[0],i=t[0].contains(n.target),o=void 0!==a.contains&&a.contains(n.target);!e.isOpen||i||o||e.$apply(function(){e.isOpen=!1})}}function y(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!1}),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}function w(){if(e.isOpen){var a=angular.element(U[0].querySelector(".uib-datepicker-popup")),i=n.popupPlacement?n.popupPlacement:d.placement,o=u.positionElements(t,a,i,C);a.css({top:o.top+"px",left:o.left+"px"}),a.hasClass("uib-position-measure")&&a.removeClass("uib-position-measure")}}function k(e){var t;return angular.version.minor<6?(t=angular.isObject(e.$options)?e.$options:{timezone:null},t.getOption=function(e){return t[e]}):t=e.$options,t}var D,x,C,M,T,O,S,P,E,A,I,U,N,F=!1,H=[];this.init=function(i){if(A=i,I=k(A),x=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):d.closeOnDateSelection,C=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):d.appendToBody,M=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):d.onOpenFocus,T=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:d.datepickerPopupTemplateUrl,O=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:d.datepickerTemplateUrl,N=angular.isDefined(n.altInputFormats)?e.$parent.$eval(n.altInputFormats):d.altInputFormats,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):d.showButtonBar,d.html5Types[n.type]?(D=d.html5Types[n.type],F=!0):(D=n.uibDatepickerPopup||d.datepickerPopup,n.$observe("uibDatepickerPopup",function(e,t){var n=e||d.datepickerPopup;if(n!==D&&(D=n,A.$modelValue=null,!D))throw new Error("uibDatepickerPopup must have a date format specified.")})),!D)throw new Error("uibDatepickerPopup must have a date format specified.");if(F&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");S=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),S.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":T}),P=angular.element(S.children()[0]),P.attr("template-url",O),e.datepickerOptions||(e.datepickerOptions={}),F&&"month"===n.type&&(e.datepickerOptions.datepickerMode="month",e.datepickerOptions.minMode="month"),P.attr("datepicker-options","datepickerOptions"),F?A.$formatters.push(function(t){return e.date=c.fromTimezone(t,I.getOption("timezone")),t}):(A.$$parserName="date",A.$validators.date=v,A.$parsers.unshift(b),A.$formatters.push(function(t){return A.$isEmpty(t)?(e.date=t,t):(angular.isNumber(t)&&(t=new Date(t)),e.date=c.fromTimezone(t,I.getOption("timezone")),c.filter(e.date,D))})),A.$viewChangeListeners.push(function(){e.date=g(A.$viewValue)}),t.on("keydown",y),U=a(S)(e),S.remove(),C?l.find("body").append(U):t.after(U),e.$on("$destroy",function(){for(!0===e.isOpen&&(s.$$phase||e.$apply(function(){e.isOpen=!1})),U.remove(),t.off("keydown",y),l.off("click",$),E&&E.off("scroll",w),angular.element(r).off("resize",w);H.length;)H.shift()()})},e.getText=function(t){return e[t+"Text"]||d[t+"Text"]},e.isDisabled=function(t){"today"===t&&(t=c.fromTimezone(new Date,I.getOption("timezone")));var n={};return angular.forEach(["minDate","maxDate"],function(t){e.datepickerOptions[t]?angular.isDate(e.datepickerOptions[t])?n[t]=new Date(e.datepickerOptions[t]):(h&&i.warn("Literal date support has been deprecated, please switch to date object usage"),n[t]=new Date(p(e.datepickerOptions[t],"medium"))):n[t]=null}),e.datepickerOptions&&n.minDate&&e.compare(t,n.minDate)<0||n.maxDate&&e.compare(t,n.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){e.date=n;var a=e.date?c.filter(e.date,D):null;t.val(a),A.$setViewValue(a),x&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(n.stopPropagation(),e.isOpen=!1,t[0].focus())},e.select=function(t,n){if(n.stopPropagation(),"today"===t){var a=new Date;angular.isDate(e.date)?(t=new Date(e.date),t.setFullYear(a.getFullYear(),a.getMonth(),a.getDate())):(t=c.fromTimezone(a,I.getOption("timezone")),t.setHours(0,0,0,0))}e.dateSelection(t)},e.close=function(n){n.stopPropagation(),e.isOpen=!1,t[0].focus()},e.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&H.push(e.$parent.$watch(o(n.ngDisabled),function(t){e.disabled=t})),e.$watch("isOpen",function(a){a?e.disabled?e.isOpen=!1:m(function(){w(),M&&e.$broadcast("uib:datepicker.focus"),l.on("click",$);var a=n.popupPlacement?n.popupPlacement:d.placement;C||u.parsePlacement(a)[2]?(E=E||angular.element(u.scrollParent(t)))&&E.on("scroll",w):E=null,angular.element(r).on("resize",w)},0,!1):(l.off("click",$),E&&E.off("scroll",w),angular.element(r).off("resize",w))}),e.$on("uib:datepicker.mode",function(){m(w,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(e,t,n,a){var i=a[0];a[1].init(i)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(e){return function(t,n){var a;return function(){var i=this,o=Array.prototype.slice.call(arguments);a&&e.cancel(a),a=e(function(){t.apply(i,o)},n)}}}]),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var a=e[t];if(a){var i=a.indexOf(n);-1!==i&&a.splice(i,1),a.length||delete e[t]}}}}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.multiMap","ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope","$$multiMap",function(e,t,n){var a=null,i=n.createNew();this.isOnlyOpen=function(e,t){var n=i.get(t);if(n){if(n.reduce(function(t,n){return n.scope===e?n:t},{}))return 1===n.length}return!1},this.open=function(t,n,r){if(a||e.on("click",o),a&&a!==t&&(a.isOpen=!1),a=t,r){var l=i.get(r);if(l){-1===l.map(function(e){return e.scope}).indexOf(t)&&i.put(r,{scope:t})}else i.put(r,{scope:t})}},this.close=function(t,n,r){if(a===t&&(e.off("click",o),e.off("keydown",this.keybindFilter),a=null),r){var l=i.get(r);if(l){var s=l.reduce(function(e,n){return n.scope===t?n:e},{});s&&i.remove(r,s)}}};var o=function(e){if(a&&a.isOpen&&!(e&&"disabled"===a.getAutoClose()||e&&3===e.which)){var n=a.getToggleElement();if(!(e&&n&&n[0].contains(e.target))){var i=a.getDropdownElement();e&&"outsideClick"===a.getAutoClose()&&i&&i[0].contains(e.target)||(a.focusToggleElement(),a.isOpen=!1,t.$$phase||a.$apply())}}};this.keybindFilter=function(e){if(a){var t=a.getDropdownElement(),n=a.getToggleElement(),i=t&&t[0].contains(e.target),r=n&&n[0].contains(e.target);27===e.which?(e.stopPropagation(),a.focusToggleElement(),o()):a.isKeynavEnabled()&&-1!==[38,40].indexOf(e.which)&&a.isOpen&&(i||r)&&(e.preventDefault(),e.stopPropagation(),a.focusDropdownEntry(e.which))}}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,a,i,o,r,l,s,u,p){function c(){t.append(f.dropdownMenu)}var d,m,f=this,h=e.$new(),g=i.appendToOpenClass,b=i.openClass,v=angular.noop,$=n.onToggle?a(n.onToggle):angular.noop,y=!1,w=s.find("body");t.addClass("dropdown"),this.init=function(){n.isOpen&&(m=a(n.isOpen),v=m.assign,e.$watch(m,function(e){h.isOpen=!!e})),y=angular.isDefined(n.keyboardNav)},this.toggle=function(e){return h.isOpen=arguments.length?!!e:!h.isOpen,angular.isFunction(v)&&v(h,h.isOpen),h.isOpen},this.isOpen=function(){return h.isOpen},h.getToggleElement=function(){return f.toggleElement},h.getAutoClose=function(){return n.autoClose||"always"},h.getElement=function(){return t},h.isKeynavEnabled=function(){return y},h.focusDropdownEntry=function(e){var n=f.dropdownMenu?angular.element(f.dropdownMenu).find("a"):t.find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(f.selectedOption)?f.selectedOption=f.selectedOption===n.length-1?f.selectedOption:f.selectedOption+1:f.selectedOption=0;break;case 38:angular.isNumber(f.selectedOption)?f.selectedOption=0===f.selectedOption?0:f.selectedOption-1:f.selectedOption=n.length-1}n[f.selectedOption].focus()},h.getDropdownElement=function(){return f.dropdownMenu},h.focusToggleElement=function(){f.toggleElement&&f.toggleElement[0].focus()},h.$watch("isOpen",function(i,m){var y=null,k=!1;if(angular.isDefined(n.dropdownAppendTo)){var D=a(n.dropdownAppendTo)(h);D&&(y=angular.element(D))}if(angular.isDefined(n.dropdownAppendToBody)){!1!==a(n.dropdownAppendToBody)(h)&&(k=!0)}if(k&&!y&&(y=w),y&&f.dropdownMenu&&(i?(y.append(f.dropdownMenu),t.on("$destroy",c)):(t.off("$destroy",c),c())),y&&f.dropdownMenu){var x,C,M,T=l.positionElements(t,f.dropdownMenu,"bottom-left",!0),O=0;if(x={top:T.top+"px",display:i?"block":"none"},C=f.dropdownMenu.hasClass("dropdown-menu-right"),C?(x.left="auto",M=l.scrollbarPadding(y),M.heightOverflow&&M.scrollbarWidth&&(O=M.scrollbarWidth),x.right=window.innerWidth-O-(T.left+t.prop("offsetWidth"))+"px"):(x.left=T.left+"px",x.right="auto"),!k){var S=l.offset(y);x.top=T.top-S.top+"px",C?x.right=window.innerWidth-(T.left-S.left+t.prop("offsetWidth"))+"px":x.left=T.left-S.left+"px"}f.dropdownMenu.css(x)}var P=y||t,E=y?g:b,A=P.hasClass(E),I=o.isOnlyOpen(e,y);if(A===!i){var U;U=y?I?"removeClass":"addClass":i?"addClass":"removeClass",r[U](P,E).then(function(){angular.isDefined(i)&&i!==m&&$(e,{open:!!i})})}if(i)f.dropdownMenuTemplateUrl?p(f.dropdownMenuTemplateUrl).then(function(e){d=h.$new(),u(e.trim())(d,function(e){var t=e;f.dropdownMenu.replaceWith(t),f.dropdownMenu=t,s.on("keydown",o.keybindFilter)})}):s.on("keydown",o.keybindFilter),h.focusToggleElement(),o.open(h,t,y);else{if(o.close(h,t,y),f.dropdownMenuTemplateUrl){d&&d.$destroy();var N=angular.element('<ul class="dropdown-menu"></ul>');f.dropdownMenu.replaceWith(N),f.dropdownMenu=N}f.selectedOption=null}angular.isFunction(v)&&v(e,i)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,a){a.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,a){if(a&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var i=n.templateUrl;i&&(a.dropdownMenuTemplateUrl=i),a.dropdownMenu||(a.dropdownMenu=t)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,t,n,a){if(a){t.addClass("dropdown-toggle"),a.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){a.toggle()})};t.on("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(a.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.off("click",i)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,a=0;a<e.length;a++)if(t===e[a].key){n=a;break}return e.splice(n,1)[0]},removeTop:function(){return e.pop()},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,n){var a=e.resolver?t.get(e.resolver):null;return{resolve:function(e,i,o,r){if(a)return a.resolve(e,i,o,r);var l=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?l.push(n.resolve(t.invoke(e))):angular.isString(e)?l.push(n.resolve(t.get(e))):l.push(n.resolve(e))}),n.all(l).then(function(t){var n={},a=0;return angular.forEach(e,function(e,i){n[i]=t[a++]}),n})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){function a(t,a,i){i.modalInClass&&(e.addClass(a,i.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(n,o){var r=o();t.modalOptions.animation?e.removeClass(a,i.modalInClass).then(r):r()}))}return{restrict:"A",compile:function(e,t){return e.addClass(t.backdropClass),a}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,n,a){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(i,o,r){o.addClass(r.windowTopClass||""),i.size=r.size,i.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},o.on("click",i.close),i.$isRendered=!0;var l=t.defer();i.$$postDigest(function(){l.resolve()}),l.promise.then(function(){var l=null;r.modalInClass&&(l=n(o,{addClass:r.modalInClass}).start(),i.$on(e.NOW_CLOSING_EVENT,function(e,t){var a=t();n(o,{removeClass:r.modalInClass}).start().then(a)})),t.when(l).then(function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!a[0].activeElement||!o[0].contains(a[0].activeElement)){var n=o[0].querySelector("[autofocus]");n?n.focus():o[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(e){return{link:function(t,n,a,i,o){o(t.$parent,function(t){n.empty(),e.enter(t,n)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,n,a,i,o,r,l,s){function u(e){return e.replace(S,function(e,t){return(t?"-":"")+e.toLowerCase()})}function p(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function c(){for(var e=-1,t=D.keys(),n=0;n<t.length;n++)D.get(t[n]).value.backdrop&&(e=n);return e>-1&&e<M&&(e=M),e}function d(e,t){var n=D.get(e).value,a=n.appendTo;D.remove(e),T=D.top(),T&&(M=parseInt(T.value.modalDomEl.attr("index"),10)),h(n.modalDomEl,n.modalScope,function(){var t=n.openedClass||k;x.remove(t,e);var i=x.hasKey(t);a.toggleClass(t,i),!i&&w&&w.heightOverflow&&w.scrollbarWidth&&(w.originalRight?a.css({paddingRight:w.originalRight+"px"}):a.css({paddingRight:""}),w=null),m(!0)},n.closedDeferred),f(),t&&t.focus?t.focus():a.focus&&a.focus()}function m(e){var t;D.length()>0&&(t=D.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function f(){if($&&-1===c()){var e=y;h($,y,function(){e=null}),$=void 0,y=void 0}}function h(t,n,a,i){function r(){r.done||(r.done=!0,e.leave(t).then(function(){a&&a(),t.remove(),i&&i.resolve()}),n.$destroy())}var l,s=null,u=function(){return l||(l=o.defer(),s=l.promise),function(){l.resolve()}};return n.$broadcast(C.NOW_CLOSING_EVENT,u),o.when(s).then(r)}function g(e){if(e.isDefaultPrevented())return e;var t=D.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),i.$apply(function(){C.dismiss(t.key,"escape key press")}));break;case 9:var n=C.loadFocusElementList(t),a=!1;e.shiftKey?(C.isFocusInFirstItem(e,n)||C.isModalFocused(e,t))&&(a=C.focusLastFocusableElement(n)):C.isFocusInLastItem(e,n)&&(a=C.focusFirstFocusableElement(n)),a&&(e.preventDefault(),e.stopPropagation())}}function b(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}function v(){Array.prototype.forEach.call(document.querySelectorAll("["+O+"]"),function(e){var t=parseInt(e.getAttribute(O),10),n=t-1;e.setAttribute(O,n),n||(e.removeAttribute(O),e.removeAttribute("aria-hidden"))})}var $,y,w,k="modal-open",D=l.createNew(),x=r.createNew(),C={NOW_CLOSING_EVENT:"modal.stack.now-closing"},M=0,T=null,O="data-bootstrap-modal-aria-hidden-count",S=/[A-Z]/g;return i.$watch(c,function(e){y&&(y.index=e)}),n.on("keydown",g),i.$on("$destroy",function(){n.off("keydown",g)}),C.open=function(t,o){function r(e){if(e&&"BODY"!==e[0].tagName)return function(e){var t=e.parent()?e.parent().children():[];return Array.prototype.filter.call(t,function(t){return t!==e[0]})}(e).forEach(function(e){var t="true"===e.getAttribute("aria-hidden"),n=parseInt(e.getAttribute(O),10);n||(n=t?1:0),e.setAttribute(O,n+1),e.setAttribute("aria-hidden","true")}),r(e.parent())}var l=n[0].activeElement,p=o.openedClass||k;m(!1),T=D.top(),D.add(t,{deferred:o.deferred,renderDeferred:o.renderDeferred,closedDeferred:o.closedDeferred,modalScope:o.scope,backdrop:o.backdrop,keyboard:o.keyboard,openedClass:o.openedClass,windowTopClass:o.windowTopClass,animation:o.animation,appendTo:o.appendTo}),x.put(p,t);var d=o.appendTo,f=c();f>=0&&!$&&(y=i.$new(!0),y.modalOptions=o,y.index=f,$=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),$.attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),o.backdropClass&&$.addClass(o.backdropClass),o.animation&&$.attr("modal-animation","true"),a($)(y),e.enter($,d),s.isScrollable(d)&&(w=s.scrollbarPadding(d),w.heightOverflow&&w.scrollbarWidth&&d.css({paddingRight:w.right+"px"})));var h;o.component?(h=document.createElement(u(o.component.name)),h=angular.element(h),h.attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):h=o.content,M=T?parseInt(T.value.modalDomEl.attr("index"),10)+1:0;var g=angular.element('<div uib-modal-window="modal-window"></div>');g.attr({class:"modal","template-url":o.windowTemplateUrl,"window-top-class":o.windowTopClass,role:"dialog","aria-labelledby":o.ariaLabelledBy,"aria-describedby":o.ariaDescribedBy,size:o.size,index:M,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(h),o.windowClass&&g.addClass(o.windowClass),o.animation&&g.attr("modal-animation","true"),d.addClass(p),o.scope&&(o.scope.$$topModalIndex=M),e.enter(a(g)(o.scope),d),D.top().value.modalDomEl=g,D.top().value.modalOpener=l,r(g)},C.close=function(e,t){var n=D.get(e);return v(),n&&b(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),d(e,n.value.modalOpener),!0):!n},C.dismiss=function(e,t){var n=D.get(e);return v(),n&&b(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),d(e,n.value.modalOpener),!0):!n},C.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},C.getTop=function(){return D.top()},C.modalRendered=function(e){var t=D.get(e);t&&t.value.renderDeferred.resolve()},C.focusFirstFocusableElement=function(e){return e.length>0&&(e[0].focus(),!0)},C.focusLastFocusableElement=function(e){return e.length>0&&(e[e.length-1].focus(),!0)},C.isModalFocused=function(e,t){if(e&&t){var n=t.value.modalDomEl;if(n&&n.length)return(e.target||e.srcElement)===n[0]}return!1},C.isFocusInFirstItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[0]},C.isFocusInLastItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[t.length-1]},C.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var n=t[0].querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]");return n?Array.prototype.filter.call(n,function(e){return p(e)}):n}}},C}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,n,a,i,o,r,l){function s(e){return e.template?n.when(e.template):i(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}var u={},p=null;return u.getPromiseChain=function(){return p},u.open=function(i){function u(){return g}var c=n.defer(),d=n.defer(),m=n.defer(),f=n.defer(),h={result:c.promise,opened:d.promise,closed:m.promise,rendered:f.promise,close:function(e){return l.close(h,e)},dismiss:function(e){return l.dismiss(h,e)}};if(i=angular.extend({},e.options,i),i.resolve=i.resolve||{},i.appendTo=i.appendTo||a.find("body").eq(0),!i.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(!i.component&&!i.template&&!i.templateUrl)throw new Error("One of component or template or templateUrl options is required.");var g;g=i.component?n.when(r.resolve(i.resolve,{},null,null)):n.all([s(i),r.resolve(i.resolve,{},null,null)]);var b;return b=p=n.all([p]).then(u,u).then(function(e){function n(t,n,a,i){t.$scope=r,t.$scope.$resolve={},a?t.$scope.$uibModalInstance=h:t.$uibModalInstance=h;var o=n?e[1]:e;angular.forEach(o,function(e,n){i&&(t[n]=e),t.$scope.$resolve[n]=e})}var a=i.scope||t,r=a.$new();r.$close=h.close,r.$dismiss=h.dismiss,r.$on("$destroy",function(){r.$$uibDestructionScheduled||r.$dismiss("$uibUnscheduledDestruction")});var s,u,p={scope:r,deferred:c,renderDeferred:f,closedDeferred:m,animation:i.animation,backdrop:i.backdrop,keyboard:i.keyboard,backdropClass:i.backdropClass,windowTopClass:i.windowTopClass,windowClass:i.windowClass,windowTemplateUrl:i.windowTemplateUrl,ariaLabelledBy:i.ariaLabelledBy,ariaDescribedBy:i.ariaDescribedBy,size:i.size,openedClass:i.openedClass,appendTo:i.appendTo},g={},b={};i.component?(n(g,!1,!0,!1),g.name=i.component,p.component=g):i.controller&&(n(b,!0,!1,!0),u=o(i.controller,b,!0,i.controllerAs),i.controllerAs&&i.bindToController&&(s=u.instance,s.$close=r.$close,s.$dismiss=r.$dismiss,angular.extend(s,{$resolve:b.$scope.$resolve},a)),s=u(),angular.isFunction(s.$onInit)&&s.$onInit()),i.component||(p.content=e[0]),l.open(h,p),d.resolve(!0)},function(e){d.reject(e),c.reject(e)}).finally(function(){p===b&&(p=null)}),h},u}]};return e}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(e){return{create:function(t,n,a){t.setNumPages=a.numPages?e(a.numPages).assign:angular.noop,t.ngModelCtrl={$setViewValue:angular.noop},t._watchers=[],t.init=function(e,i){t.ngModelCtrl=e,t.config=i,e.$render=function(){t.render()},a.itemsPerPage?t._watchers.push(n.$parent.$watch(a.itemsPerPage,function(e){t.itemsPerPage=parseInt(e,10),n.totalPages=t.calculateTotalPages(),t.updatePage()})):t.itemsPerPage=i.itemsPerPage,
n.$watch("totalItems",function(e,a){(angular.isDefined(e)||e!==a)&&(n.totalPages=t.calculateTotalPages(),t.updatePage())})},t.calculateTotalPages=function(){var e=t.itemsPerPage<1?1:Math.ceil(n.totalItems/t.itemsPerPage);return Math.max(e||0,1)},t.render=function(){n.page=parseInt(t.ngModelCtrl.$viewValue,10)||1},n.selectPage=function(e,a){a&&a.preventDefault(),(!n.ngDisabled||!a)&&n.page!==e&&e>0&&e<=n.totalPages&&(a&&a.target&&a.target.blur(),t.ngModelCtrl.$setViewValue(e),t.ngModelCtrl.$render())},n.getText=function(e){return n[e+"Text"]||t.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},t.updatePage=function(){t.setNumPages(n.$parent,n.totalPages),n.page>n.totalPages?n.selectPage(n.totalPages):t.ngModelCtrl.$render()},n.$on("$destroy",function(){for(;t._watchers.length;)t._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(e,t,n,a){e.align=angular.isDefined(t.align)?e.$parent.$eval(t.align):a.align,n.create(this,e,t)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(e,t){return t.templateUrl||"uib/template/pager/pager.html"},link:function(t,n,a,i){n.addClass("pager");var o=i[0],r=i[1];r&&o.init(r,e)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(e,t,n,a,i){function o(e,t,n){return{number:e,text:t,active:n}}function r(e,t){var n=[],a=1,i=t,r=angular.isDefined(s)&&s<t;r&&(u?(a=Math.max(e-Math.floor(s/2),1),(i=a+s-1)>t&&(i=t,a=i-s+1)):(a=(Math.ceil(e/s)-1)*s+1,i=Math.min(a+s-1,t)));for(var l=a;l<=i;l++){var m=o(l,d(l),l===e);n.push(m)}if(r&&s>0&&(!u||p||c)){if(a>1){if(!c||a>3){var f=o(a-1,"...",!1);n.unshift(f)}if(c){if(3===a){var h=o(2,"2",!1);n.unshift(h)}var g=o(1,"1",!1);n.unshift(g)}}if(i<t){if(!c||i<t-2){var b=o(i+1,"...",!1);n.push(b)}if(c){if(i===t-2){var v=o(t-1,t-1,!1);n.push(v)}var $=o(t,t,!1);n.push($)}}}return n}var l=this,s=angular.isDefined(t.maxSize)?e.$parent.$eval(t.maxSize):i.maxSize,u=angular.isDefined(t.rotate)?e.$parent.$eval(t.rotate):i.rotate,p=angular.isDefined(t.forceEllipses)?e.$parent.$eval(t.forceEllipses):i.forceEllipses,c=angular.isDefined(t.boundaryLinkNumbers)?e.$parent.$eval(t.boundaryLinkNumbers):i.boundaryLinkNumbers,d=angular.isDefined(t.pageLabel)?function(n){return e.$parent.$eval(t.pageLabel,{$page:n})}:angular.identity;e.boundaryLinks=angular.isDefined(t.boundaryLinks)?e.$parent.$eval(t.boundaryLinks):i.boundaryLinks,e.directionLinks=angular.isDefined(t.directionLinks)?e.$parent.$eval(t.directionLinks):i.directionLinks,t.$set("role","menu"),a.create(this,e,t),t.maxSize&&l._watchers.push(e.$parent.$watch(n(t.maxSize),function(e){s=parseInt(e,10),l.render()}));var m=this.render;this.render=function(){m(),e.page>0&&e.page<=e.totalPages&&(e.pages=r(e.page,e.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"uib/template/pagination/pagination.html"},link:function(e,n,a,i){n.addClass("pagination");var o=i[0],r=i[1];r&&o.init(r,t)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function e(e){var t=/[A-Z]/g;return e.replace(t,function(e,t){return(t?"-":"")+e.toLowerCase()})}var t={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},a={};this.options=function(e){angular.extend(a,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(i,o,r,l,s,u,p,c,d){function m(e){if(27===e.which){var t=f.top();t&&(t.value.close(),t=null)}}var f=d.createNew();return l.on("keyup",m),p.$on("$destroy",function(){l.off("keyup",m)}),function(i,p,d,m){function h(e){var t=(e||m.trigger||d).split(" ");return{show:t,hide:t.map(function(e){return n[e]||e})}}m=angular.extend({},t,a,m);var g=e(i),b=u.startSymbol(),v=u.endSymbol(),$="<div "+g+'-popup uib-title="'+b+"title"+v+'" '+(m.useContentExp?'content-exp="contentExp()" ':'content="'+b+"content"+v+'" ')+'origin-scope="origScope" class="uib-position-measure '+p+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(e,t){var n=o($);return function(e,t,a,o){function u(){q.isOpen?g():d()}function d(){V&&!e.$eval(a[p+"Enable"])||(y(),D(),q.popupDelay?A||(A=r(b,q.popupDelay,!1)):b())}function g(){v(),q.popupCloseDelay?I||(I=r($,q.popupCloseDelay,!1)):$()}function b(){if(v(),y(),!q.content)return angular.noop;w(),q.$evalAsync(function(){q.isOpen=!0,x(!0),W()})}function v(){A&&(r.cancel(A),A=null),U&&(r.cancel(U),U=null)}function $(){q&&q.$evalAsync(function(){q&&(q.isOpen=!1,x(!1),q.animation?E||(E=r(k,150,!1)):k())})}function y(){I&&(r.cancel(I),I=null),E&&(r.cancel(E),E=null)}function w(){S||(P=q.$new(),S=n(P,function(e){H?l.find("body").append(e):t.after(e)}),f.add(q,{close:$}),C())}function k(){v(),y(),M(),S&&(S.remove(),S=null,N&&r.cancel(N)),f.remove(q),P&&(P.$destroy(),P=null)}function D(){q.title=a[p+"Title"],q.content=Y?Y(e):a[i],q.popupClass=a[p+"Class"],q.placement=angular.isDefined(a[p+"Placement"])?a[p+"Placement"]:m.placement;var t=s.parsePlacement(q.placement);F=t[1]?t[0]+"-"+t[1]:t[0];var n=parseInt(a[p+"PopupDelay"],10),o=parseInt(a[p+"PopupCloseDelay"],10);q.popupDelay=isNaN(n)?m.popupDelay:n,q.popupCloseDelay=isNaN(o)?m.popupCloseDelay:o}function x(t){z&&angular.isFunction(z.assign)&&z.assign(e,t)}function C(){B.length=0,Y?(B.push(e.$watch(Y,function(e){q.content=e,!e&&q.isOpen&&$()})),B.push(P.$watch(function(){L||(L=!0,P.$$postDigest(function(){L=!1,q&&q.isOpen&&W()}))}))):B.push(a.$observe(i,function(e){q.content=e,!e&&q.isOpen?$():W()})),B.push(a.$observe(p+"Title",function(e){q.title=e,q.isOpen&&W()})),B.push(a.$observe(p+"Placement",function(e){q.placement=e||m.placement,q.isOpen&&W()}))}function M(){B.length&&(angular.forEach(B,function(e){e()}),B.length=0)}function T(e){q&&q.isOpen&&S&&(t[0].contains(e.target)||S[0].contains(e.target)||g())}function O(e){27===e.which&&g()}var S,P,E,A,I,U,N,F,H=!!angular.isDefined(m.appendToBody)&&m.appendToBody,R=h(void 0),V=angular.isDefined(a[p+"Enable"]),q=e.$new(!0),L=!1,z=!!angular.isDefined(a[p+"IsOpen"])&&c(a[p+"IsOpen"]),Y=!!m.useContentExp&&c(a[i]),B=[],W=function(){S&&S.html()&&(U||(U=r(function(){var e=s.positionElements(t,S,q.placement,H),n=angular.isDefined(S.offsetHeight)?S.offsetHeight:S.prop("offsetHeight"),a=H?s.offset(t):s.position(t);S.css({top:e.top+"px",left:e.left+"px"});var i=e.placement.split("-");S.hasClass(i[0])||(S.removeClass(F.split("-")[0]),S.addClass(i[0])),S.hasClass(m.placementClassPrefix+e.placement)||(S.removeClass(m.placementClassPrefix+F),S.addClass(m.placementClassPrefix+e.placement)),N=r(function(){var e=angular.isDefined(S.offsetHeight)?S.offsetHeight:S.prop("offsetHeight"),t=s.adjustTop(i,a,n,e);t&&S.css(t),N=null},0,!1),S.hasClass("uib-position-measure")?(s.positionArrow(S,e.placement),S.removeClass("uib-position-measure")):F!==e.placement&&s.positionArrow(S,e.placement),F=e.placement,U=null},0,!1)))};q.origScope=e,q.isOpen=!1,q.contentExp=function(){return q.content},a.$observe("disabled",function(e){e&&v(),e&&q.isOpen&&$()}),z&&e.$watch(z,function(e){q&&!e===q.isOpen&&u()});var j=function(){R.show.forEach(function(e){"outsideClick"===e?t.off("click",u):(t.off(e,d),t.off(e,u)),t.off("keypress",O)}),R.hide.forEach(function(e){"outsideClick"===e?l.off("click",T):t.off(e,g)})};!function(){var n=[],i=[],o=e.$eval(a[p+"Trigger"]);j(),angular.isObject(o)?(Object.keys(o).forEach(function(e){n.push(e),i.push(o[e])}),R={show:n,hide:i}):R=h(o),"none"!==R.show&&R.show.forEach(function(e,n){"outsideClick"===e?(t.on("click",u),l.on("click",T)):e===R.hide[n]?t.on(e,u):e&&(t.on(e,d),t.on(R.hide[n],g)),t.on("keypress",O)})}();var _=e.$eval(a[p+"Animation"]);q.animation=angular.isDefined(_)?!!_:m.animation;var G,K=p+"AppendToBody";G=K in a&&void 0===a[K]||e.$eval(a[K]),H=angular.isDefined(G)?G:H,e.$on("$destroy",function(){j(),k(),q=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,a){return{link:function(i,o,r){var l,s,u,p=i.$eval(r.tooltipTemplateTranscludeScope),c=0,d=function(){s&&(s.remove(),s=null),l&&(l.$destroy(),l=null),u&&(e.leave(u).then(function(){s=null}),s=u,u=null)};i.$watch(t.parseAsResourceUrl(r.uibTooltipTemplateTransclude),function(t){var r=++c;t?(a(t,!0).then(function(a){if(r===c){var i=p.$new(),s=a,m=n(s)(i,function(t){d(),e.enter(t,o)});l=i,u=m,l.$emit("$includeContentLoaded",t)}},function(){r===c&&(d(),i.$emit("$includeContentError",t))}),i.$emit("$includeContentRequested",t)):d()}),i.$on("$destroy",d)}}}]).directive("uibTooltipClasses",["$uibPosition",function(e){return{restrict:"A",link:function(t,n,a){if(t.placement){var i=e.parsePlacement(t.placement);n.addClass(i[0])}t.popupClass&&n.addClass(t.popupClass),t.animation&&n.addClass(a.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){function a(){return angular.isDefined(e.maxParam)?e.maxParam:n.max}var i=this,o=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=a(),this.addBar=function(e,t,n){o||t.css({transition:"none"}),this.bars.push(e),e.max=a(),e.title=n&&angular.isDefined(n.title)?n.title:"progressbar",e.$watch("value",function(t){e.recalculatePercentage()}),e.recalculatePercentage=function(){var t=i.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);t>100&&(e.percent-=t-100)},e.$on("$destroy",function(){t=null,i.removeBar(e)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},e.$watch("maxParam",function(e){i.bars.forEach(function(e){e.max=a(),e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(e,t,n,a){a.addBar(e,t,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(e,t,n,a){a.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var a={$setViewValue:angular.noop},i=this;this.init=function(i){a=i,a.$render=this.render,a.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff,this.enableReset=angular.isDefined(t.enableReset)?e.$parent.$eval(t.enableReset):n.enableReset;var o=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var r=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(r)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){if(!e.readonly&&t>=0&&t<=e.range.length){var n=i.enableReset&&a.$viewValue===t?0:t;a.$setViewValue(n),a.$render()}},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=a.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=a.$viewValue,e.title=i.getTitle(e.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(e,t,n,a){var i=a[0],o=a[1];i.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){function t(e){for(var t=0;t<a.tabs.length;t++)if(a.tabs[t].index===e)return t}var n,a=this;a.tabs=[],a.select=function(e,o){if(!i){var r=t(n),l=a.tabs[r];if(l){if(l.tab.onDeselect({$event:o,$selectedIndex:e}),o&&o.isDefaultPrevented())return;l.tab.active=!1}var s=a.tabs[e];s?(s.tab.onSelect({$event:o}),s.tab.active=!0,a.active=s.index,n=s.index):!s&&angular.isDefined(n)&&(a.active=null,n=null)}},a.addTab=function(e){if(a.tabs.push({tab:e,index:e.index}),a.tabs.sort(function(e,t){return e.index>t.index?1:e.index<t.index?-1:0}),e.index===a.active||!angular.isDefined(a.active)&&1===a.tabs.length){var n=t(e.index);a.select(n)}},a.removeTab=function(e){for(var t,n=0;n<a.tabs.length;n++)if(a.tabs[n].tab===e){t=n;break}if(a.tabs[t].index===a.active){var i=t===a.tabs.length-1?t-1:t+1%a.tabs.length;a.select(i)}a.tabs.splice(t,1)},e.$watch("tabset.active",function(e){angular.isDefined(e)&&e!==n&&a.select(t(e))});var i;e.$on("$destroy",function(){i=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tabset.html"},link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(t,n,a,i,o){t.disabled=!1,a.disable&&t.$parent.$watch(e(a.disable),function(e){t.disabled=!!e}),angular.isUndefined(a.index)&&(i.tabs&&i.tabs.length?t.index=Math.max.apply(null,i.tabs.map(function(e){return e.index}))+1:t.index=0),angular.isUndefined(a.classes)&&(t.classes=""),t.select=function(e){if(!t.disabled){for(var n,a=0;a<i.tabs.length;a++)if(i.tabs[a].tab===t){n=a;break}i.select(n,e)}},i.addTab(t),t.$on("$destroy",function(){i.removeTab(t)}),t.$transcludeFn=o}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase()||"uib:tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(t,n,a){var i=t.$eval(a.uibTabContentTransclude).tab;i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,n,a,i,o,r){function l(){var t=+e.hours;if((e.showMeridian?t>0&&t<13:t>=0&&t<24)&&""!==e.hours)return e.showMeridian&&(12===t&&(t=0),e.meridian===x[1]&&(t+=12)),t}function s(){var t=+e.minutes;if(t>=0&&t<60&&""!==e.minutes)return t}function u(){var t=+e.seconds;return t>=0&&t<60?t:void 0}function p(e,t){return null===e?"":angular.isDefined(e)&&e.toString().length<2&&!t?"0"+e:e.toString()}function c(e){d(),D.$setViewValue(new Date(w)),m(e)}function d(){v&&v.$setValidity("hours",!0),$&&$.$setValidity("minutes",!0),y&&y.$setValidity("seconds",!0),D.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1,e.invalidSeconds=!1}function m(t){if(D.$modelValue){var n=w.getHours(),a=w.getMinutes(),i=w.getSeconds();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:p(n,!C),"m"!==t&&(e.minutes=p(a)),e.meridian=w.getHours()<12?x[0]:x[1],"s"!==t&&(e.seconds=p(i)),e.meridian=w.getHours()<12?x[0]:x[1]}else e.hours=null,e.minutes=null,e.seconds=null,e.meridian=x[0]}function f(e){w=g(w,e),c()}function h(e,t){return g(e,60*t)}function g(e,t){var n=new Date(e.getTime()+1e3*t),a=new Date(e);return a.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),a}function b(){return(null===e.hours||""===e.hours)&&(null===e.minutes||""===e.minutes)&&(!e.showSeconds||e.showSeconds&&(null===e.seconds||""===e.seconds))}var v,$,y,w=new Date,k=[],D={$setViewValue:angular.noop},x=angular.isDefined(n.meridians)?e.$parent.$eval(n.meridians):r.meridians||o.DATETIME_FORMATS.AMPMS,C=!angular.isDefined(n.padHours)||e.$parent.$eval(n.padHours);e.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,a){D=t,D.$render=this.render,D.$formatters.unshift(function(e){return e?new Date(e):null});var i=a.eq(0),o=a.eq(1),l=a.eq(2);v=i.controller("ngModel"),$=o.controller("ngModel"),y=l.controller("ngModel"),(angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):r.mousewheel)&&this.setupMousewheelEvents(i,o,l),(angular.isDefined(n.arrowkeys)?e.$parent.$eval(n.arrowkeys):r.arrowkeys)&&this.setupArrowkeyEvents(i,o,l),e.readonlyInput=angular.isDefined(n.readonlyInput)?e.$parent.$eval(n.readonlyInput):r.readonlyInput,this.setupInputEvents(i,o,l)};var M=r.hourStep;n.hourStep&&k.push(e.$parent.$watch(a(n.hourStep),function(e){M=+e}));var T=r.minuteStep;n.minuteStep&&k.push(e.$parent.$watch(a(n.minuteStep),function(e){T=+e}));var O;k.push(e.$parent.$watch(a(n.min),function(e){var t=new Date(e);O=isNaN(t)?void 0:t}));var S;k.push(e.$parent.$watch(a(n.max),function(e){var t=new Date(e);S=isNaN(t)?void 0:t}));var P=!1;n.ngDisabled&&k.push(e.$parent.$watch(a(n.ngDisabled),function(e){P=e})),e.noIncrementHours=function(){var e=h(w,60*M);return P||e>S||e<w&&e<O},e.noDecrementHours=function(){var e=h(w,60*-M);return P||e<O||e>w&&e>S},e.noIncrementMinutes=function(){var e=h(w,T);return P||e>S||e<w&&e<O},e.noDecrementMinutes=function(){var e=h(w,-T);return P||e<O||e>w&&e>S},e.noIncrementSeconds=function(){var e=g(w,E);return P||e>S||e<w&&e<O},e.noDecrementSeconds=function(){var e=g(w,-E);return P||e<O||e>w&&e>S},e.noToggleMeridian=function(){return w.getHours()<12?P||h(w,720)>S:P||h(w,-720)<O};var E=r.secondStep;n.secondStep&&k.push(e.$parent.$watch(a(n.secondStep),function(e){E=+e})),e.showSeconds=r.showSeconds,n.showSeconds&&k.push(e.$parent.$watch(a(n.showSeconds),function(t){e.showSeconds=!!t})),e.showMeridian=r.showMeridian,n.showMeridian&&k.push(e.$parent.$watch(a(n.showMeridian),function(t){if(e.showMeridian=!!t,D.$error.time){var n=l(),a=s();angular.isDefined(n)&&angular.isDefined(a)&&(w.setHours(n),c())}else m()})),this.setupMousewheelEvents=function(t,n,a){var i=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.on("mousewheel wheel",function(t){P||e.$apply(i(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.on("mousewheel wheel",function(t){P||e.$apply(i(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()}),a.on("mousewheel wheel",function(t){P||e.$apply(i(t)?e.incrementSeconds():e.decrementSeconds()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n,a){t.on("keydown",function(t){P||(38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply()))}),n.on("keydown",function(t){P||(38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply()))}),a.on("keydown",function(t){P||(38===t.which?(t.preventDefault(),e.incrementSeconds(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementSeconds(),e.$apply()))})},this.setupInputEvents=function(t,n,a){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void(e.updateSeconds=angular.noop);var i=function(t,n,a){D.$setViewValue(null),D.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t,v&&v.$setValidity("hours",!1)),angular.isDefined(n)&&(e.invalidMinutes=n,$&&$.$setValidity("minutes",!1)),angular.isDefined(a)&&(e.invalidSeconds=a,y&&y.$setValidity("seconds",!1))};e.updateHours=function(){var e=l(),t=s();D.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(w.setHours(e),w.setMinutes(t),w<O||w>S?i(!0):c("h")):i(!0)},t.on("blur",function(t){D.$setTouched(),b()?d():null===e.hours||""===e.hours?i(!0):!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=p(e.hours,!C)})}),e.updateMinutes=function(){var e=s(),t=l();D.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(w.setHours(t),w.setMinutes(e),w<O||w>S?i(void 0,!0):c("m")):i(void 0,!0)},n.on("blur",function(t){D.$setTouched(),b()?d():null===e.minutes?i(void 0,!0):!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=p(e.minutes)})}),e.updateSeconds=function(){var e=u();D.$setDirty(),angular.isDefined(e)?(w.setSeconds(e),c("s")):i(void 0,void 0,!0)},a.on("blur",function(t){b()?d():!e.invalidSeconds&&e.seconds<10&&e.$apply(function(){e.seconds=p(e.seconds)})})},this.render=function(){var t=D.$viewValue;isNaN(t)?(D.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(w=t),w<O||w>S?(D.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):d(),m())},e.showSpinners=angular.isDefined(n.showSpinners)?e.$parent.$eval(n.showSpinners):r.showSpinners,e.incrementHours=function(){e.noIncrementHours()||f(60*M*60)},e.decrementHours=function(){e.noDecrementHours()||f(60*-M*60)},e.incrementMinutes=function(){e.noIncrementMinutes()||f(60*T)},e.decrementMinutes=function(){e.noDecrementMinutes()||f(60*-T)},e.incrementSeconds=function(){e.noIncrementSeconds()||f(E)},e.decrementSeconds=function(){e.noDecrementSeconds()||f(-E)},e.toggleMeridian=function(){var t=s(),n=l();e.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(n)?f(720*(w.getHours()<12?60:-60)):e.meridian=e.meridian===x[0]?x[1]:x[0])},e.blur=function(){D.$setTouched()},e.$on("$destroy",function(){for(;k.length;)k.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(e){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(t,n){return n.templateUrl||e.templateUrl},link:function(e,t,n,a){var i=a[0],o=a[1];o&&i.init(o,t.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var a=n.match(t);if(!a)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:a[3],source:e(a[4]),viewMapper:e(a[2]||a[1]),modelMapper:e(a[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(e,t,n,a,i,o,r,l,s,u,p,c,d){function m(){q.moveInProgress||(q.moveInProgress=!0,q.$digest()),Z()}function f(){q.position=P?c.offset(t):c.position(t),q.position.top+=t.prop("offsetHeight")}function h(e){var t;return angular.version.minor<6?(t=e.$options||{},t.getOption=function(e){return t[e]}):t=e.$options,t}var g,b,v=[9,13,27,38,40],$=e.$eval(n.typeaheadMinLength);$||0===$||($=1),e.$watch(n.typeaheadMinLength,function(e){$=e||0===e?e:1});var y=e.$eval(n.typeaheadWaitMs)||0,w=!1!==e.$eval(n.typeaheadEditable);e.$watch(n.typeaheadEditable,function(e){w=!1!==e});var k,D,x=i(n.typeaheadLoading).assign||angular.noop,C=n.typeaheadShouldSelect?i(n.typeaheadShouldSelect):function(e,t){var n=t.$event;return 13===n.which||9===n.which},M=i(n.typeaheadOnSelect),T=!!angular.isDefined(n.typeaheadSelectOnBlur)&&e.$eval(n.typeaheadSelectOnBlur),O=i(n.typeaheadNoResults).assign||angular.noop,S=n.typeaheadInputFormatter?i(n.typeaheadInputFormatter):void 0,P=!!n.typeaheadAppendToBody&&e.$eval(n.typeaheadAppendToBody),E=n.typeaheadAppendTo?e.$eval(n.typeaheadAppendTo):null,A=!1!==e.$eval(n.typeaheadFocusFirst),I=!!n.typeaheadSelectOnExact&&e.$eval(n.typeaheadSelectOnExact),U=i(n.typeaheadIsOpen).assign||angular.noop,N=e.$eval(n.typeaheadShowHint)||!1,F=i(n.ngModel),H=i(n.ngModel+"($$$p)"),R=function(t,n){return angular.isFunction(F(e))&&b.getOption("getterSetter")?H(t,{$$$p:n}):F.assign(t,n)},V=d.parse(n.uibTypeahead),q=e.$new(),L=e.$on("$destroy",function(){q.$destroy()});q.$on("$destroy",L);var z="typeahead-"+q.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":z});var Y,B;N&&(Y=angular.element("<div></div>"),Y.css("position","relative"),t.after(Y),B=t.clone(),B.attr("placeholder",""),B.attr("tabindex","-1"),B.val(""),B.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),t.css({position:"relative","vertical-align":"top","background-color":"transparent"}),B.attr("id")&&B.removeAttr("id"),Y.append(B),B.after(t));var W=angular.element("<div uib-typeahead-popup></div>");W.attr({id:z,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(n.typeaheadTemplateUrl)&&W.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&W.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var j=function(){N&&B.val("")},_=function(){q.matches=[],q.activeIdx=-1,t.attr("aria-expanded",!1),j()},G=function(e){return z+"-option-"+e};q.$watch("activeIdx",function(e){e<0?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",G(e))});var K=function(e,t){return!!(q.matches.length>t&&e)&&e.toUpperCase()===q.matches[t].label.toUpperCase()},X=function(n,a){var i={$viewValue:n};x(e,!0),O(e,!1),o.when(V.source(e,i)).then(function(o){var r=n===g.$viewValue;if(r&&k)if(o&&o.length>0){q.activeIdx=A?0:-1,O(e,!1),q.matches.length=0;for(var l=0;l<o.length;l++)i[V.itemName]=o[l],q.matches.push({id:G(l),label:V.viewMapper(q,i),model:o[l]});if(q.query=n,f(),t.attr("aria-expanded",!0),I&&1===q.matches.length&&K(n,0)&&(angular.isNumber(q.debounceUpdate)||angular.isObject(q.debounceUpdate)?p(function(){q.select(0,a)},angular.isNumber(q.debounceUpdate)?q.debounceUpdate:q.debounceUpdate.default):q.select(0,a)),N){var s=q.matches[0].label;angular.isString(n)&&n.length>0&&s.slice(0,n.length).toUpperCase()===n.toUpperCase()?B.val(n+s.slice(n.length)):B.val("")}}else _(),O(e,!0);r&&x(e,!1)},function(){_(),x(e,!1),O(e,!0)})};P&&(angular.element(s).on("resize",m),l.find("body").on("scroll",m));var Z=p(function(){q.matches.length&&f(),q.moveInProgress=!1},200);q.moveInProgress=!1,q.query=void 0;var J,Q=function(e){J=r(function(){X(e)},y)},ee=function(){J&&r.cancel(J)};_(),q.assignIsOpen=function(t){U(e,t)},q.select=function(a,i){var o,l,s={};D=!0,s[V.itemName]=l=q.matches[a].model,o=V.modelMapper(e,s),R(e,o),g.$setValidity("editable",!0),g.$setValidity("parse",!0),M(e,{$item:l,$model:o,$label:V.viewMapper(e,s),$event:i}),_(),!1!==q.$eval(n.typeaheadFocusOnSelect)&&r(function(){t[0].focus()},0,!1)},t.on("keydown",function(t){if(0!==q.matches.length&&-1!==v.indexOf(t.which)){var n=C(e,{$event:t});if(-1===q.activeIdx&&n||9===t.which&&t.shiftKey)return _(),void q.$digest();t.preventDefault();var a;switch(t.which){case 27:t.stopPropagation(),_(),e.$digest();break;case 38:q.activeIdx=(q.activeIdx>0?q.activeIdx:q.matches.length)-1,q.$digest(),a=W[0].querySelectorAll(".uib-typeahead-match")[q.activeIdx],a.parentNode.scrollTop=a.offsetTop;break;case 40:q.activeIdx=(q.activeIdx+1)%q.matches.length,q.$digest(),a=W[0].querySelectorAll(".uib-typeahead-match")[q.activeIdx],a.parentNode.scrollTop=a.offsetTop;break;default:n&&q.$apply(function(){
angular.isNumber(q.debounceUpdate)||angular.isObject(q.debounceUpdate)?p(function(){q.select(q.activeIdx,t)},angular.isNumber(q.debounceUpdate)?q.debounceUpdate:q.debounceUpdate.default):q.select(q.activeIdx,t)})}}}),t.on("focus",function(e){k=!0,0!==$||g.$viewValue||r(function(){X(g.$viewValue,e)},0)}),t.on("blur",function(e){T&&q.matches.length&&-1!==q.activeIdx&&!D&&(D=!0,q.$apply(function(){angular.isObject(q.debounceUpdate)&&angular.isNumber(q.debounceUpdate.blur)?p(function(){q.select(q.activeIdx,e)},q.debounceUpdate.blur):q.select(q.activeIdx,e)})),!w&&g.$error.editable&&(g.$setViewValue(),q.$apply(function(){g.$setValidity("editable",!0),g.$setValidity("parse",!0)}),t.val("")),k=!1,D=!1});var te=function(n){t[0]!==n.target&&3!==n.which&&0!==q.matches.length&&(_(),u.$$phase||e.$digest())};l.on("click",te),e.$on("$destroy",function(){l.off("click",te),(P||E)&&ne.remove(),P&&(angular.element(s).off("resize",m),l.find("body").off("scroll",m)),W.remove(),N&&Y.remove()});var ne=a(W)(q);P?l.find("body").append(ne):E?angular.element(E).eq(0).append(ne):t.after(ne),this.init=function(t){g=t,b=h(g),q.debounceUpdate=i(b.getOption("debounce"))(e),g.$parsers.unshift(function(t){return k=!0,0===$||t&&t.length>=$?y>0?(ee(),Q(t)):X(t):(x(e,!1),ee(),_()),w?t:t?void g.$setValidity("editable",!1):(g.$setValidity("editable",!0),null)}),g.$formatters.push(function(t){var n,a,i={};return w||g.$setValidity("editable",!0),S?(i.$model=t,S(e,i)):(i[V.itemName]=t,n=V.viewMapper(e,i),i[V.itemName]=void 0,a=V.viewMapper(e,i),n!==a?n:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","uibTypeahead"],link:function(e,t,n,a){a[1].init(a[0])}}}).directive("uibTypeaheadPopup",["$$debounce",function(e){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(t,n,a){t.templateUrl=a.templateUrl,t.isOpen=function(){var e=t.matches.length>0;return t.assignIsOpen({isOpen:e}),e},t.isActive=function(e){return t.active===e},t.selectActive=function(e){t.active=e},t.selectMatch=function(n,a){var i=t.debounce();angular.isNumber(i)||angular.isObject(i)?e(function(){t.select({activeIdx:n,evt:a})},angular.isNumber(i)?i:i.default):t.select({activeIdx:n,evt:a})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(a,i,o){var r=n(o.templateUrl)(a.$parent)||"uib/template/typeahead/typeahead-match.html";e(r).then(function(e){var n=angular.element(e.trim());i.replaceWith(n),t(n)(a)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function a(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function i(e){return/<.*>/g.test(e)}var o;return o=t.has("$sanitize"),function(t,r){return!o&&i(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=r?(""+t).replace(new RegExp(a(r),"gi"),"<strong>$&</strong>"):t,o||(t=e.trustAsHtml(t)),t}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/popup.html",'<div>\n  <ul class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n    <li ng-transclude></li>\n    <li ng-if="showButtonBar" class="uib-button-bar">\n      <span class="btn-group pull-left">\n        <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n        <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n      </span>\n      <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n    </li>\n  </ul>\n</div>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepickerPopup/popup.html",'<ul role="presentation" class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/backdrop.html",'<div class="modal-backdrop"\n     uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(e){e.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("uib/template/pagination/pagination.html",'<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li role="menuitem" ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0});
},{}],6:[function(require,module,exports){
require("./dist/ui-bootstrap-tpls"),module.exports="ui.bootstrap";
},{"./dist/ui-bootstrap-tpls":5}],7:[function(require,module,exports){
angular.module("xeditable",[]).value("editableOptions",{theme:"default",icon_set:"default",buttons:"right",blurElem:"cancel",blurForm:"ignore",activate:"focus",isDisabled:!1,activationEvent:"click",submitButtonTitle:"Submit",submitButtonAriaLabel:"Submit",cancelButtonTitle:"Cancel",cancelButtonAriaLabel:"Cancel",clearButtonTitle:"Clear",clearButtonAriaLabel:"Clear",displayClearButton:!1}),angular.module("xeditable").directive("editableBsdate",["editableDirectiveFactory","$injector","$parse",function(e,t,a){var n=t.get("uibDatepickerConfig"),i=t.get("uibDatepickerPopupConfig"),r=[["eIsOpen","is-open"],["eDateDisabled","date-disabled"],["eDatepickerPopup","uib-datepicker-popup"],["eShowButtonBar","show-button-bar"],["eCurrentText","current-text"],["eClearText","clear-text"],["eCloseText","close-text"],["eCloseOnDateSelection","close-on-date-selection"],["eDatepickerAppendToBody","datepicker-append-to-body"],["eOnOpenFocus","on-open-focus"],["eName","name"],["eDateDisabled","date-disabled"],["eAltInputFormats","alt-input-formats"],["eDatepickerTemplateUrl","datepicker-template-url"]],l=[["eFormatDay","formatDay"],["eFormatMonth","formatMonth"],["eFormatYear","formatYear"],["eFormatDayHeader","formatDayHeader"],["eFormatDayTitle","formatDayTitle"],["eFormatMonthTitle","formatMonthTitle"],["eMaxMode","maxMode"],["eMinMode","minMode"],["eDatepickerMode","datepickerMode"]];return e({directiveName:"editableBsdate",inputTpl:"<div></div>",render:function(){this.parent.render.call(this);var e=this.attrs,t=this.scope,o=angular.element('<input type="text" class="form-control" ng-model="$parent.$data"/>');o.attr("uib-datepicker-popup",e.eDatepickerPopupXEditable||i.datepickerPopup),o.attr("year-range",e.eYearRange||20),o.attr("ng-readonly",e.eReadonly||!1);for(var s=r.length-1;s>=0;s--){var u=e[r[s][0]];void 0!==u&&o.attr(r[s][1],u)}e.eNgChange&&(o.attr("ng-change",e.eNgChange),this.inputEl.removeAttr("ng-change")),e.eStyle&&(o.attr("style",e.eStyle),this.inputEl.removeAttr("style"));var c={maxDate:t.$eval(e.eMaxDate)||n.maxDate,minDate:t.$eval(e.eMinDate)||n.minDate,showWeeks:e.eShowWeeks?"true"===e.eShowWeeks.toLowerCase():n.showWeeks,startingDay:e.eStartingDay||0,initDate:t.$eval(e.eInitDate)||new Date};if(e.eDatepickerOptions){var d=a(e.eDatepickerOptions)(t);angular.extend(c,d)}for(var p=l.length-1;p>=0;p--){var h=e[l[p][0]];void 0!==h&&(c[l[p][1]]=h)}if(t.dateOptions=c,"true"===(angular.isDefined(e.eShowCalendarButton)?e.eShowCalendarButton:"true")){var m=angular.element('<button type="button" class="'+this.theme.calendarButtonClass+'"><i class="'+this.icon_set.calendar+'"></i></button>'),b=angular.element('<span class="'+this.theme.buttonGroupAppendClass+'"></span>');m.attr("ng-click",e.eNgClick),b.append(m),this.inputEl.append(b)}else o.attr("ng-click",e.eNgClick);o.attr("datepicker-options","dateOptions"),this.inputEl.prepend(o),this.inputEl.removeAttr("class"),this.inputEl.removeAttr("ng-click"),this.inputEl.removeAttr("is-open"),this.inputEl.removeAttr("init-date"),this.inputEl.removeAttr("datepicker-popup"),this.inputEl.removeAttr("required"),this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("date-picker-append-to-body"),this.inputEl.removeAttr("name"),this.inputEl.attr("class","input-group")},autosubmit:function(){var e=this;e.inputEl.bind("change",function(){setTimeout(function(){e.scope.$apply(function(){e.scope.$form.$submit()})},500)}),e.inputEl.bind("keydown",function(t){9===t.keyCode&&"submit"===e.editorEl.attr("blur")&&e.scope.$apply(function(){e.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableBstime",["editableDirectiveFactory",function(e){return e({directiveName:"editableBstime",inputTpl:"<div uib-timepicker></div>",render:function(){this.parent.render.call(this);var e=angular.element('<div class="well well-small" style="display:inline-block;"></div>');e.attr("ng-model",this.inputEl.attr("ng-model")),this.inputEl.removeAttr("ng-model"),this.attrs.eNgChange&&(e.attr("ng-change",this.inputEl.attr("ng-change")),this.inputEl.removeAttr("ng-change")),this.inputEl.wrap(e)}})}]),angular.module("xeditable").directive("editableCheckbox",["editableDirectiveFactory",function(e){return e({directiveName:"editableCheckbox",inputTpl:'<input type="checkbox">',render:function(){this.parent.render.call(this),this.inputEl.wrap("<label></label>"),this.attrs.eTitle&&this.inputEl.parent().append("<span>"+this.attrs.eTitle+"</span>")},autosubmit:function(){var e=this;e.inputEl.bind("change",function(){setTimeout(function(){e.scope.$apply(function(){e.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableChecklist",["editableDirectiveFactory","editableNgOptionsParser",function(e,t){return e({directiveName:"editableChecklist",inputTpl:"<span></span>",useCopy:!0,render:function(){this.parent.render.call(this);var e=t(this.attrs.eNgOptions),a="",n="",i="";this.attrs.eNgChange&&(a=' ng-change="'+this.attrs.eNgChange+'"'),this.attrs.eChecklistComparator&&(n=' checklist-comparator="'+this.attrs.eChecklistComparator+'"'),this.attrs.eNgDisabled&&(i=' ng-disabled="'+this.attrs.eNgDisabled+'"');var r='<label ng-repeat="'+e.ngRepeat+'"><input type="checkbox" checklist-model="$parent.$parent.$data" checklist-value="'+e.locals.valueFn+'"'+a+n+i+'><span ng-bind="'+e.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.removeAttr("ng-change"),this.inputEl.removeAttr("checklist-comparator"),this.inputEl.html(r)}})}]),angular.module("xeditable").directive("editableCombodate",["editableDirectiveFactory","editableCombodate",function(e,t){return e({directiveName:"editableCombodate",inputTpl:'<input type="text">',render:function(){this.parent.render.call(this);var e={value:new Date(this.scope.$data)},a=this;angular.forEach(["format","template","minYear","maxYear","yearDescending","minuteStep","secondStep","firstItem","errorClass","customClass","roundTime","smartDays"],function(t){var n="e"+t.charAt(0).toUpperCase()+t.slice(1);n in a.attrs&&(e[t]="minYear"==t||"maxYear"==t||"minuteStep"==t||"secondStep"==t?parseInt(a.attrs[n],10):a.attrs[n])});var n=t.getInstance(this.inputEl,e);n.$widget.find("select").bind("change",function(e){a.scope.$data=n.getValue()?moment(n.getValue(),n.options.format).toDate().toISOString():null}).change()}})}]),function(){var e=function(e){return e.toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()})},t="text|password|email|tel|number|url|search|color|date|datetime|datetime-local|time|month|week|file".split("|");angular.forEach(t,function(t){var a=e("editable-"+t);angular.module("xeditable").directive(a,["editableDirectiveFactory",function(e){return e({directiveName:a,inputTpl:'<input type="'+t+'">',render:function(){this.parent.render.call(this);var e=this.attrs;this.scope;if(e.eInputgroupleft||e.eInputgroupright){if(this.inputEl.wrap('<div class="input-group"></div>'),e.eInputgroupleft){var t=angular.element('<span class="input-group-addon" data-ng-bind="'+e.eInputgroupleft+'"></span>');this.inputEl.parent().prepend(t)}if(e.eInputgroupright){var a=angular.element('<span class="input-group-addon" data-ng-bind="'+e.eInputgroupright+'"></span>');this.inputEl.parent().append(a)}}if(e.eLabel){var n=angular.element("<label>"+e.eLabel+"</label>");e.eInputgroupleft||e.eInputgroupright?this.inputEl.parent().parent().prepend(n):this.inputEl.parent().prepend(n)}e.eFormclass&&(this.editorEl.addClass(e.eFormclass),this.inputEl.removeAttr("formclass"))},autosubmit:function(){var e=this;e.inputEl.bind("keydown",function(t){9===t.keyCode&&"submit"===e.editorEl.attr("blur")&&e.scope.$apply(function(){e.scope.$form.$submit()})})}})}])}),angular.module("xeditable").directive("editableRange",["editableDirectiveFactory","$interpolate",function(e,t){return e({directiveName:"editableRange",inputTpl:'<input type="range" id="range" name="range">',render:function(){this.parent.render.call(this),this.inputEl.after("<output>"+t.startSymbol()+"$data"+t.endSymbol()+"</output>")}})}])}(),angular.module("xeditable").directive("editableTagsInput",["editableDirectiveFactory","editableUtils",function(e,t){var a=e({directiveName:"editableTagsInput",inputTpl:"<tags-input></tags-input>",useCopy:!0,render:function(){this.parent.render.call(this),this.inputEl.append(t.rename("auto-complete",this.attrs.$autoCompleteElement)),this.inputEl.removeAttr("ng-model"),this.inputEl.attr("ng-model","$parent.$data")}}),n=a.link;return a.link=function(e,t,a,i){var r=t.find("editable-tags-input-auto-complete");return a.$autoCompleteElement=r.clone(),r.remove(),n(e,t,a,i)},a}]),angular.module("xeditable").directive("editableRadiolist",["editableDirectiveFactory","editableNgOptionsParser","$interpolate",function(e,t,a){return e({directiveName:"editableRadiolist",inputTpl:"<span></span>",render:function(){this.parent.render.call(this);var e=t(this.attrs.eNgOptions),n="",i="",r=isNaN(e.locals.valueFn)?"'"+e.locals.valueFn+"'":e.locals.valueFn,l=!!this.attrs.eNgDisabled&&this.attrs.eNgDisabled;this.attrs.eNgChange&&(n=' ng-change="'+this.attrs.eNgChange+'"'),this.attrs.eName&&(i=' name="'+this.attrs.eName+'"');var o='<label data-ng-repeat="'+e.ngRepeat+'"><input type="radio" data-ng-disabled="::'+l+'" data-ng-model="$parent.$parent.$data" data-ng-value="'+a.startSymbol()+"::"+r+a.endSymbol()+'"'+n+i+'><span data-ng-bind="::'+e.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.removeAttr("ng-change"),this.inputEl.html(o)},autosubmit:function(){var e=this;e.inputEl.bind("change",function(){setTimeout(function(){e.scope.$apply(function(){e.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableSelect",["editableDirectiveFactory",function(e){return e({directiveName:"editableSelect",inputTpl:"<select></select>",render:function(){if(this.parent.render.call(this),this.attrs.ePlaceholder){var e=angular.element('<option value="">'+this.attrs.ePlaceholder+"</option>");this.inputEl.append(e)}},autosubmit:function(){var e=this;e.attrs.hasOwnProperty("eMultiple")||e.inputEl.bind("change",function(){e.scope.$apply(function(){e.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableTextarea",["editableDirectiveFactory",function(e){return e({directiveName:"editableTextarea",inputTpl:"<textarea></textarea>",render:function(){this.parent.render.call(this),this.attrs.eFormclass&&(this.editorEl.addClass(this.attrs.eFormclass),this.inputEl.removeAttr("formclass"))},addListeners:function(){var e=this;e.parent.addListeners.call(e),e.single&&"no"!==e.buttons&&e.autosubmit()},autosubmit:function(){var e=this;e.inputEl.bind("keydown",function(t){e.attrs.submitOnEnter?13!==t.keyCode||t.shiftKey||e.scope.$apply(function(){e.scope.$form.$submit()}):((t.ctrlKey||t.metaKey)&&13===t.keyCode||9===t.keyCode&&"submit"===e.editorEl.attr("blur"))&&e.scope.$apply(function(){e.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableUidate",["editableDirectiveFactory",function(e){return e({directiveName:"editableUidate",inputTpl:'<input class="form-control" />',render:function(){this.parent.render.call(this),this.inputEl.attr("ui-date",this.attrs.eUiDate),this.inputEl.attr("placeholder",this.attrs.ePlaceholder)}})}]),angular.module("xeditable").directive("editableUiSelect",["editableDirectiveFactory","editableUtils",function(e,t){var a=e({directiveName:"editableUiSelect",inputTpl:"<ui-select></ui-select>",render:function(){this.parent.render.call(this),this.inputEl.append(t.rename("ui-select-match",this.attrs.$matchElement)),this.inputEl.append(t.rename("ui-select-choices",this.attrs.$choicesElement)),this.inputEl.removeAttr("ng-model"),this.inputEl.attr("ng-model","$parent.$parent.$data")},autosubmit:function(){var e=this;e.inputEl.bind("change",function(){setTimeout(function(){e.scope.$apply(function(){e.scope.$form.$submit()})},500)}),e.inputEl.bind("keydown",function(t){9===t.keyCode&&"submit"===e.editorEl.attr("blur")&&e.scope.$apply(function(){e.scope.$form.$submit()})})}}),n=a.link;return a.link=function(e,t,a,i){var r=t.find("editable-ui-select-match"),l=t.find("editable-ui-select-choices");return a.$matchElement=r.clone(),a.$choicesElement=l.clone(),r.remove(),l.remove(),n(e,t,a,i)},a}]),angular.module("xeditable").factory("editableController",["$q","editableUtils",function(e,t){function a(e,a,n,i,r,l,o,s,u,c,d,p){var h,m,b=this;b.scope=e,b.elem=n,b.attrs=a,b.inputEl=null,b.editorEl=null,b.single=!0,b.error="",b.theme=r[a.editableTheme]||r[o.theme]||r.default,b.parent={};var f=a.editableTheme||o.theme||"default",g=a.editableIconSet||o.icon_set;b.icon_set="default"===g?l.default[f]:l.external[g],b.inputTpl="",b.directiveName="",b.useCopy=!1,b.single=null,b.buttons="right",b.popover=!1,b.init=function(t){if(b.single=t,b.name=a.eName||a[b.directiveName],!a[b.directiveName])throw"You should provide value for `"+b.directiveName+"` in editable element!";h=i(a[b.directiveName]),b.single?b.buttons=b.attrs.buttons||o.buttons:b.buttons="no",a.eName&&b.scope.$watch("$data",function(e){b.scope.$form.$data[a.eName]=e}),a.onshow&&(b.onshow=function(){return b.catchError(i(a.onshow)(e))}),a.onhide&&(b.onhide=function(){return i(a.onhide)(e)}),a.oncancel&&(b.oncancel=function(){return i(a.oncancel)(e)}),a.onbeforesave&&(b.onbeforesave=function(){return b.catchError(i(a.onbeforesave)(e))}),a.onaftersave&&(b.onaftersave=function(){return b.catchError(i(a.onaftersave)(e))}),a.popover&&(b.popover=b.attrs.popover),e.$parent.$watch(a[b.directiveName],function(e,t){b.setLocalValue(),b.handleEmpty()})},b.render=function(){var e=b.theme;b.inputEl=angular.element(b.inputTpl),b.controlsEl=angular.element(e.controlsTpl),b.controlsEl.append(b.inputEl),"no"!==b.buttons&&(b.buttonsEl=angular.element(e.buttonsTpl),b.submitEl=angular.element(e.submitTpl),b.resetEl=angular.element(e.resetTpl),b.cancelEl=angular.element(e.cancelTpl),b.submitEl.attr("title",o.submitButtonTitle),b.submitEl.attr("aria-label",o.submitButtonAriaLabel),b.cancelEl.attr("title",o.cancelButtonTitle),b.cancelEl.attr("aria-label",o.cancelButtonAriaLabel),b.resetEl.attr("title",o.clearButtonTitle),b.resetEl.attr("aria-label",o.clearButtonAriaLabel),b.icon_set&&(b.submitEl.find("span").addClass(b.icon_set.ok),b.cancelEl.find("span").addClass(b.icon_set.cancel),b.resetEl.find("span").addClass(b.icon_set.clear)),b.buttonsEl.append(b.submitEl).append(b.cancelEl),o.displayClearButton&&b.buttonsEl.append(b.resetEl),b.controlsEl.append(b.buttonsEl),b.inputEl.addClass("editable-has-buttons")),b.errorEl=angular.element(e.errorTpl),b.controlsEl.append(b.errorEl),b.editorEl=angular.element(b.single?e.formTpl:e.noformTpl),b.editorEl.append(b.controlsEl);for(var n in a.$attr)if(!(n.length<=1)){var i=!1,r=n.substring(1,2);if("e"===n.substring(0,1)&&r===r.toUpperCase()&&"Form"!==(i=n.substring(1))&&"NgSubmit"!==i){var l=i.substring(0,1),s=i.substring(1,2);i=s===s.toUpperCase()&&l===l.toUpperCase()?l.toLowerCase()+"-"+t.camelToDash(i.substring(1)):l.toLowerCase()+t.camelToDash(i.substring(1));var u="value"!==i&&""===a[n]?i:a[n];b.inputEl.attr(i,u)}}b.inputEl.addClass("editable-input"),b.inputEl.attr("ng-model","$parent.$data"),b.editorEl.addClass(t.camelToDash(b.directiveName)),b.single&&(b.editorEl.attr("editable-form","$form"),b.editorEl.attr("blur",b.attrs.blur||o.blurElem)),angular.isFunction(e.postrender)&&e.postrender.call(b)},b.setLocalValue=function(){b.scope.$data=b.useCopy?angular.copy(h(e.$parent)):h(e.$parent)};var v=null;b.show=function(){if(b.setLocalValue(),b.render(),n.after(b.editorEl),v=e.$new(),u(b.editorEl)(v),b.addListeners(),n.addClass("editable-hide"),b.popover){var t=angular.element("<div></div>");t.append(b.editorEl),b.editorEl=t,p.put("popover.html",b.editorEl[0].outerHTML)}return b.onshow()},b.hide=function(){return v.$destroy(),b.controlsEl.remove(),b.editorEl.remove(),n.removeClass("editable-hide"),b.popover&&p.remove("popover.html"),b.onhide()},b.cancel=function(){b.oncancel()},b.addListeners=function(){b.inputEl.bind("keyup",function(e){if(b.single)switch(e.keyCode){case 27:b.scope.$apply(function(){b.scope.$form.$cancel()})}}),b.single&&"no"===b.buttons&&b.autosubmit(),b.editorEl.bind("click",function(e){e.which&&1!==e.which||b.scope.$form.$visible&&(b.scope.$form._clicked=!0)})},b.setWaiting=function(e){e?(m=!b.inputEl.attr("disabled")&&!b.inputEl.attr("ng-disabled")&&!b.inputEl.attr("ng-enabled"))&&(b.inputEl.attr("disabled","disabled"),b.buttonsEl&&b.buttonsEl.find("button").attr("disabled","disabled")):m&&(b.inputEl.removeAttr("disabled"),b.buttonsEl&&b.buttonsEl.find("button").removeAttr("disabled"))},b.activate=function(e,t){setTimeout(function(){var a=b.inputEl[0];"focus"===o.activate&&a.focus?(void 0!==e&&""!==e&&a.setSelectionRange&&(t=t||e,a.onfocus=function(){setTimeout(function(){try{this.setSelectionRange(e,t)}catch(e){}}.bind(this))}),"editableRadiolist"==b.directiveName||"editableChecklist"==b.directiveName||"editableBsdate"==b.directiveName||"editableTagsInput"==b.directiveName?a.querySelector(".ng-pristine").focus():a.focus()):"select"===o.activate&&(a.select?a.select():a.focus&&a.focus())},0)},b.setError=function(t){angular.isObject(t)||(e.$error=d.trustAsHtml(t),b.error=t)},b.catchError=function(e,t){return angular.isObject(e)&&!0!==t?c.when(e).then(angular.bind(this,function(e){this.catchError(e,!0)}),angular.bind(this,function(e){this.catchError(e,!0)})):t&&angular.isObject(e)&&e.status&&200!==e.status&&e.data&&angular.isString(e.data)?(this.setError(e.data),e=e.data):angular.isString(e)&&this.setError(e),e},b.save=function(){h.assign(e.$parent,b.useCopy?angular.copy(b.scope.$data):b.scope.$data)},b.handleEmpty=function(){var t=h(e.$parent),a=null===t||void 0===t||""===t||angular.isArray(t)&&0===t.length;n.toggleClass("editable-empty",a)},b.autosubmit=angular.noop,b.onshow=angular.noop,b.onhide=angular.noop,b.oncancel=angular.noop,b.onbeforesave=angular.noop,b.onaftersave=angular.noop}return a.$inject=["$scope","$attrs","$element","$parse","editableThemes","editableIcons","editableOptions","$rootScope","$compile","$q","$sce","$templateCache"],a}]),angular.module("xeditable").factory("editableDirectiveFactory",["$parse","$compile","editableThemes","$rootScope","$document","editableController","editableFormController","editableOptions",function(e,t,a,n,i,r,l,o){return function(t){return{restrict:"A",scope:!0,require:[t.directiveName,"?^form"],controller:r,link:function(a,r,s,u){var c,d=u[0],p=!1;if(u[1])c=u[1],p=void 0===s.eSingle;else if(s.eForm){var h=e(s.eForm)(a);if(h)c=h,p=!0;else if(r&&"function"==typeof r.parents&&r.parents().last().find('form[name="'+s.eForm+'"]').length)c=null,p=!0;else for(var m=0;m<i[0].forms.length;m++)if(i[0].forms[m].name===s.eForm){c=null,p=!0;break}}angular.forEach(t,function(e,t){void 0!==d[t]&&(d.parent[t]=d[t])}),angular.extend(d,t);var b=function(){return angular.isDefined(s.editDisabled)?a.$eval(s.editDisabled):o.isDisabled};if(d.init(!p),a.$editable=d,r.addClass("editable"),p)if(c){if(a.$form=c,!a.$form.$addEditable)throw"Form with editable elements should have `editable-form` attribute.";a.$form.$addEditable(d)}else n.$$editableBuffer=n.$$editableBuffer||{},n.$$editableBuffer[s.eForm]=n.$$editableBuffer[s.eForm]||[],n.$$editableBuffer[s.eForm].push(d),a.$form=null;else a.$form=l(),a.$form.$addEditable(d),s.eForm&&(e(s.eForm).assign||angular.noop)(a.$parent,a.$form),s.eForm&&!s.eClickable||(r.addClass("editable-click"),r.bind(o.activationEvent,function(e){e.preventDefault(),e.editable=d,b()||a.$apply(function(){a.$form.$show()})}))}}}}]),angular.module("xeditable").factory("editableFormController",["$parse","$document","$rootScope","editablePromiseCollection","editableUtils","editableOptions",function(e,t,a,n,i,r){var l=[],o=function(e,t){if(t===e||"focus"===r.activationEvent&&t===e.parentNode)return!0;for(var a=t.parentNode;null!==a;){if(a===e)return!0;a=a.parentNode}return!1},s=function(e,t){var a=!0,n=e.$editables;return angular.forEach(n,function(e){var n=e.editorEl[0];o(n,t.target)&&(a=!1)}),a},u=function(e){if(!e.which||1===e.which){for(var t=[],n=[],i=0;i<l.length;i++)l[i]._clicked?l[i]._clicked=!1:l[i].$waiting||("cancel"===l[i]._blur&&s(l[i],e)&&t.push(l[i]),"submit"===l[i]._blur&&s(l[i],e)&&n.push(l[i]));(t.length||n.length)&&a.$apply(function(){angular.forEach(t,function(e){e.$cancel()}),angular.forEach(n,function(e){e.$submit()})})}};a.$on("closeEdit",function(){for(var e=0;e<l.length;e++)l[e].$hide()});var c={$addEditable:function(e){this.$editables.push(e),e.elem.bind("$destroy",angular.bind(this,this.$removeEditable,e)),e.scope.$form||(e.scope.$form=this),this.$visible&&e.catchError(e.show()),e.catchError(e.setWaiting(this.$waiting))},$removeEditable:function(e){for(var t=0;t<this.$editables.length;t++)if(this.$editables[t]===e)return void this.$editables.splice(t,1)},$show:function(){if(!this.$visible){this.$visible=!0;var e=n();e.when(this.$onshow()),this.$setError(null,""),angular.forEach(this.$editables,function(t){e.when(t.show())}),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$activate),onFalse:angular.bind(this,this.$activate),onString:angular.bind(this,this.$activate)}),setTimeout(angular.bind(this,function(){this._clicked=!1,-1===i.indexOf(l,this)&&l.push(this)}),0)}},$activate:function(e){var a,n,i;if(this.$editables.length){if(angular.isString(e))for(a=0;a<this.$editables.length;a++)if(this.$editables[a].name===e)return void this.$editables[a].activate();for(a=0;a<this.$editables.length;a++)if(this.$editables[a].error)return void this.$editables[a].activate();"true"===this.$editables[0].attrs.usemousedown?t.bind("mousedown",u):t.bind("click",u),n=this.$editables[0].elem[0].selectionStart?this.$editables[0].elem[0].selectionStart:this.$editables[0].elem[0].text?this.$editables[0].elem[0].text.length:this.$editables[0].elem[0].innerHTML?this.$editables[0].elem[0].innerHTML.length:0,i=this.$editables[0].elem[0].selectionEnd?this.$editables[0].elem[0].selectionEnd:this.$editables[0].elem[0].text?this.$editables[0].elem[0].text.length:this.$editables[0].elem[0].innerHTML?this.$editables[0].elem[0].innerHTML.length:0,this.$editables[0].activate(n,i)}},$hide:function(){this.$visible&&(this.$visible=!1,this.$onhide(),angular.forEach(this.$editables,function(e){e.hide()}),i.arrayRemove(l,this))},$cancel:function(){this.$visible&&(this.$oncancel(),angular.forEach(this.$editables,function(e){e.cancel()}),this.$hide())},$setWaiting:function(e){this.$waiting=!!e,angular.forEach(this.$editables,function(t){t.setWaiting(!!e)})},$setError:function(e,t){angular.forEach(this.$editables,function(a){e&&a.name!==e||a.setError(t)})},$submit:function(){function e(e){var t=n();t.when(this.$onbeforesave()),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:e?angular.bind(this,this.$save):angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})}if(!this.$waiting){this.$setError(null,"");var t=n();angular.forEach(this.$editables,function(e){t.when(e.onbeforesave())}),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,e,!0),onFalse:angular.bind(this,e,!1),onString:angular.bind(this,this.$activate)})}},$save:function(){angular.forEach(this.$editables,function(e){e.save()});var e=n();e.when(this.$onaftersave()),angular.forEach(this.$editables,function(t){e.when(t.onaftersave())}),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})},$onshow:angular.noop,$oncancel:angular.noop,$onhide:angular.noop,$onbeforesave:angular.noop,$onaftersave:angular.noop};return function(){return angular.extend({$editables:[],$visible:!1,$waiting:!1,$data:{},_clicked:!1,_blur:null},c)}}]),angular.module("xeditable").directive("editableForm",["$rootScope","$parse","editableFormController","editableOptions",function(e,t,a,n){return{restrict:"A",require:["form"],compile:function(){return{pre:function(t,n,i,r){var l,o=r[0];i.editableForm?t[i.editableForm]&&t[i.editableForm].$show?(l=t[i.editableForm],angular.extend(o,l)):(l=a(),t[i.editableForm]=l,angular.extend(l,o)):(l=a(),angular.extend(o,l));var s=e.$$editableBuffer,u=o.$name;u&&s&&s[u]&&(angular.forEach(s[u],function(e){l.$addEditable(e)}),delete s[u])},post:function(e,a,i,r){var l;l=i.editableForm&&e[i.editableForm]&&e[i.editableForm].$show?e[i.editableForm]:r[0],i.onshow&&(l.$onshow=angular.bind(l,t(i.onshow),e)),i.onhide&&(l.$onhide=angular.bind(l,t(i.onhide),e)),i.oncancel&&(l.$oncancel=angular.bind(l,t(i.oncancel),e)),i.shown&&t(i.shown)(e)&&l.$show(),l._blur=i.blur||n.blurForm,i.ngSubmit||i.submit||(i.onbeforesave&&(l.$onbeforesave=function(){return t(i.onbeforesave)(e,{$data:l.$data})}),i.onaftersave&&(l.$onaftersave=function(){return t(i.onaftersave)(e,{$data:l.$data})}),a.bind("submit",function(t){t.preventDefault(),e.$apply(function(){l.$submit()})})),a.bind("click",function(e){e.which&&1!==e.which||l.$visible&&(l._clicked=!0)})}}}}}]),angular.module("xeditable").factory("editablePromiseCollection",["$q",function(e){function t(){return{promises:[],hasFalse:!1,hasString:!1,when:function(t,a){if(!1===t)this.hasFalse=!0;else if(!a&&angular.isObject(t))this.promises.push(e.when(t));else{if(!angular.isString(t))return;this.hasString=!0}},then:function(t){function a(){o.hasString||o.hasFalse?!o.hasString&&o.hasFalse?i():r():n()}t=t||{};var n=t.onTrue||angular.noop,i=t.onFalse||angular.noop,r=t.onString||angular.noop,l=t.onWait||angular.noop,o=this;this.promises.length?(l(!0),e.all(this.promises).then(function(e){l(!1),angular.forEach(e,function(e){o.when(e,!0)}),a()},function(e){l(!1),r()})):a()}}}return t}]),angular.module("xeditable").factory("editableUtils",[function(){return{indexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var a=0;a<e.length;a++)if(t===e[a])return a;return-1},arrayRemove:function(e,t){var a=this.indexOf(e,t);return a>=0&&e.splice(a,1),t},camelToDash:function(e){var t=/[A-Z]/g;return e.replace(t,function(e,t){return(t?"-":"")+e.toLowerCase()})},dashToCamel:function(e){var t=/([\:\-\_]+(.))/g,a=/^moz([A-Z])/;return e.replace(t,function(e,t,a,n){return n?a.toUpperCase():a}).replace(a,"Moz$1")},rename:function(e,t){if(t[0]&&t[0].attributes){var a=angular.element("<"+e+"/>");a.html(t.html());for(var n=t[0].attributes,i=0;i<n.length;++i)a.attr(n.item(i).nodeName,n.item(i).value);return a}}}}]),angular.module("xeditable").factory("editableNgOptionsParser",[function(){function e(e){var a;if(!(a=e.match(t)))throw"ng-options parse error";var n,i=a[2]||a[1],r=a[4]||a[6],l=a[5],o=(a[3],a[2]?a[1]:r),s=a[7],u=a[8],c=u?a[8]:null;return void 0===l?(n=r+" in "+s,void 0!==u&&(n+=" track by "+c)):n="("+l+", "+r+") in "+s,{ngRepeat:n,locals:{valueName:r,keyName:l,valueFn:o,displayFn:i}}}var t=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/;return e}]),angular.module("xeditable").factory("editableCombodate",[function(){function e(e,t){if(this.$element=angular.element(e),"INPUT"!=this.$element[0].nodeName)throw"Combodate should be applied to INPUT element";var a=(new Date).getFullYear();this.defaults={format:"YYYY-MM-DD HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:a,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,customClass:"",roundTime:!0,smartDays:!0},this.options=angular.extend({},this.defaults,t),this.init()}return e.prototype={constructor:e,init:function(){if(this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=angular.element('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.options.smartDays){var e=this;this.$widget.find("select").bind("change",function(t){(angular.element(t.target).hasClass("month")||angular.element(t.target).hasClass("year"))&&e.fillCombo("day")})}this.$widget.find("select").css("width","auto"),this.$element.css("display","none").after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var e=this.options.template,t=this.options.customClass;return angular.forEach(this.map,function(t,a){t=t[0];var n=new RegExp(t+"+"),i=t.length>1?t.substring(1,2):t;e=e.replace(n,"{"+i+"}")}),e=e.replace(/ /g,"&nbsp;"),angular.forEach(this.map,function(a,n){a=a[0];var i=a.length>1?a.substring(1,2):a;e=e.replace("{"+i+"}",'<select class="'+n+" "+t+'"></select>')}),e},initCombos:function(){for(var e in this.map){var t=this.$widget[0].querySelectorAll("."+e);this["$"+e]=t.length?angular.element(t):null,this.fillCombo(e)}},fillCombo:function(e){var t=this["$"+e];if(t){var a="fill"+e.charAt(0).toUpperCase()+e.slice(1),n=this[a](),i=t.val();t.html("");for(var r=0;r<n.length;r++)t.append('<option value="'+n[r][0]+'">'+n[r][1]+"</option>");t.val(i)}},fillCommon:function(e){var t,a=[];if("name"===this.options.firstItem){t=moment.relativeTime||moment.langData()._relativeTime;var n="function"==typeof t[e]?t[e](1,!0,e,!1):t[e];n=n.split(" ").reverse()[0],a.push(["",n])}else"empty"===this.options.firstItem&&a.push(["",""]);return a},fillDay:function(){var e,t,a=this.fillCommon("d"),n=-1!==this.options.template.indexOf("DD"),i=31;if(this.options.smartDays&&this.$month&&this.$year){var r=parseInt(this.$month.val(),10),l=parseInt(this.$year.val(),10);isNaN(r)||isNaN(l)||(i=moment([l,r]).daysInMonth())}for(t=1;t<=i;t++)e=n?this.leadZero(t):t,a.push([t,e]);return a},fillMonth:function(){var e,t,a=this.fillCommon("M"),n=-1!==this.options.template.indexOf("MMMM"),i=-1!==this.options.template.indexOf("MMM"),r=-1!==this.options.template.indexOf("MM");for(t=0;t<=11;t++)e=n?moment().date(1).month(t).format("MMMM"):i?moment().date(1).month(t).format("MMM"):r?this.leadZero(t+1):t+1,a.push([t,e]);return a},fillYear:function(){var e,t,a=[],n=-1!==this.options.template.indexOf("YYYY");for(t=this.options.maxYear;t>=this.options.minYear;t--)e=n?t:(t+"").substring(2),a[this.options.yearDescending?"push":"unshift"]([t,e]);return a=this.fillCommon("y").concat(a)},fillHour:function(){var e,t,a=this.fillCommon("h"),n=-1!==this.options.template.indexOf("h"),i=(this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),r=n?1:0,l=n?12:23;for(t=r;t<=l;t++)e=i?this.leadZero(t):t,a.push([t,e]);return a},fillMinute:function(){var e,t,a=this.fillCommon("m"),n=-1!==this.options.template.indexOf("mm");for(t=0;t<=59;t+=this.options.minuteStep)e=n?this.leadZero(t):t,a.push([t,e]);return a},fillSecond:function(){var e,t,a=this.fillCommon("s"),n=-1!==this.options.template.indexOf("ss");for(t=0;t<=59;t+=this.options.secondStep)e=n?this.leadZero(t):t,a.push([t,e]);return a},fillAmpm:function(){var e=-1!==this.options.template.indexOf("a");this.options.template.indexOf("A");return[["am",e?"am":"AM"],["pm",e?"pm":"PM"]]},getValue:function(e){var t,a={},n=this,i=!1;return angular.forEach(this.map,function(e,t){if("ampm"!==t){var r="day"===t?1:0;return a[t]=n["$"+t]?parseInt(n["$"+t].val(),10):r,isNaN(a[t])?(i=!0,!1):void 0}}),i?"":(this.$ampm&&(12===a.hour?a.hour="am"===this.$ampm.val()?0:12:a.hour="am"===this.$ampm.val()?a.hour:a.hour+12),t=moment([a.year,a.month,a.day,a.hour,a.minute,a.second]),this.highlight(t),e=void 0===e?this.options.format:e,null===e?t.isValid()?t:null:t.isValid()?t.format(e):"")},setValue:function(e){function t(e,t){var a={};return angular.forEach(e.children("option"),function(e,n){var i=angular.element(e).attr("value");if(""!==i){var r=Math.abs(i-t);(void 0===a.distance||r<a.distance)&&(a={value:i,distance:r})}}),a.value}if(e){var a="string"==typeof e?moment(e,this.options.format,!0):moment(e),n=this,i={};a.isValid()&&(angular.forEach(this.map,function(e,t){"ampm"!==t&&(i[t]=a[e[1]]())}),
this.$ampm&&(i.hour>=12?(i.ampm="pm",i.hour>12&&(i.hour-=12)):(i.ampm="am",0===i.hour&&(i.hour=12))),angular.forEach(i,function(e,a){n["$"+a]&&("minute"===a&&n.options.minuteStep>1&&n.options.roundTime&&(e=t(n["$"+a],e)),"second"===a&&n.options.secondStep>1&&n.options.roundTime&&(e=t(n["$"+a],e)),n["$"+a].val(e))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(a.format(this.options.format)).triggerHandler("change"))}},highlight:function(e){e.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(e){return e<=9?"0"+e:e},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},{getInstance:function(t,a){return new e(t,a)}}}]),angular.module("xeditable").factory("editableIcons",function(){return{default:{bs2:{ok:"icon-ok icon-white",cancel:"icon-remove",clear:"icon-trash",calendar:"icon-calendar"},bs3:{ok:"glyphicon glyphicon-ok",cancel:"glyphicon glyphicon-remove",clear:"glyphicon glyphicon-trash",calendar:"glyphicon glyphicon-calendar"},bs4:{ok:"fa fa-check",cancel:"fa fa-times",clear:"fa fa-trash",calendar:"fa fa-calendar"}},external:{"font-awesome":{ok:"fa fa-check",cancel:"fa fa-times",clear:"fa fa-trash",calendar:"fa fa-calendar"}}}}),angular.module("xeditable").factory("editableThemes",function(){return{default:{formTpl:'<form class="editable-wrap"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<span class="editable-controls"></span>',inputTpl:"",errorTpl:'<div class="editable-error" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit">save</button>',cancelTpl:'<button type="button" ng-click="$form.$cancel()">cancel</button>',resetTpl:'<button type="reset">clear</button>'},bs2:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls controls control-group" ng-class="{\'error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span></span></button>',cancelTpl:'<button type="button" class="btn" ng-click="$form.$cancel()"><span></span></button>',resetTpl:'<button type="reset" class="btn btn-danger">clear</button>',calendarButtonClass:"btn",buttonGroupAppendClass:"input-append"},bs3:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls form-group" ng-class="{\'has-error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span></span></button>',cancelTpl:'<button type="button" class="btn btn-default" ng-click="$form.$cancel()"><span></span></button>',resetTpl:'<button type="reset" class="btn btn-danger">clear</button>',buttonsClass:"",inputClass:"",calendarButtonClass:"btn btn-default",buttonGroupAppendClass:"input-group-btn",postrender:function(){switch(this.directiveName){case"editableText":case"editableSelect":case"editableTextarea":case"editableEmail":case"editableTel":case"editableNumber":case"editableUrl":case"editableSearch":case"editableDate":case"editableDatetime":case"editableBsdate":case"editableTime":case"editableMonth":case"editableWeek":case"editablePassword":case"editableDatetimeLocal":if(this.inputEl.addClass("form-control"),this.theme.inputClass){if(this.inputEl.attr("multiple")&&("input-sm"===this.theme.inputClass||"input-lg"===this.theme.inputClass))break;this.inputEl.addClass(this.theme.inputClass)}break;case"editableCheckbox":this.editorEl.addClass("checkbox")}this.buttonsEl&&this.theme.buttonsClass&&this.buttonsEl.find("button").addClass(this.theme.buttonsClass)}},bs4:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls form-group"></div>',inputTpl:"",errorTpl:'<div class="editable-error form-text invalid-feedback" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span></span></button>',cancelTpl:'<button type="button" class="btn btn-secondary" ng-click="$form.$cancel()"><span></span></button>',resetTpl:'<button type="reset" class="btn btn-danger">clear</button>',buttonsClass:"",inputClass:"",calendarButtonClass:"btn btn-secondary",buttonGroupAppendClass:"input-group-append",postrender:function(){switch(this.directiveName){case"editableText":case"editableSelect":case"editableTextarea":case"editableEmail":case"editableTel":case"editableNumber":case"editableUrl":case"editableSearch":case"editableDate":case"editableDatetime":case"editableBsdate":case"editableTime":case"editableMonth":case"editableWeek":case"editablePassword":case"editableDatetimeLocal":if(this.inputEl.addClass("form-control"),this.inputEl.attr("ng-class","{'is-invalid': $error}"),this.theme.inputClass){if(this.inputEl.attr("multiple")&&("form-control-sm"===this.theme.inputClass||"form-control-lg"===this.theme.inputClass))break;this.inputEl.addClass(this.theme.inputClass)}break;case"editableCheckbox":this.editorEl.addClass("form-check")}this.buttonsEl&&this.theme.buttonsClass&&this.buttonsEl.find("button").addClass(this.theme.buttonsClass)}},semantic:{formTpl:'<form class="editable-wrap ui form" ng-class="{\'error\': $error}" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls ui fluid input" ng-class="{\'error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error ui error message" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="mini ui buttons"></span>',submitTpl:'<button type="submit" class="ui primary button"><i class="ui check icon"></i></button>',cancelTpl:'<button type="button" class="ui button" ng-click="$form.$cancel()"><i class="ui cancel icon"></i></button>',resetTpl:'<button type="reset" class="ui button">clear</button>'}}});
},{}],8:[function(require,module,exports){
require("./dist/js/xeditable.js"),module.exports="xeditable";
},{"./dist/js/xeditable.js":7}],9:[function(require,module,exports){
!function(t){"use strict";function e(t){if(!w(t))return $i;b(t.objectMaxDepth)&&($i.objectMaxDepth=n(t.objectMaxDepth)?t.objectMaxDepth:NaN),b(t.urlErrorParamsEnabled)&&R(t.urlErrorParamsEnabled)&&($i.urlErrorParamsEnabled=t.urlErrorParamsEnabled)}function n(t){return C(t)&&t>0}function r(t,e){e=e||Error;var n="https://errors.angularjs.org/1.7.8/",r=n.replace(".","\\.")+"[\\s\\S]*",i=new RegExp(r,"g");return function(){var r,o,a=arguments[0],s=arguments[1],u="["+(t?t+":":"")+a+"] ",c=K(arguments,2).map(function(t){return Ct(t,$i.objectMaxDepth)});if(u+=s.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1);return e<c.length?c[e].replace(i,""):t}),u+="\n"+n+(t?t+"/":"")+a,$i.urlErrorParamsEnabled)for(o=0,r="?";o<c.length;o++,r="&")u+=r+"p"+o+"="+encodeURIComponent(c[o]);return new e(u)}}function i(t){if(null==t||T(t))return!1;if(k(t)||E(t)||hi&&t instanceof hi)return!0;var e="length"in Object(t)&&t.length;return C(e)&&(e>=0&&e-1 in t||"function"==typeof t.item)}function o(t,e,n){var r,a;if(t)if(O(t))for(r in t)"prototype"!==r&&"length"!==r&&"name"!==r&&t.hasOwnProperty(r)&&e.call(n,t[r],r,t);else if(k(t)||i(t)){var s="object"!=typeof t;for(r=0,a=t.length;r<a;r++)(s||r in t)&&e.call(n,t[r],r,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else if(x(t))for(r in t)e.call(n,t[r],r,t);else if("function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t);else for(r in t)gi.call(t,r)&&e.call(n,t[r],r,t);return t}function a(t,e,n){for(var r=Object.keys(t).sort(),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function s(t){return function(e,n){t(n,e)}}function u(){return++Oi}function c(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function l(t,e,n){for(var r=t.$$hashKey,i=0,o=e.length;i<o;++i){var a=e[i];if(w(a)||O(a))for(var s=Object.keys(a),u=0,f=s.length;u<f;u++){var h=s[u],p=a[h];n&&w(p)?S(p)?t[h]=new Date(p.valueOf()):M(p)?t[h]=new RegExp(p):p.nodeName?t[h]=p.cloneNode(!0):U(p)?t[h]=p.clone():(w(t[h])||(t[h]=k(p)?[]:{}),l(t[h],[p],!0)):t[h]=p}}return c(t,r),t}function f(t){return l(t,wi.call(arguments,1),!1)}function h(t){return l(t,wi.call(arguments,1),!0)}function p(t){return parseInt(t,10)}function d(t,e){return f(Object.create(t),e)}function $(){}function v(t){return t}function m(t){return function(){return t}}function g(t){return O(t.toString)&&t.toString!==Ci}function y(t){return void 0===t}function b(t){return void 0!==t}function w(t){return null!==t&&"object"==typeof t}function x(t){return null!==t&&"object"==typeof t&&!Si(t)}function E(t){return"string"==typeof t}function C(t){return"number"==typeof t}function S(t){return"[object Date]"===Ci.call(t)}function k(t){return Array.isArray(t)||t instanceof Array}function A(t){switch(Ci.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}}function O(t){return"function"==typeof t}function M(t){return"[object RegExp]"===Ci.call(t)}function T(t){return t&&t.window===t}function V(t){return t&&t.$evalAsync&&t.$watch}function N(t){return"[object File]"===Ci.call(t)}function I(t){return"[object FormData]"===Ci.call(t)}function j(t){return"[object Blob]"===Ci.call(t)}function R(t){return"boolean"==typeof t}function P(t){return t&&O(t.then)}function D(t){return t&&C(t.length)&&Ti.test(Ci.call(t))}function _(t){return"[object ArrayBuffer]"===Ci.call(t)}function U(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function L(t){var e,n={},r=t.split(",");for(e=0;e<r.length;e++)n[r[e]]=!0;return n}function q(t){return yi(t.nodeName||t[0]&&t[0].nodeName)}function F(t,e){return-1!==Array.prototype.indexOf.call(t,e)}function H(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function B(t,e,r){function i(t,e,n){if(--n<0)return"...";var r,i=e.$$hashKey;if(k(t))for(var o=0,s=t.length;o<s;o++)e.push(a(t[o],n));else if(x(t))for(r in t)e[r]=a(t[r],n);else if(t&&"function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&(e[r]=a(t[r],n));else for(r in t)gi.call(t,r)&&(e[r]=a(t[r],n));return c(e,i),e}function a(t,e){if(!w(t))return t;var n=u.indexOf(t);if(-1!==n)return l[n];if(T(t)||V(t))throw ki("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,o=s(t);return void 0===o&&(o=k(t)?[]:Object.create(Si(t)),r=!0),u.push(t),l.push(o),r?i(t,o,e):o}function s(t){switch(Ci.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(a(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var n=new RegExp(t.source,t.toString().match(/[^/]*$/)[0]);return n.lastIndex=t.lastIndex,n;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(O(t.cloneNode))return t.cloneNode(!0)}var u=[],l=[];if(r=n(r)?r:NaN,e){if(D(e)||_(e))throw ki("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw ki("cpi","Can't copy! Source and destination are identical.");return k(e)?e.length=0:o(e,function(t,n){"$$hashKey"!==n&&delete e[n]}),u.push(t),l.push(e),i(t,e,r)}return a(t,r)}function z(t,e){return t===e||t!==t&&e!==e}function W(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,r,i,o=typeof t,a=typeof e;if(o===a&&"object"===o){if(!k(t)){if(S(t))return!!S(e)&&z(t.getTime(),e.getTime());if(M(t))return!!M(e)&&t.toString()===e.toString();if(V(t)||V(e)||T(t)||T(e)||k(e)||S(e)||M(e))return!1;i=yt();for(r in t)if("$"!==r.charAt(0)&&!O(t[r])){if(!W(t[r],e[r]))return!1;i[r]=!0}for(r in e)if(!(r in i)&&"$"!==r.charAt(0)&&b(e[r])&&!O(e[r]))return!1;return!0}if(!k(e))return!1;if((n=t.length)===e.length){for(r=0;r<n;r++)if(!W(t[r],e[r]))return!1;return!0}}return!1}function G(t,e,n){return t.concat(wi.call(e,n))}function K(t,e){return wi.call(t,e||0)}function J(t,e){var n=arguments.length>2?K(arguments,2):[];return!O(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,G(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function Z(e,n){var r=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=void 0:T(n)?r="$WINDOW":n&&t.document===n?r="$DOCUMENT":V(n)&&(r="$SCOPE"),r}function Y(t,e){if(!y(t))return C(e)||(e=e?2:null),JSON.stringify(t,Z,e)}function Q(t){return E(t)?JSON.parse(t):t}function X(t,e){t=t.replace(Ri,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return Mi(n)?e:n}function tt(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function et(t,e,n){n=n?-1:1;var r=t.getTimezoneOffset();return tt(t,n*(X(e,r)-r))}function nt(t){t=hi(t).clone().empty();var e=hi("<div></div>").append(t).html();try{return t[0].nodeType===qi?yi(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(t,e){return"<"+yi(e)})}catch(t){return yi(e)}}function rt(t){try{return decodeURIComponent(t)}catch(t){}}function it(t){var e={};return o((t||"").split("&"),function(t){var n,r,i;t&&(r=t=t.replace(/\+/g,"%20"),n=t.indexOf("="),-1!==n&&(r=t.substring(0,n),i=t.substring(n+1)),r=rt(r),b(r)&&(i=!b(i)||rt(i),gi.call(e,r)?k(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i))}),e}function ot(t){var e=[];return o(t,function(t,n){k(t)?o(t,function(t){e.push(st(n,!0)+(!0===t?"":"="+st(t,!0)))}):e.push(st(n,!0)+(!0===t?"":"="+st(t,!0)))}),e.length?e.join("&"):""}function at(t){return st(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function st(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function ut(t,e){var n,r,i=Pi.length;for(r=0;r<i;++r)if(n=Pi[r]+e,E(n=t.getAttribute(n)))return n;return null}function ct(e,n){var r,i,a={};if(o(Pi,function(t){var n=t+"app";!r&&e.hasAttribute&&e.hasAttribute(n)&&(r=e,i=e.getAttribute(n))}),o(Pi,function(t){var n,o=t+"app";!r&&(n=e.querySelector("["+o.replace(":","\\:")+"]"))&&(r=n,i=n.getAttribute(o))}),r){if(!Di)return void t.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");a.strictDi=null!==ut(r,"strict-di"),n(r,i?[i]:[],a)}}function lt(e,n,r){w(r)||(r={}),r=f({strictDi:!1},r);var i=function(){if(e=hi(e),e.injector()){var i=e[0]===t.document?"document":nt(e);throw ki("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(t){t.value("$rootElement",e)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng");var o=he(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply(function(){e.data("$injector",r),n(e)(t)})}]),o},a=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;if(t&&a.test(t.name)&&(r.debugInfoEnabled=!0,t.name=t.name.replace(a,"")),t&&!s.test(t.name))return i();t.name=t.name.replace(s,""),Ai.resumeBootstrap=function(t){return o(t,function(t){n.push(t)}),i()},O(Ai.resumeDeferredBootstrap)&&Ai.resumeDeferredBootstrap()}function ft(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function ht(t){var e=Ai.element(t).injector();if(!e)throw ki("test","no injector found for element argument to getTestability");return e.get("$$testability")}function pt(t,e){return e=e||"_",t.replace(_i,function(t,n){return(n?e:"")+t.toLowerCase()})}function dt(t,e,n){if(!t)throw ki("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function $t(t,e,n){return n&&k(t)&&(t=t[t.length-1]),dt(O(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function vt(t,e){if("hasOwnProperty"===t)throw ki("badname","hasOwnProperty is not a valid {0} name",e)}function mt(t,e,n){if(!e)return t;for(var r,i=e.split("."),o=t,a=i.length,s=0;s<a;s++)r=i[s],t&&(t=(o=t)[r]);return!n&&O(t)?J(o,t):t}function gt(t){for(var e,n=t[0],r=t[t.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(e||t[i]!==n)&&(e||(e=hi(wi.call(t,0,i))),e.push(n));return e||t}function yt(){return Object.create(null)}function bt(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=!g(t)||k(t)||S(t)?Y(t):t.toString()}return t}function wt(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=r("$injector"),i=r("ng"),o=e(t,"angular",Object);return o.$$minErr=o.$$minErr||r,e(o,"module",function(){var t={};return function(r,o,a){var s={};return function(t,e){if("hasOwnProperty"===t)throw i("badname","hasOwnProperty is not a valid {0} name",e)}(r,"module"),o&&t.hasOwnProperty(r)&&(t[r]=null),e(t,r,function(){function t(t,e,n,r){return r||(r=u),function(){return r[n||"push"]([t,e,arguments]),h}}function e(t,e,n){return n||(n=u),function(i,o){return o&&O(o)&&(o.$$moduleName=r),n.push([t,e,arguments]),h}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var u=[],c=[],l=[],f=t("$injector","invoke","push",c),h={_invokeQueue:u,_configBlocks:c,_runBlocks:l,info:function(t){if(b(t)){if(!w(t))throw i("aobj","Argument '{0}' must be an object","value");return s=t,this}return s},requires:o,name:r,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:e("$provide","decorator",c),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),component:e("$compileProvider","component"),config:f,run:function(t){return l.push(t),this}};return a&&f(a),h})}})}function xt(t,e){if(k(t)){e=e||[];for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}else if(w(t)){e=e||{};for(var i in t)"$"===i.charAt(0)&&"$"===i.charAt(1)||(e[i]=t[i])}return e||t}function Et(t,e){var r=[];return n(e)&&(t=Ai.copy(t,null,e)),JSON.stringify(t,function(t,e){if(e=Z(t,e),w(e)){if(r.indexOf(e)>=0)return"...";r.push(e)}return e})}function Ct(t,e){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):y(t)?"undefined":"string"!=typeof t?Et(t,e):t}function St(){return++Gi}function kt(t){return Ot(t.replace(Ji,"ms-"))}function At(t,e){return e.toUpperCase()}function Ot(t){return t.replace(Ki,At)}function Mt(t){return!Xi.test(t)}function Tt(t){var e=t.nodeType;return e===Li||!e||e===Hi}function Vt(t){for(var e in Wi[t.ng339])return!0;return!1}function Nt(t,e){var n,r,i,a,s=e.createDocumentFragment(),u=[];if(Mt(t))u.push(e.createTextNode(t));else{for(n=s.appendChild(e.createElement("div")),r=(to.exec(t)||["",""])[1].toLowerCase(),i=no[r]||no._default,n.innerHTML=i[1]+t.replace(eo,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;u=G(u,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(u,function(t){s.appendChild(t)}),s}function It(e,n){n=n||t.document;var r;return(r=Qi.exec(e))?[n.createElement(r[1])]:(r=Nt(e,n))?r.childNodes:[]}function jt(t,e){var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)}function Rt(t){if(t instanceof Rt)return t;var e;if(E(t)&&(t=Vi(t),e=!0),!(this instanceof Rt)){if(e&&"<"!==t.charAt(0))throw Yi("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Rt(t)}e?Gt(this,It(t)):O(t)?Xt(t):Gt(this,t)}function Pt(t){return t.cloneNode(!0)}function Dt(t,e){!e&&Tt(t)&&hi.cleanData([t]),t.querySelectorAll&&hi.cleanData(t.querySelectorAll("*"))}function _t(t){var e;for(e in t)return!1;return!0}function Ut(t){var e=t.ng339,n=e&&Wi[e],r=n&&n.events,i=n&&n.data;i&&!_t(i)||r&&!_t(r)||(delete Wi[e],t.ng339=void 0)}function Lt(t,e,n,r){if(b(r))throw Yi("offargs","jqLite#off() does not support the `selector` argument");var i=Ft(t),a=i&&i.events,s=i&&i.handle;if(s){if(e){var u=function(e){var r=a[e];b(n)&&H(r||[],n),b(n)&&r&&r.length>0||(t.removeEventListener(e,s),delete a[e])};o(e.split(" "),function(t){u(t),Zi[t]&&u(Zi[t])})}else for(e in a)"$destroy"!==e&&t.removeEventListener(e,s),delete a[e];Ut(t)}}function qt(t,e){var n=t.ng339,r=n&&Wi[n];r&&(e?delete r.data[e]:r.data={},Ut(t))}function Ft(t,e){var n=t.ng339,r=n&&Wi[n];return e&&!r&&(t.ng339=n=St(),r=Wi[n]={events:{},data:{},handle:void 0}),r}function Ht(t,e,n){if(Tt(t)){var r,i=b(n),o=!i&&e&&!w(e),a=!e,s=Ft(t,!o),u=s&&s.data;if(i)u[Ot(e)]=n;else{if(a)return u;if(o)return u&&u[Ot(e)];for(r in e)u[Ot(r)]=e[r]}}}function Bt(t,e){return!!t.getAttribute&&(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1}function zt(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=n;o(e.split(" "),function(t){t=Vi(t),r=r.replace(" "+t+" "," ")}),r!==n&&t.setAttribute("class",Vi(r))}}function Wt(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=n;o(e.split(" "),function(t){t=Vi(t),-1===r.indexOf(" "+t+" ")&&(r+=t+" ")}),r!==n&&t.setAttribute("class",Vi(r))}}function Gt(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var r=0;r<n;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function Kt(t,e){return Jt(t,"$"+(e||"ngController")+"Controller")}function Jt(t,e,n){t.nodeType===Hi&&(t=t.documentElement);for(var r=k(e)?e:[e];t;){for(var i=0,o=r.length;i<o;i++)if(b(n=hi.data(t,r[i])))return n;t=t.parentNode||t.nodeType===Bi&&t.host}}function Zt(t){for(Dt(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Yt(t,e){e||Dt(t);var n=t.parentNode;n&&n.removeChild(t)}function Qt(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):hi(n).on("load",e)}function Xt(e){function n(){t.document.removeEventListener("DOMContentLoaded",n),t.removeEventListener("load",n),e()}"complete"===t.document.readyState?t.setTimeout(e):(t.document.addEventListener("DOMContentLoaded",n),t.addEventListener("load",n))}function te(t,e){var n=oo[e.toLowerCase()];return n&&ao[q(t)]&&n}function ee(t){return so[t]}function ne(t,e){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=e[r||n.type],o=i?i.length:0;if(o){if(y(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=i.specialHandlerWrapper||re;o>1&&(i=xt(i));for(var u=0;u<o;u++)n.isImmediatePropagationStopped()||s(t,n,i[u])}};return n.elem=t,n}function re(t,e,n){n.call(t,e)}function ie(t,e,n){var r=e.relatedTarget;r&&(r===t||ro.call(t,r))||n.call(t,e)}function oe(){this.$get=function(){return f(Rt,{hasClass:function(t,e){return t.attr&&(t=t[0]),Bt(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Wt(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),zt(t,e)}})}}function ae(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var r=typeof t;return n="function"===r||"object"===r&&null!==t?t.$$hashKey=r+":"+(e||u)():r+":"+t}function se(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function ue(t){return Function.prototype.toString.call(t)}function ce(t){var e=ue(t).replace(vo,"");return e.match(fo)||e.match(ho)}function le(t){var e=ce(t);return e?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function fe(t,e,n){var r,i,a;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw E(n)&&n||(n=t.name||le(t)),mo("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=ce(t),o(i[1].split(po),function(t){t.replace($o,function(t,e,n){r.push(n)})})}t.$inject=r}}else k(t)?(a=t.length-1,$t(t[a],"fn"),r=t.slice(0,a)):$t(t,"fn",!0);return r}function he(t,e){function n(t){return function(e,n){if(!w(e))return t(e,n);o(e,s(t))}}function r(t,e){if(vt(t,"service"),(O(e)||k(e))&&(e=x.instantiate(e)),!e.$get)throw mo("pget","Provider '{0}' must define $get factory method.",t);return b[t+$]=e}function i(t,e){return function(){var n=A.invoke(e,this);if(y(n))throw mo("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function a(t,e,n){return r(t,{$get:!1!==n?i(t,e):e})}function u(t,e){return a(t,["$injector",function(t){return t.instantiate(e)}])}function c(t,e){return a(t,m(e),!1)}function l(t,e){vt(t,"constant"),b[t]=e,C[t]=e}function f(t,e){var n=x.get(t+$),r=n.$get;n.$get=function(){var t=A.invoke(r,n);return A.invoke(e,null,{$delegate:t})}}function h(t){dt(y(t)||k(t),"modulesToLoad","not an array");var e,n=[];return o(t,function(t){function r(t){var e,n;for(e=0,n=t.length;e<n;e++){var r=t[e],i=x.get(r[0]);i[r[1]].apply(i,r[2])}}if(!g.get(t)){g.set(t,!0);try{E(t)?(e=di(t),A.modules[t]=e,n=n.concat(h(e.requires)).concat(e._runBlocks),r(e._invokeQueue),r(e._configBlocks)):O(t)?n.push(x.invoke(t)):k(t)?n.push(x.invoke(t)):$t(t,"module")}catch(e){throw k(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),mo("modulerr","Failed to instantiate module {0} due to:\n{1}",t,e.stack||e.message||e)}}}),n}function p(t,n){function r(e,r){if(t.hasOwnProperty(e)){if(t[e]===d)throw mo("cdep","Circular dependency found: {0}",e+" <- "+v.join(" <- "));return t[e]}try{return v.unshift(e),t[e]=d,t[e]=n(e,r),t[e]}catch(n){throw t[e]===d&&delete t[e],n}finally{v.shift()}}function i(t,n,i){for(var o=[],a=he.$$annotate(t,e,i),s=0,u=a.length;s<u;s++){var c=a[s];if("string"!=typeof c)throw mo("itkn","Incorrect injection token! Expected service name as string, got {0}",c);o.push(n&&n.hasOwnProperty(c)?n[c]:r(c,i))}return o}function o(t){if(fi||"function"!=typeof t)return!1;var e=t.$$ngIsClass;return R(e)||(e=t.$$ngIsClass=/^class\b/.test(ue(t))),e}function a(t,e,n,r){"string"==typeof n&&(r=n,n=null);var a=i(t,n,r);return k(t)&&(t=t[t.length-1]),o(t)?(a.unshift(null),new(Function.prototype.bind.apply(t,a))):t.apply(e,a)}function s(t,e,n){var r=k(t)?t[t.length-1]:t,o=i(t,e,n);return o.unshift(null),new(Function.prototype.bind.apply(r,o))}return{invoke:a,instantiate:s,get:r,annotate:he.$$annotate,has:function(e){return b.hasOwnProperty(e+$)||t.hasOwnProperty(e)}}}e=!0===e;var d={},$="Provider",v=[],g=new co,b={$provide:{provider:n(r),factory:n(a),service:n(u),value:n(c),constant:n(l),decorator:f}},x=b.$injector=p(b,function(t,e){throw Ai.isString(e)&&v.push(e),mo("unpr","Unknown provider: {0}",v.join(" <- "))}),C={},S=p(C,function(t,e){var n=x.get(t+$,e);return A.invoke(n.$get,n,void 0,t)}),A=S;b["$injector"+$]={$get:m(S)},A.modules=x.modules=yt();var M=h(t);return A=S.get("$injector"),A.strictDi=e,o(M,function(t){t&&A.invoke(t)}),A.loadNewModules=function(t){o(h(t),function(t){t&&A.invoke(t)})},A}function pe(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,r){function i(t){var e=null;return Array.prototype.some.call(t,function(t){if("a"===q(t))return e=t,!0}),e}function o(){var t=s.yOffset;if(O(t))t=t();else if(U(t)){var n=t[0],r=e.getComputedStyle(n);t="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else C(t)||(t=0);return t}function a(t){if(t){t.scrollIntoView();var n=o();if(n){var r=t.getBoundingClientRect().top;e.scrollBy(0,r-n)}}else e.scrollTo(0,0)}function s(t){t=E(t)?t:C(t)?t.toString():n.hash();var e;t?(e=u.getElementById(t))?a(e):(e=i(u.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var u=e.document;return t&&r.$watch(function(){return n.hash()},function(t,e){t===e&&""===t||Qt(function(){r.$evalAsync(s)})}),s}]}function de(t,e){return t||e?t?e?(k(t)&&(t=t.join(" ")),k(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function $e(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===yo)return n}}function ve(t){E(t)&&(t=t.split(" "));var e=yt();return o(t,function(t){t.length&&(e[t]=!0)}),e}function me(t){return w(t)?t:{}}function ge(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}function ye(t){return t.replace(/#$/,"")}function be(t,e,n,r,i){function a(){x=null,u()}function s(){m=E(),m=y(m)?null:m,W(m,k)&&(m=k),k=m,g=m}function u(){var t=g;s(),b===c.url()&&t===m||(b=c.url(),g=m,o(C,function(t){t(c.url(),m)}))}var c=this,l=t.location,f=t.history,h=t.setTimeout,p=t.clearTimeout,d={},v=i(n);c.isMock=!1,c.$$completeOutstandingRequest=v.completeTask,c.$$incOutstandingRequestCount=v.incTaskCount,c.notifyWhenNoOutstandingRequests=v.notifyWhenNoPendingTasks;var m,g,b=l.href,w=e.find("base"),x=null,E=r.history?function(){try{return f.state}catch(t){}}:$;s(),c.url=function(e,n,i){if(y(i)&&(i=null),l!==t.location&&(l=t.location),f!==t.history&&(f=t.history),e){var o=g===i;if(e=Yn(e).href,b===e&&(!r.history||o))return c;var a=b&&on(b)===on(e);return b=e,g=i,!r.history||a&&o?(a||(x=e),n?l.replace(e):a?l.hash=ge(e):l.href=e,l.href!==e&&(x=e)):(f[n?"replaceState":"pushState"](i,"",e),s()),x&&(x=e),c}return ye(x||l.href)},c.state=function(){return m};var C=[],S=!1,k=null;c.onUrlChange=function(e){return S||(r.history&&hi(t).on("popstate",a),hi(t).on("hashchange",a),S=!0),C.push(e),e},c.$$applicationDestroyed=function(){hi(t).off("hashchange popstate",a)},c.$$checkUrlChange=u,c.baseHref=function(){var t=w.attr("href");return t?t.replace(/^(https?:)?\/\/[^/]*/,""):""},c.defer=function(t,e,n){var r;return e=e||0,n=n||v.DEFAULT_TASK_TYPE,v.incTaskCount(n),r=h(function(){delete d[r],v.completeTask(t,n)},e),d[r]=n,r},c.defer.cancel=function(t){if(d.hasOwnProperty(t)){var e=d[t];return delete d[t],p(t),v.completeTask($,e),!0}return!1}}function we(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(t,e,n,r,i){return new be(t,r,e,n,i)}]}function xe(){this.$get=function(){function t(t,n){function i(t){t!==h&&(p?p===t&&(p=t.n):p=t,o(t.n,t.p),o(t,h),h=t,h.n=null)}function o(t,e){t!==e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var a=0,s=f({},n,{id:t}),u=yt(),c=n&&n.capacity||Number.MAX_VALUE,l=yt(),h=null,p=null;return e[t]={put:function(t,e){if(!y(e)){if(c<Number.MAX_VALUE){i(l[t]||(l[t]={key:t}))}return t in u||a++,u[t]=e,a>c&&this.remove(p.key),e}},get:function(t){if(c<Number.MAX_VALUE){var e=l[t];if(!e)return;i(e)}return u[t]},remove:function(t){if(c<Number.MAX_VALUE){var e=l[t];if(!e)return;e===h&&(h=e.p),e===p&&(p=e.n),o(e.n,e.p),delete l[t]}t in u&&(delete u[t],a--)},removeAll:function(){u=yt(),a=0,l=yt(),h=p=null},destroy:function(){u=null,s=null,l=null,delete e[t]},info:function(){return f({},s,{size:a})}}}var e={};return t.info=function(){var t={};return o(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function Ee(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function Ce(){}function Se(e,n){function r(t,e,n){var r=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,i=yt();return o(t,function(t,o){if((t=t.trim())in M)return void(i[o]=M[t]);var a=t.match(r);if(!a)throw ko("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,o,t,n?"controller bindings definition":"isolate scope definition");i[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o},a[4]&&(M[t]=i[o])}),i}function i(t,e){var n={isolateScope:null,bindToController:null};if(w(t.scope)&&(!0===t.bindToController?(n.bindToController=r(t.scope,e,!0),n.isolateScope={}):n.isolateScope=r(t.scope,e,!1)),w(t.bindToController)&&(n.bindToController=r(t.bindToController,e,!0)),n.bindToController&&!t.controller)throw ko("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);return n}function a(t){var e=t.charAt(0);if(!e||e!==yi(e))throw ko("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw ko("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}function u(t){var e=t.require||t.controller&&t.name;return!k(e)&&w(e)&&o(e,function(t,n){var r=t.match(C);t.substring(r[0].length)||(e[n]=r[0]+n)}),e}function c(t,e){if(t&&(!E(t)||!/[EACM]/.test(t)))throw ko("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",t,e);return t||"EA"}var l={},h="Directive",p=/^\s*directive:\s*([\w-]+)\s+(.*)$/,g=/(([\w-]+)(?::([^;]+))?;?)/,x=L("ngSrc,ngSrcset,src,srcset"),C=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,S=/^(on[a-z]+|formaction)$/,M=yt();this.directive=function t(n,r){return dt(n,"name"),vt(n,"directive"),E(n)?(a(n),dt(r,"directiveFactory"),l.hasOwnProperty(n)||(l[n]=[],e.factory(n+h,["$injector","$exceptionHandler",function(t,e){var r=[];return o(l[n],function(i,o){try{var a=t.invoke(i);O(a)?a={compile:m(a)}:!a.compile&&a.link&&(a.compile=m(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||n,a.require=u(a),a.restrict=c(a.restrict,n),a.$$moduleName=i.$$moduleName,r.push(a)}catch(t){e(t)}}),r}])),l[n].push(r)):o(n,s(t)),this},this.component=function t(e,n){function r(t){function e(e){return O(e)||k(e)?function(n,r){return t.invoke(e,this,{$element:n,$attrs:r})}:e}var r=n.template||n.templateUrl?n.template:"",a={controller:i,controllerAs:Te(n.controller)||n.controllerAs||"$ctrl",template:e(r),templateUrl:e(n.templateUrl),transclude:n.transclude,scope:{},bindToController:n.bindings||{},restrict:"E",require:n.require};return o(n,function(t,e){"$"===e.charAt(0)&&(a[e]=t)}),a}if(!E(e))return o(e,s(J(this,t))),this;var i=n.controller||function(){};return o(n,function(t,e){"$"===e.charAt(0)&&(r[e]=t,O(i)&&(i[e]=t))}),r.$inject=["$injector"],this.directive(e,r)},this.aHrefSanitizationWhitelist=function(t){return b(t)?(n.aHrefSanitizationWhitelist(t),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return b(t)?(n.imgSrcSanitizationWhitelist(t),this):n.imgSrcSanitizationWhitelist()};var T=!0;this.debugInfoEnabled=function(t){return b(t)?(T=t,this):T};var N=!1;this.strictComponentBindingsEnabled=function(t){return b(t)?(N=t,this):N};var I=10;this.onChangesTtl=function(t){return arguments.length?(I=t,this):I};var j=!0;this.commentDirectivesEnabled=function(t){return arguments.length?(j=t,this):j};var P=!0;this.cssClassDirectivesEnabled=function(t){return arguments.length?(P=t,this):P};var D=yt();this.addPropertySecurityContext=function(t,e,n){var r=t.toLowerCase()+"|"+e.toLowerCase();if(r in D&&D[r]!==n)throw ko("ctxoverride","Property context '{0}.{1}' already set to '{2}', cannot override to '{3}'.",t,e,D[r],n);return D[r]=n,this},function(){function t(t,e){o(e,function(e){D[e.toLowerCase()]=t})}t(ra.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),t(ra.CSS,["*|style"]),t(ra.URL,["area|href","area|ping","a|href","a|ping","blockquote|cite","body|background","del|cite","input|src","ins|cite","q|cite"]),t(ra.MEDIA_URL,["audio|src","img|src","img|srcset","source|src","source|srcset","track|src","video|src","video|poster"]),t(ra.RESOURCE_URL,["*|formAction","applet|code","applet|codebase","base|href","embed|src","frame|src","form|action","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])}(),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(e,n,r,a,s,u,c,m,b){function M(){try{if(!--_t)throw Nt=void 0,ko("infchng","{0} $onChanges() iterations reached. Aborting!\n",I);c.$apply(function(){for(var t=0,e=Nt.length;t<e;++t)try{Nt[t]()}catch(t){r(t)}Nt=void 0})}finally{_t++}}function _(t,e){if(!t)return t;if(!E(t))throw ko("srcset",'Can\'t pass trusted values to `{0}`: "{1}"',e,t.toString());for(var n="",r=Vi(t),i=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,o=/\s/.test(r)?i:/(,)/,a=r.split(o),s=Math.floor(a.length/2),u=0;u<s;u++){var c=2*u;n+=m.getTrustedMediaUrl(Vi(a[c])),n+=" "+Vi(a[c+1])}var l=Vi(a[2*u]).split(/\s/);return n+=m.getTrustedMediaUrl(Vi(l[0])),2===l.length&&(n+=" "+Vi(l[1])),n}function U(t,e){if(e){var n,r,i,o=Object.keys(e);for(n=0,r=o.length;n<r;n++)i=o[n],this[i]=e[i]}else this.$attr={};this.$$element=t}function L(t,e,n){jt.innerHTML="<span "+e+">";var r=jt.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,t.attributes.setNamedItem(i)}function F(t,e){try{t.addClass(e)}catch(t){}}function B(t,e,n,r,i){t instanceof hi||(t=hi(t));var o=Z(t,e,t,n,r,i);B.$$addScopeClass(t);var a=null;return function(e,n,r){if(!t)throw ko("multilink","This element has already been linked.");dt(e,"scope"),i&&i.needsNewScope&&(e=e.$parent.$new()),r=r||{};var s=r.parentBoundTranscludeFn,u=r.transcludeControllers,c=r.futureParentElement;s&&s.$$boundTransclude&&(s=s.$$boundTransclude),a||(a=G(c));var l;if(l="html"!==a?hi(gt(a,hi("<div></div>").append(t).html())):n?io.clone.call(t):t,u)for(var f in u)l.data("$"+f+"Controller",u[f].instance);return B.$$addScopeInfo(l,e),n&&n(l,e),o&&o(e,l,l,s),n||(t=o=null),l}}function G(t){var e=t&&t[0];return e&&"foreignobject"!==q(e)&&Ci.call(e).match(/SVG/)?"svg":"html"}function Z(t,e,n,r,i,o){function a(t,n,r,i){var o,a,s,u,c,l,f,h,$;if(p){var v=n.length;for($=new Array(v),c=0;c<d.length;c+=3)f=d[c],$[f]=n[f]}else $=n;for(c=0,l=d.length;c<l;)s=$[d[c++]],o=d[c++],a=d[c++],o?(o.scope?(u=t.$new(),B.$$addScopeInfo(hi(s),u)):u=t,h=o.transcludeOnThisElement?Q(t,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&e?Q(t,e):null,o(a,u,s,r,h)):a&&a(t,s.childNodes,void 0,i)}for(var s,u,c,l,f,h,p,d=[],$=k(t)||t instanceof hi,v=0;v<t.length;v++)s=new U,11===fi&&Y(t,v,$),u=X(t[v],[],s,0===v?r:void 0,i),c=u.length?ot(u,t[v],s,e,n,null,[],[],o):null,c&&c.scope&&B.$$addScopeClass(s.$$element),f=c&&c.terminal||!(l=t[v].childNodes)||!l.length?null:Z(l,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:e),(c||f)&&(d.push(v,c,f),h=!0,p=p||c),
o=null;return h?a:null}function Y(t,e,n){var r,i=t[e],o=i.parentNode;if(i.nodeType===qi)for(;;){if(!(r=o?i.nextSibling:t[e+1])||r.nodeType!==qi)break;i.nodeValue=i.nodeValue+r.nodeValue,r.parentNode&&r.parentNode.removeChild(r),n&&r===t[e+1]&&t.splice(e+1,1)}}function Q(t,e,n){function r(r,i,o,a,s){return r||(r=t.$new(!1,s),r.$$transcluded=!0),e(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var i=r.$$slots=yt();for(var o in e.$$slots)e.$$slots[o]?i[o]=Q(t,e.$$slots[o],n):i[o]=null;return r}function X(t,e,n,r,i){var o,a,s,u=t.nodeType,c=n.$attr;switch(u){case Li:a=q(t),ct(e,Ae(a),"E",r,i);for(var l,f,h,p,d,$=t.attributes,v=0,m=$&&$.length;v<m;v++){var y,b=!1,x=!1,C=!1,S=!1,k=!1;l=$[v],f=l.name,p=l.value,h=Ae(f.toLowerCase()),(d=h.match(Ft))?(C="Attr"===d[1],S="Prop"===d[1],k="On"===d[1],f=f.replace(Oo,"").toLowerCase().substr(4+d[1].length).replace(/_(.)/g,function(t,e){return e.toUpperCase()})):(y=h.match(Ht))&&lt(y[1])&&(b=f,x=f.substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),S||k?(n[h]=p,c[h]=l.name,S?Et(t,e,h,f):Ct(e,h,f)):(h=Ae(f.toLowerCase()),c[h]=f,!C&&n.hasOwnProperty(h)||(n[h]=p,te(t,h)&&(n[h]=!0)),St(t,e,p,h,C),ct(e,h,"A",r,i,b,x))}if("input"===a&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),!Dt)break;if(s=t.className,w(s)&&(s=s.animVal),E(s)&&""!==s)for(;o=g.exec(s);)h=Ae(o[2]),ct(e,h,"C",r,i)&&(n[h]=Vi(o[3])),s=s.substr(o.index+o[0].length);break;case qi:mt(e,t.nodeValue);break;case Fi:if(!Rt)break;tt(t,e,n,r,i)}return e.sort($t),e}function tt(t,e,n,r,i){try{var o=p.exec(t.nodeValue);if(o){var a=Ae(o[1]);ct(e,a,"M",r,i)&&(n[a]=Vi(o[2]))}}catch(t){}}function et(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e))do{if(!t)throw ko("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType===Li&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(i>0);else r.push(t);return hi(r)}function rt(t,e,n){return function(r,i,o,a,s){return i=et(i[0],e,n),t(r,i,o,a,s)}}function it(t,e,n,r,i,o){var a;return t?B(e,n,r,i,o):function(){return a||(a=B(e,n,r,i,o),e=n=o=null),a.apply(this,arguments)}}function ot(e,n,i,a,s,u,c,l,h){function p(t,e,n,r){t&&(n&&(t=rt(t,n,r)),t.require=$.require,t.directiveName=v,(S===$||$.$$isolateScope)&&(t=At(t,{isolateScope:!0})),c.push(t)),e&&(n&&(e=rt(e,n,r)),e.require=$.require,e.directiveName=v,(S===$||$.$$isolateScope)&&(e=At(e,{isolateScope:!0})),l.push(e))}function d(t,e,a,s,u){function h(t,e,n,r){var i;if(V(t)||(r=n,n=e,e=t,t=void 0),I&&(i=g),n||(n=I?x.parent():x),!r)return u(t,e,i,n,D);var o=u.$$slots[r];if(o)return o(t,e,i,n,D);if(y(o))throw ko("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,nt(x))}var p,d,$,v,m,g,b,x,M,T;n===a?(M=i,x=i.$$element):(x=hi(a),M=new U(x,i)),m=e,S?v=e.$new(!0):E&&(m=e.$parent),u&&(b=h,b.$$boundTransclude=u,b.isSlotFilled=function(t){return!!u.$$slots[t]}),C&&(g=st(x,M,b,C,v,e,S)),S&&(B.$$addScopeInfo(x,v,!0,!(A&&(A===S||A===S.$$originalDirective))),B.$$addScopeClass(x,!0),v.$$isolateBindings=S.$$isolateBindings,T=Vt(e,M,v,v.$$isolateBindings,S),T.removeWatches&&v.$on("$destroy",T.removeWatches));for(var N in g){var j=C[N],R=g[N],P=j.$$bindings.bindToController;R.instance=R(),x.data("$"+j.name+"Controller",R.instance),R.bindingInfo=Vt(m,M,R.instance,P,j)}for(o(C,function(t,e){var n=t.require;t.bindToController&&!k(n)&&w(n)&&f(g[e].instance,at(e,n,x,g))}),o(g,function(t){var e=t.instance;if(O(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(t){r(t)}if(O(e.$onInit))try{e.$onInit()}catch(t){r(t)}O(e.$doCheck)&&(m.$watch(function(){e.$doCheck()}),e.$doCheck()),O(e.$onDestroy)&&m.$on("$destroy",function(){e.$onDestroy()})}),p=0,d=c.length;p<d;p++)$=c[p],Ot($,$.isolateScope?v:e,x,M,$.require&&at($.directiveName,$.require,x,g),b);var D=e;for(S&&(S.template||null===S.templateUrl)&&(D=v),t&&t(D,a.childNodes,void 0,u),p=l.length-1;p>=0;p--)$=l[p],Ot($,$.isolateScope?v:e,x,M,$.require&&at($.directiveName,$.require,x,g),b);o(g,function(t){var e=t.instance;O(e.$postLink)&&e.$postLink()})}h=h||{};for(var $,v,m,g,b,x=-Number.MAX_VALUE,E=h.newScopeDirective,C=h.controllerDirectives,S=h.newIsolateScopeDirective,A=h.templateDirective,M=h.nonTlbTranscludeDirective,T=!1,N=!1,I=h.hasElementTranscludeDirective,j=i.$$element=hi(n),R=u,P=a,D=!1,_=!1,L=0,F=e.length;L<F;L++){$=e[L];var H=$.$$start,z=$.$$end;if(H&&(j=et(n,H,z)),m=void 0,x>$.priority)break;if(b=$.scope,b&&($.templateUrl||(w(b)?(vt("new/isolated scope",S||E,$,j),S=$):vt("new/isolated scope",S,$,j)),E=E||$),v=$.name,!D&&($.replace&&($.templateUrl||$.template)||$.transclude&&!$.$$tlb)){for(var W,G=L+1;W=e[G++];)if(W.transclude&&!W.$$tlb||W.replace&&(W.templateUrl||W.template)){_=!0;break}D=!0}if(!$.templateUrl&&$.controller&&(C=C||yt(),vt("'"+v+"' controller",C[v],$,j),C[v]=$),b=$.transclude)if(T=!0,$.$$tlb||(vt("transclusion",M,$,j),M=$),"element"===b)I=!0,x=$.priority,m=j,j=i.$$element=hi(B.$$createComment(v,i[v])),n=j[0],kt(s,K(m),n),P=it(_,m,a,x,R&&R.name,{nonTlbTranscludeDirective:M});else{var Z=yt();if(w(b)){m=t.document.createDocumentFragment();var Y=yt(),Q=yt();o(b,function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,Y[t]=e,Z[e]=null,Q[e]=n}),o(j.contents(),function(e){var n=Y[Ae(q(e))];n?(Q[n]=!0,Z[n]=Z[n]||t.document.createDocumentFragment(),Z[n].appendChild(e)):m.appendChild(e)}),o(Q,function(t,e){if(!t)throw ko("reqslot","Required transclusion slot `{0}` was not filled.",e)});for(var tt in Z)if(Z[tt]){var ot=hi(Z[tt].childNodes);Z[tt]=it(_,ot,a)}m=hi(m.childNodes)}else m=hi(Pt(n)).contents();j.empty(),P=it(_,m,a,void 0,void 0,{needsNewScope:$.$$isolateScope||$.$$newScope}),P.$$slots=Z}if($.template)if(N=!0,vt("template",A,$,j),A=$,b=O($.template)?$.template(j,i):$.template,b=qt(b),$.replace){if(R=$,m=Mt(b)?[]:Me(gt($.templateNamespace,Vi(b))),n=m[0],1!==m.length||n.nodeType!==Li)throw ko("tplrt","Template for directive '{0}' must have exactly one root element. {1}",v,"");kt(s,j,n);var ct={$attr:{}},lt=X(n,[],ct),pt=e.splice(L+1,e.length-(L+1));(S||E)&&ut(lt,S,E),e=e.concat(lt).concat(pt),ft(i,ct),F=e.length}else j.html(b);if($.templateUrl)N=!0,vt("template",A,$,j),A=$,$.replace&&(R=$),d=ht(e.splice(L,e.length-L),j,i,s,T&&P,c,l,{controllerDirectives:C,newScopeDirective:E!==$&&E,newIsolateScopeDirective:S,templateDirective:A,nonTlbTranscludeDirective:M}),F=e.length;else if($.compile)try{g=$.compile(j,i,P);var dt=$.$$originalDirective||$;O(g)?p(null,J(dt,g),H,z):g&&p(J(dt,g.pre),J(dt,g.post),H,z)}catch(t){r(t,nt(j))}$.terminal&&(d.terminal=!0,x=Math.max(x,$.priority))}return d.scope=E&&!0===E.scope,d.transcludeOnThisElement=T,d.templateOnThisElement=N,d.transclude=P,h.hasElementTranscludeDirective=I,d}function at(t,e,n,r){var i;if(E(e)){var a=e.match(C),s=e.substring(a[0].length),u=a[1]||a[3],c="?"===a[2];if("^^"===u?n=n.parent():(i=r&&r[s],i=i&&i.instance),!i){var l="$"+s+"Controller";i="^^"===u&&n[0]&&n[0].nodeType===Hi?null:u?n.inheritedData(l):n.data(l)}if(!i&&!c)throw ko("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,t)}else if(k(e)){i=[];for(var f=0,h=e.length;f<h;f++)i[f]=at(t,e[f],n,r)}else w(e)&&(i={},o(e,function(e,o){i[o]=at(t,e,n,r)}));return i||null}function st(t,e,n,r,i,o,a){var s=yt();for(var c in r){var l=r[c],f={$scope:l===a||l.$$isolateScope?i:o,$element:t,$attrs:e,$transclude:n},h=l.controller;"@"===h&&(h=e[l.name]);var p=u(h,f,!0,l.controllerAs);s[l.name]=p,t.data("$"+l.name+"Controller",p.instance)}return s}function ut(t,e,n){for(var r=0,i=t.length;r<i;r++)t[r]=d(t[r],{$$isolateScope:e,$$newScope:n})}function ct(t,n,r,o,a,s,u){if(n===a)return null;var c=null;if(l.hasOwnProperty(n))for(var f,p=e.get(n+h),$=0,v=p.length;$<v;$++)if(f=p[$],(y(o)||o>f.priority)&&-1!==f.restrict.indexOf(r)){if(s&&(f=d(f,{$$start:s,$$end:u})),!f.$$bindings){var m=f.$$bindings=i(f,f.name);w(m.isolateScope)&&(f.$$isolateBindings=m.isolateScope)}t.push(f),c=f}return c}function lt(t){if(l.hasOwnProperty(t))for(var n,r=e.get(t+h),i=0,o=r.length;i<o;i++)if(n=r[i],n.multiElement)return!0;return!1}function ft(t,e){var n=e.$attr,r=t.$attr;o(t,function(r,i){"$"!==i.charAt(0)&&(e[i]&&e[i]!==r&&(r.length?r+=("style"===i?";":" ")+e[i]:r=e[i]),t.$set(i,r,!0,n[i]))}),o(e,function(e,i){t.hasOwnProperty(i)||"$"===i.charAt(0)||(t[i]=e,"class"!==i&&"style"!==i&&(r[i]=n[i]))})}function ht(t,e,n,i,s,u,c,l){var f,h,p=[],$=e[0],v=t.shift(),m=d(v,{templateUrl:null,transclude:null,replace:null,$$originalDirective:v}),g=O(v.templateUrl)?v.templateUrl(e,n):v.templateUrl,y=v.templateNamespace;return e.empty(),a(g).then(function(r){var a,d,b,x;if(r=qt(r),v.replace){if(b=Mt(r)?[]:Me(gt(y,Vi(r))),a=b[0],1!==b.length||a.nodeType!==Li)throw ko("tplrt","Template for directive '{0}' must have exactly one root element. {1}",v.name,g);d={$attr:{}},kt(i,e,a);var E=X(a,[],d);w(v.scope)&&ut(E,!0),t=E.concat(t),ft(n,d)}else a=$,e.html(r);for(t.unshift(m),f=ot(t,a,n,s,e,v,u,c,l),o(i,function(t,n){t===a&&(i[n]=e[0])}),h=Z(e[0].childNodes,s);p.length;){var C=p.shift(),S=p.shift(),k=p.shift(),A=p.shift(),O=e[0];if(!C.$$destroyed){if(S!==$){var M=S.className;l.hasElementTranscludeDirective&&v.replace||(O=Pt(a)),kt(k,hi(S),O),F(hi(O),M)}x=f.transcludeOnThisElement?Q(C,f.transclude,A):A,f(h,C,O,i,x)}}p=null}).catch(function(t){A(t)&&r(t)}),function(t,e,n,r,i){var o=i;e.$$destroyed||(p?p.push(e,n,r,o):(f.transcludeOnThisElement&&(o=Q(e,f.transclude,i)),f(h,e,n,r,o)))}}function $t(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function vt(t,e,n,r){function i(t){return t?" (module: "+t+")":""}if(e)throw ko("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,i(e.$$moduleName),n.name,i(n.$$moduleName),t,nt(r))}function mt(t,e){var r=n(e,!0);r&&t.push({priority:0,compile:function(t){var e=t.parent(),n=!!e.length;return n&&B.$$addBindingClass(e),function(t,e){var i=e.parent();n||B.$$addBindingClass(i),B.$$addBindingInfo(i,r.expressions),t.$watch(r,function(t){e[0].nodeValue=t})}}})}function gt(e,n){switch(e=yi(e||"html")){case"svg":case"math":var r=t.document.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function bt(t,e){return"srcdoc"===e?m.HTML:"src"===e||"ngSrc"===e?-1===["img","video","audio","source","track"].indexOf(t)?m.RESOURCE_URL:m.MEDIA_URL:"xlinkHref"===e?"image"===t?m.MEDIA_URL:"a"===t?m.URL:m.RESOURCE_URL:"form"===t&&"action"===e||"base"===t&&"href"===e||"link"===t&&"href"===e?m.RESOURCE_URL:"a"!==t||"href"!==e&&"ngHref"!==e?void 0:m.URL}function wt(t,e){var n=e.toLowerCase();return D[t+"|"+n]||D["*|"+n]}function xt(t){return _(m.valueOf(t),"ng-prop-srcset")}function Et(t,e,n,r){if(S.test(r))throw ko("nodomevents","Property bindings for HTML DOM event properties are disallowed");var i=q(t),o=wt(i,r),a=v;"srcset"!==r||"img"!==i&&"source"!==i?o&&(a=m.getTrusted.bind(m,o)):a=xt,e.push({priority:100,compile:function(t,e){var i=s(e[n]),o=s(e[n],function(t){return m.valueOf(t)});return{pre:function(t,e){function n(){var n=i(t);e[0][r]=a(n)}n(),t.$watch(o,n)}}}})}function Ct(t,e,n){t.push(ri(s,c,r,e,n,!1))}function St(t,e,r,i,o){var a=q(t),s=bt(a,i),u=!o,c=x[i]||o,l=n(r,u,s,c);if(l){if("multiple"===i&&"select"===a)throw ko("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",nt(t));if(S.test(i))throw ko("nodomevents","Interpolations for HTML DOM event attributes are disallowed");e.push({priority:100,compile:function(){return{pre:function(t,e,o){var a=o.$$observers||(o.$$observers=yt()),u=o[i];u!==r&&(l=u&&n(u,!0,s,c),r=u),l&&(o[i]=l(t),(a[i]||(a[i]=[])).$$inter=!0,(o.$$observers&&o.$$observers[i].$$scope||t).$watch(l,function(t,e){"class"===i&&t!==e?o.$updateClass(t,e):o.$set(i,t)}))}}}})}}function kt(e,n,r){var i,o,a=n[0],s=n.length,u=a.parentNode;if(e)for(i=0,o=e.length;i<o;i++)if(e[i]===a){e[i++]=r;for(var c=i,l=c+s-1,f=e.length;c<f;c++,l++)l<f?e[c]=e[l]:delete e[c];e.length-=s-1,e.context===a&&(e.context=r);break}u&&u.replaceChild(r,a);var h=t.document.createDocumentFragment();for(i=0;i<s;i++)h.appendChild(n[i]);for(hi.hasData(a)&&(hi.data(r,hi.data(a)),hi(a).off("$destroy")),hi.cleanData(h.querySelectorAll("*")),i=1;i<s;i++)delete n[i];n[0]=r,n.length=1}function At(t,e){return f(function(){return t.apply(null,arguments)},t,e)}function Ot(t,e,n,i,o,a){try{t(e,n,i,o,a)}catch(t){r(t,nt(n))}}function Tt(t,e){if(N)throw ko("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",t,e)}function Vt(t,e,r,i,a){function u(e,n,i){O(r.$onChanges)&&!z(n,i)&&(Nt||(t.$$postDigest(M),Nt=[]),l||(l={},Nt.push(c)),l[e]&&(i=l[e].previousValue),l[e]=new ke(i,n))}function c(){r.$onChanges(l),l=void 0}var l,f=[],h={};return o(i,function(i,o){var c,l,p,d,v,m=i.attrName,g=i.optional,y=i.mode;switch(y){case"@":g||gi.call(e,m)||(Tt(m,a.name),r[o]=e[m]=void 0),v=e.$observe(m,function(t){if(E(t)||R(t)){var e=r[o];u(o,t,e),r[o]=t}}),e.$$observers[m].$$scope=t,c=e[m],E(c)?r[o]=n(c)(t):R(c)&&(r[o]=c),h[o]=new ke(Ao,r[o]),f.push(v);break;case"=":if(!gi.call(e,m)){if(g)break;Tt(m,a.name),e[m]=void 0}if(g&&!e[m])break;l=s(e[m]),d=l.literal?W:z,p=l.assign||function(){throw c=r[o]=l(t),ko("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",e[m],m,a.name)},c=r[o]=l(t);var b=function(e){return d(e,r[o])||(d(e,c)?p(t,e=r[o]):r[o]=e),c=e};b.$stateful=!0,v=i.collection?t.$watchCollection(e[m],b):t.$watch(s(e[m],b),null,l.literal),f.push(v);break;case"<":if(!gi.call(e,m)){if(g)break;Tt(m,a.name),e[m]=void 0}if(g&&!e[m])break;l=s(e[m]);var w=l.literal,x=r[o]=l(t);h[o]=new ke(Ao,r[o]),v=t[i.collection?"$watchCollection":"$watch"](l,function(t,e){if(e===t){if(e===x||w&&W(e,x))return;e=x}u(o,t,e),r[o]=t}),f.push(v);break;case"&":if(g||gi.call(e,m)||Tt(m,a.name),(l=e.hasOwnProperty(m)?s(e[m]):$)===$&&g)break;r[o]=function(e){return l(t,e)}}}),{initialChanges:h,removeWatches:f.length&&function(){for(var t=0,e=f.length;t<e;++t)f[t]()}}}var Nt,It=/^\w/,jt=t.document.createElement("div"),Rt=j,Dt=P,_t=I;U.prototype={$normalize:Ae,$addClass:function(t){t&&t.length>0&&b.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&b.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=Oe(t,e);n&&n.length&&b.addClass(this.$$element,n);var r=Oe(e,t);r&&r.length&&b.removeClass(this.$$element,r)},$set:function(t,e,n,i){var a,s=this.$$element[0],u=te(s,t),c=ee(t),l=t;u?(this.$$element.prop(t,e),i=u):c&&(this[c]=e,l=c),this[t]=e,i?this.$attr[t]=i:(i=this.$attr[t])||(this.$attr[t]=i=pt(t,"-")),a=q(this.$$element),"img"===a&&"srcset"===t&&(this[t]=e=_(e,"$set('srcset', value)")),!1!==n&&(null===e||y(e)?this.$$element.removeAttr(i):It.test(i)?u&&!1===e?this.$$element.removeAttr(i):this.$$element.attr(i,e):L(this.$$element[0],i,e));var f=this.$$observers;f&&o(f[l],function(t){try{t(e)}catch(t){r(t)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=yt()),i=r[t]||(r[t]=[]);return i.push(e),c.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(t)||y(n[t])||e(n[t])}),function(){H(i,e)}}};var Ut=n.startSymbol(),Lt=n.endSymbol(),qt="{{"===Ut&&"}}"===Lt?v:function(t){return t.replace(/\{\{/g,Ut).replace(/}}/g,Lt)},Ft=/^ng(Attr|Prop|On)([A-Z].*)$/,Ht=/^(.+)Start$/;return B.$$addBindingInfo=T?function(t,e){var n=t.data("$binding")||[];k(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:$,B.$$addBindingClass=T?function(t){F(t,"ng-binding")}:$,B.$$addScopeInfo=T?function(t,e,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(i,e)}:$,B.$$addScopeClass=T?function(t,e){F(t,e?"ng-isolate-scope":"ng-scope")}:$,B.$$createComment=function(e,n){var r="";return T&&(r=" "+(e||"")+": ",n&&(r+=n+" ")),t.document.createComment(r)},B}]}function ke(t,e){this.previousValue=t,this.currentValue=e}function Ae(t){return t.replace(Oo,"").replace(Mo,function(t,e,n){return n?e.toUpperCase():e})}function Oe(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/);t:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a===i[s])continue t;n+=(n.length>0?" ":"")+a}return n}function Me(t){t=hi(t);var e=t.length;if(e<=1)return t;for(;e--;){var n=t[e];(n.nodeType===Fi||n.nodeType===qi&&""===n.nodeValue.trim())&&xi.call(t,e,1)}return t}function Te(t,e){if(e&&E(e))return e;if(E(t)){var n=Vo.exec(t);if(n)return n[3]}}function Ve(){var t={};this.has=function(e){return t.hasOwnProperty(e)},this.register=function(e,n){vt(e,"controller"),w(e)?f(t,e):t[e]=n},this.$get=["$injector",function(e){function n(t,e,n,i){if(!t||!w(t.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,e);t.$scope[e]=n}return function(r,i,o,a){var s,u,c,l;if(o=!0===o,a&&E(a)&&(l=a),E(r)){if(!(u=r.match(Vo)))throw To("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);if(c=u[1],l=l||u[3],!(r=t.hasOwnProperty(c)?t[c]:mt(i.$scope,c,!0)))throw To("ctrlreg","The controller with the name '{0}' is not registered.",c);$t(r,c,!0)}if(o){var h=(k(r)?r[r.length-1]:r).prototype;return s=Object.create(h||null),l&&n(i,l,s,c||r.name),f(function(){var t=e.invoke(r,s,i,c);return t!==s&&(w(t)||O(t))&&(s=t,l&&n(i,l,s,c||r.name)),s},{instance:s,identifier:l})}return s=e.instantiate(r,i,c),l&&n(i,l,s,c||r.name),s}}]}function Ne(){this.$get=["$window",function(t){return hi(t.document)}]}function Ie(){this.$get=["$document","$rootScope",function(t,e){function n(){i=r.hidden}var r=t[0],i=r&&r.hidden;return t.on("visibilitychange",n),e.$on("$destroy",function(){t.off("visibilitychange",n)}),function(){return i}}]}function je(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function Re(t){return w(t)?S(t)?t.toISOString():Y(t):t}function Pe(){this.$get=function(){return function(t){if(!t)return"";var e=[];return a(t,function(t,n){null===t||y(t)||O(t)||(k(t)?o(t,function(t){e.push(st(n)+"="+st(Re(t)))}):e.push(st(n)+"="+st(Re(t))))}),e.join("&")}}}function De(){this.$get=function(){return function(t){function e(t,r,i){k(t)?o(t,function(t,n){e(t,r+"["+(w(t)?n:"")+"]")}):w(t)&&!S(t)?a(t,function(t,n){e(t,r+(i?"":"[")+n+(i?"":"]"))}):(O(t)&&(t=t()),n.push(st(r)+"="+(null==t?"":st(Re(t)))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function _e(t,e){if(E(t)){var n=t.replace(Do,"").trim();if(n){var r=e("Content-Type"),i=r&&0===r.indexOf(Io);if(i||Ue(n))try{t=Q(n)}catch(e){if(!i)return t;throw _o("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',t,e)}}}return t}function Ue(t){var e=t.match(Ro);return e&&Po[e[0]].test(t)}function Le(t){function e(t,e){t&&(r[t]=r[t]?r[t]+", "+e:e)}var n,r=yt();return E(t)?o(t.split("\n"),function(t){n=t.indexOf(":"),e(yi(Vi(t.substr(0,n))),Vi(t.substr(n+1)))}):w(t)&&o(t,function(t,n){e(yi(n),Vi(t))}),r}function qe(t){var e;return function(n){if(e||(e=Le(t)),n){var r=e[yi(n)];return void 0===r&&(r=null),r}return e}}function Fe(t,e,n,r){return O(r)?r(t,e,n):(o(r,function(r){t=r(t,e,n)}),t)}function He(t){return 200<=t&&t<300}function Be(){var t=this.defaults={transformResponse:[_e],transformRequest:[function(t){return!w(t)||N(t)||j(t)||I(t)?t:Y(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:xt(jo),put:xt(jo),patch:xt(jo)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},e=!1;this.useApplyAsync=function(t){return b(t)?(e=!!t,this):e};var n=this.interceptors=[],i=this.xsrfWhitelistedOrigins=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(a,s,u,c,l,h,p,d){function v(e){function n(t,e){for(var n=0,r=e.length;n<r;){var i=e[n++],o=e[n++];t=t.then(i,o)}return e.length=0,t}function i(){a.$$completeOutstandingRequest($,"$http")}function s(t,e){var n,r={};return o(t,function(t,i){O(t)?null!=(n=t(e))&&(r[i]=n):r[i]=t}),r}function u(e){var n=e.headers,r=Fe(e.data,qe(n),void 0,e.transformRequest);return y(r)&&o(n,function(t,e){"content-type"===yi(e)&&delete n[e]}),y(e.withCredentials)&&!y(t.withCredentials)&&(e.withCredentials=t.withCredentials),m(e,r).then(c,c)}function c(t){var e=f({},t);return e.data=Fe(t.data,t.headers,t.status,l.transformResponse),He(t.status)?e:h.reject(e)}if(!w(e))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);if(!E(d.valueOf(e.url)))throw r("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",e.url);var l=f({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer,jsonpCallbackParam:t.jsonpCallbackParam},e);l.headers=function(e){var n,r,i,o=t.headers,a=f({},e.headers);o=f({},o.common,o[yi(e.method)]);t:for(n in o){r=yi(n);for(i in a)if(yi(i)===r)continue t;a[n]=o[n]}return s(a,xt(e))}(e),l.method=bi(l.method),l.paramSerializer=E(l.paramSerializer)?p.get(l.paramSerializer):l.paramSerializer,a.$$incOutstandingRequestCount("$http");var v=[],g=[],b=h.resolve(l);return o(S,function(t){(t.request||t.requestError)&&v.unshift(t.request,t.requestError),(t.response||t.responseError)&&g.push(t.response,t.responseError)}),b=n(b,v),b=b.then(u),b=n(b,g),b=b.finally(i)}function m(n,r){function i(t){if(t){var n={};return o(t,function(t,r){n[r]=function(n){function r(){t(n)}e?l.$applyAsync(r):l.$$phase?r():l.$apply(r)}}),n}}function a(t,n,r,i,o){function a(){c(n,t,r,i,o)}$&&(He(t)?$.put(V,[t,n,Le(r),i,o]):$.remove(V)),e?l.$applyAsync(a):(a(),l.$$phase||l.$apply())}function c(t,e,r,i,o){e=e>=-1?e:0,(He(e)?S.resolve:S.reject)({data:t,status:e,headers:qe(r),config:n,statusText:i,xhrStatus:o})}function f(t){c(t.data,t.status,xt(t.headers()),t.statusText,t.xhrStatus)}function p(){var t=v.pendingRequests.indexOf(n);-1!==t&&v.pendingRequests.splice(t,1)}var $,m,S=h.defer(),O=S.promise,M=n.headers,T="jsonp"===yi(n.method),V=n.url;if(T?V=d.getTrustedResourceUrl(V):E(V)||(V=d.valueOf(V)),V=g(V,n.paramSerializer(n.params)),T&&(V=x(V,n.jsonpCallbackParam)),v.pendingRequests.push(n),O.then(p,p),!n.cache&&!t.cache||!1===n.cache||"GET"!==n.method&&"JSONP"!==n.method||($=w(n.cache)?n.cache:w(t.cache)?t.cache:C),$&&(m=$.get(V),b(m)?P(m)?m.then(f,f):k(m)?c(m[1],m[0],xt(m[2]),m[3],m[4]):c(m,200,{},"OK","complete"):$.put(V,O)),y(m)){var N=A(n.url)?u()[n.xsrfCookieName||t.xsrfCookieName]:void 0;N&&(M[n.xsrfHeaderName||t.xsrfHeaderName]=N),s(n.method,V,r,a,M,n.timeout,n.withCredentials,n.responseType,i(n.eventHandlers),i(n.uploadEventHandlers))}return O}function g(t,e){return e.length>0&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}function x(t,e){var n=t.split("?");if(n.length>2)throw _o("badjsonp",'Illegal use more than one "?", in url, "{1}"',t);return o(it(n[1]),function(n,r){if("JSON_CALLBACK"===n)throw _o("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',t);if(r===e)throw _o("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',e,t)}),t+=(-1===t.indexOf("?")?"?":"&")+e+"=JSON_CALLBACK"}var C=c("$http");t.paramSerializer=E(t.paramSerializer)?p.get(t.paramSerializer):t.paramSerializer;var S=[];o(n,function(t){S.unshift(E(t)?p.get(t):p.invoke(t))});var A=tr(i);return v.pendingRequests=[],function(t){o(arguments,function(t){v[t]=function(e,n){return v(f({},n||{},{method:t,url:e}))}})}("get","delete","head","jsonp"),function(t){o(arguments,function(t){v[t]=function(e,n,r){return v(f({},r||{},{method:t,url:e,data:n}))}})}("post","put","patch"),v.defaults=t,v}]}function ze(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function We(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,r){return Ge(t,r,t.defer,e,n[0])}]}function Ge(t,e,n,r,i){function a(t,e,n){t=t.replace("JSON_CALLBACK",e);var o=i.createElement("script"),a=null;return o.type="text/javascript",o.src=t,o.async=!0,a=function(t){o.removeEventListener("load",a),o.removeEventListener("error",a),i.body.removeChild(o),o=null;var s=-1,u="unknown";t&&("load"!==t.type||r.wasCalled(e)||(t={type:"error"}),u=t.type,s="error"===t.type?404:200),n&&n(s,u)},o.addEventListener("load",a),o.addEventListener("error",a),i.body.appendChild(o),a}return function(i,s,u,c,l,f,h,p,d,$){function v(t){E="timeout"===t,w&&w(),x&&x.abort()}function m(t,e,r,i,o,a){b(A)&&n.cancel(A),w=x=null,t(e,r,i,o,a)}if(s=s||t.url(),"jsonp"===yi(i))var g=r.createCallback(s),w=a(s,g,function(t,e){var n=200===t&&r.getResponse(g);m(c,t,n,"",e,"complete"),r.removeCallback(g)});else{var x=e(i,s),E=!1;x.open(i,s,!0),o(l,function(t,e){b(t)&&x.setRequestHeader(e,t)}),x.onload=function(){var t=x.statusText||"",e="response"in x?x.response:x.responseText,n=1223===x.status?204:x.status;0===n&&(n=e?200:"file"===Yn(s).protocol?404:0),m(c,n,e,x.getAllResponseHeaders(),t,"complete")};var C=function(){m(c,-1,null,null,"","error")},S=function(){m(c,-1,null,null,"",E?"timeout":"abort")},k=function(){m(c,-1,null,null,"","timeout")};if(x.onerror=C,x.ontimeout=k,x.onabort=S,o(d,function(t,e){x.addEventListener(e,t)}),o($,function(t,e){x.upload.addEventListener(e,t)}),h&&(x.withCredentials=!0),p)try{x.responseType=p}catch(t){if("json"!==p)throw t}x.send(y(u)?null:u)}if(f>0)var A=n(function(){v("timeout")},f);else P(f)&&f.then(function(){v(b(f.$$timeoutId)?"timeout":"abort")})}}function Ke(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(t){return"\\\\\\"+t}function a(n){return n.replace(h,t).replace(p,e)}function s(t,e,n,r){var i=t.$watch(function(t){return i(),r(t)},e,n);return i}function u(o,u,h,p){function d(t){try{return t=h&&!$?i.getTrusted(h,t):i.valueOf(t),p&&!b(t)?t:bt(t)}catch(t){r(Uo.interr(o,t))}}var $=h===i.URL||h===i.MEDIA_URL;if(!o.length||-1===o.indexOf(t)){if(u)return;var v=a(o);$&&(v=i.getTrusted(h,v));var g=m(v);return g.exp=o,g.expressions=[],g.$$watchDelegate=s,g}p=!!p;for(var w,x,E,C,S,k=0,A=[],O=o.length,M=[],T=[];k<O;){if(-1===(w=o.indexOf(t,k))||-1===(x=o.indexOf(e,w+c))){k!==O&&M.push(a(o.substring(k)));break}k!==w&&M.push(a(o.substring(k,w))),C=o.substring(w+c,x),A.push(C),k=x+l,T.push(M.length),M.push("")}S=1===M.length&&1===T.length;var V=$&&S?void 0:d;if(E=A.map(function(t){return n(t,V)}),!u||A.length){var N=function(t){for(var e=0,n=A.length;e<n;e++){if(p&&y(t[e]))return;M[T[e]]=t[e]}return $?i.getTrusted(h,S?M[0]:M.join("")):(h&&M.length>1&&Uo.throwNoconcat(o),M.join(""))};return f(function(t){var e=0,n=A.length,i=new Array(n);try{for(;e<n;e++)i[e]=E[e](t);return N(i)}catch(t){r(Uo.interr(o,t))}},{exp:o,expressions:A,$$watchDelegate:function(t,e){var n;return t.$watchGroup(E,function(r,i){var o=N(r);e.call(this,o,r!==i?n:o,t),n=o})}})}}var c=t.length,l=e.length,h=new RegExp(t.replace(/./g,o),"g"),p=new RegExp(e.replace(/./g,o),"g");return u.startSymbol=function(){return t},u.endSymbol=function(){return e},u}]}function Je(){this.$get=["$$intervalFactory","$window",function(t,e){var n={},r=function(t,r,i){var o=e.setInterval(t,r);return n[o]=i,o},i=function(t){e.clearInterval(t),delete n[t]},o=t(r,i);return o.cancel=function(t){if(!t)return!1;if(!t.hasOwnProperty("$$intervalId"))throw Lo("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.");if(!n.hasOwnProperty(t.$$intervalId))return!1;var e=t.$$intervalId,r=n[e];return Pn(r.promise),r.reject("canceled"),i(e),!0},o}]}function Ze(){this.$get=["$browser","$q","$$q","$rootScope",function(t,e,n,r){return function(i,o){return function(a,s,u,c){function l(){h?a.apply(null,p):a(d)}function f(){$?t.defer(l):r.$evalAsync(l),v.notify(d++),u>0&&d>=u&&(v.resolve(d),o(m.$$intervalId)),$||r.$apply()}var h=arguments.length>4,p=h?K(arguments,4):[],d=0,$=b(c)&&!c,v=($?n:e).defer(),m=v.promise;return u=b(u)?u:0,m.$$intervalId=i(f,s,v,$),m}}}]}function Ye(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=at(e[n].replace(/%2F/g,"/"));return e.join("/")}function Qe(t,e){for(var n=t.split("/"),r=n.length;r--;)n[r]=decodeURIComponent(n[r]),e&&(n[r]=n[r].replace(/\//g,"%2F"));return n.join("/")}function Xe(t,e,n){var r=ot(e),i=n?"#"+at(n):"";return Ye(t)+(r?"?"+r:"")+i}function tn(t,e){var n=Yn(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=p(n.port)||Ho[n.protocol]||null}function en(t,e,n){if(zo.test(t))throw Bo("badpath",'Invalid url "{0}".',t);var r="/"!==t.charAt(0);r&&(t="/"+t);var i=Yn(t),o=r&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname;e.$$path=Qe(o,n),e.$$search=it(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!==e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function nn(t,e){return t.slice(0,e.length)===e}function rn(t,e){if(nn(e,t))return e.substr(t.length)}function on(t){var e=t.indexOf("#");return-1===e?t:t.substr(0,e)}function an(t){return t.substr(0,on(t).lastIndexOf("/")+1)}function sn(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function un(t,e,n){this.$$html5=!0,n=n||"",tn(t,this),this.$$parse=function(t){var n=rn(e,t);if(!E(n))throw Bo("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);en(n,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(t){return e+t.substr(1)},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a,s;return b(o=rn(t,r))?(a=o,s=n&&b(o=rn(n,o))?e+(rn("/",o)||o):t+a):b(o=rn(e,r))?s=e+o:e===r+"/"&&(s=e),s&&this.$$parse(s),!!s}}function cn(t,e,n){tn(t,this),this.$$parse=function(r){var i,o=rn(t,r)||rn(e,r);y(o)||"#"!==o.charAt(0)?this.$$html5?i=o:(i="",y(o)&&(t=r,this.replace())):(i=rn(n,o),y(i)&&(i=o)),en(i,this,!1),this.$$path=function(t,e,n){var r,i=/^\/[A-Z]:(\/.*)/;return nn(e,n)&&(e=e.replace(n,"")),i.exec(e)?t:(r=i.exec(t),r?r[1]:t)}(this.$$path,i,t),this.$$compose()},this.$$normalizeUrl=function(e){return t+(e?n+e:"")},this.$$parseLinkUrl=function(e,n){return on(t)===on(e)&&(this.$$parse(e),!0)}}function ln(t,e,n){this.$$html5=!0,cn.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return t===on(r)?o=r:(a=rn(e,r))?o=t+n+a:e===r+"/"&&(o=e),o&&this.$$parse(o),!!o},this.$$normalizeUrl=function(e){return t+n+e}}function fn(t){return function(){return this[t]}}function hn(t,e){return function(n){return y(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function pn(){var t="!",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return b(e)?(t=e,this):t},this.html5Mode=function(t){return R(t)?(e.enabled=t,this):w(t)?(R(t.enabled)&&(e.enabled=t.enabled),R(t.requireBase)&&(e.requireBase=t.requireBase),(R(t.rewriteLinks)||E(t.rewriteLinks))&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(t,e){return t===e||Yn(t).href===Yn(e).href}function u(t,e,n){var i=l.url(),o=l.$$state;try{r.url(t,e,n),l.$$state=r.state()}catch(t){throw l.url(i),l.$$state=o,t}}function c(t,e){n.$broadcast("$locationChangeSuccess",l.absUrl(),t,l.$$state,e)}var l,f,h,p=r.baseHref(),d=r.url();if(e.enabled){if(!p&&e.requireBase)throw Bo("nobase","$location in HTML5 mode requires a <base> tag to be present!");h=sn(d)+(p||"/"),f=i.history?un:ln}else h=on(d),f=cn;var $=an(h);l=new f(h,$,"#"+t),l.$$parseLinkUrl(d,d),l.$$state=r.state();var v=/^\s*(javascript|mailto):/i;o.on("click",function(t){var i=e.rewriteLinks;if(i&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!==t.which&&2!==t.button){for(var a=hi(t.target);"a"!==q(a[0]);)if(a[0]===o[0]||!(a=a.parent())[0])return;if(!E(i)||!y(a.attr(i))){var s=a.prop("href"),u=a.attr("href")||a.attr("xlink:href");w(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Yn(s.animVal).href),v.test(s)||!s||a.attr("target")||t.isDefaultPrevented()||l.$$parseLinkUrl(s,u)&&(t.preventDefault(),l.absUrl()!==r.url()&&n.$apply())}}}),l.absUrl()!==d&&r.url(l.absUrl(),!0);var m=!0;return r.onUrlChange(function(t,e){if(!nn(t,$))return void(a.location.href=t);n.$evalAsync(function(){var r,i=l.absUrl(),o=l.$$state;l.$$parse(t),
l.$$state=e,r=n.$broadcast("$locationChangeStart",t,i,e,o).defaultPrevented,l.absUrl()===t&&(r?(l.$$parse(i),l.$$state=o,u(i,!1,o)):(m=!1,c(i,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){if(m||l.$$urlUpdatedByLocation){l.$$urlUpdatedByLocation=!1;var t=r.url(),e=l.absUrl(),o=r.state(),a=l.$$replace,f=!s(t,e)||l.$$html5&&i.history&&o!==l.$$state;(m||f)&&(m=!1,n.$evalAsync(function(){var e=l.absUrl(),r=n.$broadcast("$locationChangeStart",e,t,l.$$state,o).defaultPrevented;l.absUrl()===e&&(r?(l.$$parse(t),l.$$state=o):(f&&u(e,a,o===l.$$state?null:l.$$state),c(t,o)))}))}l.$$replace=!1}),l}]}function dn(){var t=!0,e=this;this.debugEnabled=function(e){return b(e)?(t=e,this):t},this.$get=["$window",function(n){function r(t){return A(t)&&(t.stack&&a?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function i(t){var e=n.console||{},i=e[t]||e.log||$;return function(){var t=[];return o(arguments,function(e){t.push(r(e))}),Function.prototype.apply.call(i,e,t)}}var a=fi||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function $n(t){return t+""}function vn(t,e){return void 0!==t?t:e}function mn(t,e){return void 0===t?e:void 0===e?t:t+e}function gn(t,e){return!t(e).$stateful}function yn(t,e){switch(t.type){case Qo.MemberExpression:if(t.computed)return!1;break;case Qo.UnaryExpression:return Xo;case Qo.BinaryExpression:return"+"!==t.operator&&Xo;case Qo.CallExpression:return!1}return void 0===e?ta:e}function bn(t,e,n){var r,i,a,s=t.isPure=yn(t,n);switch(t.type){case Qo.Program:r=!0,o(t.body,function(t){bn(t.expression,e,s),r=r&&t.expression.constant}),t.constant=r;break;case Qo.Literal:t.constant=!0,t.toWatch=[];break;case Qo.UnaryExpression:bn(t.argument,e,s),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Qo.BinaryExpression:bn(t.left,e,s),bn(t.right,e,s),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Qo.LogicalExpression:bn(t.left,e,s),bn(t.right,e,s),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Qo.ConditionalExpression:bn(t.test,e,s),bn(t.alternate,e,s),bn(t.consequent,e,s),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Qo.Identifier:t.constant=!1,t.toWatch=[t];break;case Qo.MemberExpression:bn(t.object,e,s),t.computed&&bn(t.property,e,s),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=t.constant?[]:[t];break;case Qo.CallExpression:a=!!t.filter&&gn(e,t.callee.name),r=a,i=[],o(t.arguments,function(t){bn(t,e,s),r=r&&t.constant,i.push.apply(i,t.toWatch)}),t.constant=r,t.toWatch=a?i:[t];break;case Qo.AssignmentExpression:bn(t.left,e,s),bn(t.right,e,s),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Qo.ArrayExpression:r=!0,i=[],o(t.elements,function(t){bn(t,e,s),r=r&&t.constant,i.push.apply(i,t.toWatch)}),t.constant=r,t.toWatch=i;break;case Qo.ObjectExpression:r=!0,i=[],o(t.properties,function(t){bn(t.value,e,s),r=r&&t.value.constant,i.push.apply(i,t.value.toWatch),t.computed&&(bn(t.key,e,!1),r=r&&t.key.constant,i.push.apply(i,t.key.toWatch))}),t.constant=r,t.toWatch=i;break;case Qo.ThisExpression:case Qo.LocalsExpression:t.constant=!1,t.toWatch=[]}}function wn(t){if(1===t.length){var e=t[0].expression,n=e.toWatch;return 1!==n.length?n:n[0]!==e?n:void 0}}function xn(t){return t.type===Qo.Identifier||t.type===Qo.MemberExpression}function En(t){if(1===t.body.length&&xn(t.body[0].expression))return{type:Qo.AssignmentExpression,left:t.body[0].expression,right:{type:Qo.NGValueParameter},operator:"="}}function Cn(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===Qo.Literal||t.body[0].expression.type===Qo.ArrayExpression||t.body[0].expression.type===Qo.ObjectExpression)}function Sn(t){return t.constant}function kn(t){this.$filter=t}function An(t){this.$filter=t}function On(t,e,n){this.ast=new Qo(t,n),this.astCompiler=n.csp?new An(e):new kn(e)}function Mn(t){return O(t.valueOf)?t.valueOf():Ko.call(t)}function Tn(){var t,e,n=yt(),r={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(t,e){r[t]=e},this.setIdentifierFns=function(n,r){return t=n,e=r,this},this.$get=["$filter",function(i){function a(t,e){var r,o;switch(typeof t){case"string":if(t=t.trim(),o=t,!(r=n[o])){r=new On(new Yo(y),i,y).parse(t),n[o]=p(r)}return m(r,e);case"function":return m(t,e);default:return m($,e)}}function s(t){return new On(new Yo(y),i,y).getAst(t).ast}function u(t,e,n){return null==t||null==e?t===e:!("object"==typeof t&&"object"==typeof(t=Mn(t))&&!n)&&(t===e||t!==t&&e!==e)}function c(t,e,n,r,i){var o,a=r.inputs;if(1===a.length){var s=u;return a=a[0],t.$watch(function(t){var e=a(t);return u(e,s,a.isPure)||(o=r(t,void 0,void 0,[e]),s=e&&Mn(e)),o},e,n,i)}for(var c=[],l=[],f=0,h=a.length;f<h;f++)c[f]=u,l[f]=null;return t.$watch(function(t){for(var e=!1,n=0,i=a.length;n<i;n++){var s=a[n](t);(e||(e=!u(s,c[n],a[n].isPure)))&&(l[n]=s,c[n]=s&&Mn(s))}return e&&(o=r(t,void 0,void 0,l)),o},e,n,i)}function l(t,e,n,r,i){function o(){c(u)&&s()}function a(t,e,n,r){return u=d&&r?r[0]:l(t,e,n,r),c(u)&&t.$$postDigest(o),h(u)}var s,u,c=r.literal?f:b,l=r.$$intercepted||r,h=r.$$interceptor||v,d=r.inputs&&!l.inputs;return a.literal=r.literal,a.constant=r.constant,a.inputs=r.inputs,p(a),s=t.$watch(a,e,n,i)}function f(t){var e=!0;return o(t,function(t){b(t)||(e=!1)}),e}function h(t,e,n,r){var i=t.$watch(function(t){return i(),r(t)},e,n);return i}function p(t){return t.constant?t.$$watchDelegate=h:t.oneTime?t.$$watchDelegate=l:t.inputs&&(t.$$watchDelegate=c),t}function d(t,e){function n(n){return e(t(n))}return n.$stateful=t.$stateful||e.$stateful,n.$$pure=t.$$pure&&e.$$pure,n}function m(t,e){if(!e)return t;t.$$interceptor&&(e=d(t.$$interceptor,e),t=t.$$intercepted);var n=!1,r=function(r,i,o,a){var s=n&&a?a[0]:t(r,i,o,a);return e(s)};return r.$$intercepted=t,r.$$interceptor=e,r.literal=t.literal,r.oneTime=t.oneTime,r.constant=t.constant,e.$stateful||(n=!t.inputs,r.inputs=t.inputs?t.inputs:[t],e.$$pure||(r.inputs=r.inputs.map(function(t){return t.isPure===ta?function(e){return t(e)}:t}))),p(r)}var g=Ii().noUnsafeEval,y={csp:g,literals:B(r),isIdentifierStart:O(t)&&t,isIdentifierContinue:O(e)&&e};return a.$$getAst=s,a}]}function Vn(){var t=!0;this.$get=["$rootScope","$exceptionHandler",function(e,n){return In(function(t){e.$evalAsync(t)},n,t)}],this.errorOnUnhandledRejections=function(e){return b(e)?(t=e,this):t}}function Nn(){var t=!0;this.$get=["$browser","$exceptionHandler",function(e,n){return In(function(t){e.defer(t)},n,t)}],this.errorOnUnhandledRejections=function(e){return b(e)?(t=e,this):t}}function In(t,e,n){function i(){return new a}function a(){var t=this.promise=new s;this.resolve=function(e){h(t,e)},this.reject=function(e){d(t,e)},this.notify=function(e){v(t,e)}}function s(){this.$$state={status:0}}function u(r){var i,o,a;a=r.pending,r.processScheduled=!1,r.pending=void 0;try{for(var s=0,u=a.length;s<u;++s){Rn(r),o=a[s][0],i=a[s][r.status];try{O(i)?h(o,i(r.value)):1===r.status?h(o,r.value):d(o,r.value)}catch(t){d(o,t),t&&!0===t.$$passToExceptionHandler&&e(t)}}}finally{--M,n&&0===M&&t(c)}}function c(){for(;!M&&T.length;){var t=T.shift();if(!jn(t)){Rn(t);var n="Possibly unhandled rejection: "+Ct(t.value);A(t.value)?e(t.value,n):e(n)}}}function l(e){!n||e.pending||2!==e.status||jn(e)||(0===M&&0===T.length&&t(c),T.push(e)),!e.processScheduled&&e.pending&&(e.processScheduled=!0,++M,t(function(){u(e)}))}function h(t,e){t.$$state.status||(e===t?$(t,S("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):p(t,e))}function p(t,e){function n(e){a||(a=!0,p(t,e))}function r(e){a||(a=!0,$(t,e))}function i(e){v(t,e)}var o,a=!1;try{(w(e)||O(e))&&(o=e.then),O(o)?(t.$$state.status=-1,o.call(e,n,r,i)):(t.$$state.value=e,t.$$state.status=1,l(t.$$state))}catch(t){r(t)}}function d(t,e){t.$$state.status||$(t,e)}function $(t,e){t.$$state.value=e,t.$$state.status=2,l(t.$$state)}function v(n,r){var i=n.$$state.pending;n.$$state.status<=0&&i&&i.length&&t(function(){for(var t,n,o=0,a=i.length;o<a;o++){n=i[o][0],t=i[o][3];try{v(n,O(t)?t(r):r)}catch(t){e(t)}}})}function m(t){var e=new s;return d(e,t),e}function g(t,e,n){var r=null;try{O(n)&&(r=n())}catch(t){return m(t)}return P(r)?r.then(function(){return e(t)},m):e(t)}function b(t,e,n,r){var i=new s;return h(i,t),i.then(e,n,r)}function x(t){var e=new s,n=0,r=k(t)?[]:{};return o(t,function(t,i){n++,b(t).then(function(t){r[i]=t,--n||h(e,r)},function(t){d(e,t)})}),0===n&&h(e,r),e}function E(t){var e=i();return o(t,function(t){b(t).then(e.resolve,e.reject)}),e.promise}function C(t){function e(t){h(r,t)}function n(t){d(r,t)}if(!O(t))throw S("norslvr","Expected resolverFn, got '{0}'",t);var r=new s;return t(e,n),r}var S=r("$q",TypeError),M=0,T=[];f(s.prototype,{then:function(t,e,n){if(y(t)&&y(e)&&y(n))return this;var r=new s;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,n]),this.$$state.status>0&&l(this.$$state),r},catch:function(t){return this.then(null,t)},finally:function(t,e){return this.then(function(e){return g(e,V,t)},function(e){return g(e,m,t)},e)}});var V=b;return C.prototype=s.prototype,C.defer=i,C.reject=m,C.when=b,C.resolve=V,C.all=x,C.race=E,C}function jn(t){return!!t.pur}function Rn(t){t.pur=!0}function Pn(t){t.$$state&&Rn(t.$$state)}function Dn(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(t){var e=n(t);return function(){r(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=i,o}]}function _n(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=u(),this.$$ChildScope=null,this.$$suspended=!1}return e.prototype=t,e}var e=10,n=r("$rootScope"),a=null,s=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$exceptionHandler","$parse","$browser",function(r,c,l){function f(t){t.currentScope.$$destroyed=!0}function h(t){9===fi&&(t.$$childHead&&h(t.$$childHead),t.$$nextSibling&&h(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function p(){this.$id=u(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$suspended=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function d(t){if(C.$$phase)throw n("inprog","{0} already in progress",C.$$phase);C.$$phase=t}function v(){C.$$phase=null}function m(t,e){do{t.$$watchersCount+=e}while(t=t.$parent)}function g(t,e,n){do{t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n]}while(t=t.$parent)}function b(){}function x(){for(;A.length;)try{A.shift()()}catch(t){r(t)}s=null}function E(){null===s&&(s=l.defer(function(){C.$apply(x)},null,"$applyAsync"))}p.prototype={constructor:p,$new:function(e,n){var r;return n=n||this,e?(r=new p,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(e||n!==this)&&r.$on("$destroy",f),r},$watch:function(t,e,n,r){var i=c(t),o=O(e)?e:$;if(i.$$watchDelegate)return i.$$watchDelegate(this,o,n,i,t);var s=this,u=s.$$watchers,l={fn:o,last:b,get:i,exp:r||t,eq:!!n};return a=null,u||(u=s.$$watchers=[],u.$$digestWatchIndex=-1),u.unshift(l),u.$$digestWatchIndex++,m(this,1),function(){var t=H(u,l);t>=0&&(m(s,-1),t<u.$$digestWatchIndex&&u.$$digestWatchIndex--),a=null}},$watchGroup:function(t,e){function n(){u=!1;try{c?(c=!1,e(i,i,s)):e(i,r,s)}finally{for(var n=0;n<t.length;n++)r[n]=i[n]}}var r=new Array(t.length),i=new Array(t.length),a=[],s=this,u=!1,c=!0;if(!t.length){var l=!0;return s.$evalAsync(function(){l&&e(i,i,s)}),function(){l=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){i[0]=t,r[0]=n,e(i,t===n?i:r,o)}):(o(t,function(t,e){var r=s.$watch(t,function(t){i[e]=t,u||(u=!0,s.$evalAsync(n))});a.push(r)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function n(t){o=t;var e,n,r,s;if(!y(o)){if(w(o))if(i(o)){a!==p&&(a=p,v=a.length=0,f++),e=o.length,v!==e&&(f++,a.length=v=e);for(var u=0;u<e;u++)s=a[u],r=o[u],s!==s&&r!==r||s===r||(f++,a[u]=r)}else{a!==d&&(a=d={},v=0,f++),e=0;for(n in o)gi.call(o,n)&&(e++,r=o[n],s=a[n],n in a?s!==s&&r!==r||s===r||(f++,a[n]=r):(v++,a[n]=r,f++));if(v>e){f++;for(n in a)gi.call(o,n)||(v--,delete a[n])}}else a!==o&&(a=o,f++);return f}}function r(){if($?($=!1,e(o,o,u)):e(o,s,u),l)if(w(o))if(i(o)){s=new Array(o.length);for(var t=0;t<o.length;t++)s[t]=o[t]}else{s={};for(var n in o)gi.call(o,n)&&(s[n]=o[n])}else s=o}n.$$pure=c(t).literal,n.$stateful=!n.$$pure;var o,a,s,u=this,l=e.length>1,f=0,h=c(t,n),p=[],d={},$=!0,v=0;return this.$watch(h,r)},$digest:function(){var t,i,o,u,c,f,h,p,$,m,g,y=e,w=S.length?C:this,E=[];d("$digest"),l.$$checkUrlChange(),this===C&&null!==s&&(l.defer.cancel(s),x()),a=null;do{h=!1,$=w;for(var A=0;A<S.length;A++){try{g=S[A],u=g.fn,u(g.scope,g.locals)}catch(t){r(t)}a=null}S.length=0;t:do{if(f=!$.$$suspended&&$.$$watchers)for(f.$$digestWatchIndex=f.length;f.$$digestWatchIndex--;)try{if(t=f[f.$$digestWatchIndex])if(c=t.get,(i=c($))===(o=t.last)||(t.eq?W(i,o):Mi(i)&&Mi(o))){if(t===a){h=!1;break t}}else h=!0,a=t,t.last=t.eq?B(i,null):i,u=t.fn,u(i,o===b?i:o,$),y<5&&(m=4-y,E[m]||(E[m]=[]),E[m].push({msg:O(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:i,oldVal:o}))}catch(t){r(t)}if(!(p=!$.$$suspended&&$.$$watchersCount&&$.$$childHead||$!==w&&$.$$nextSibling))for(;$!==w&&!(p=$.$$nextSibling);)$=$.$parent}while($=p);if((h||S.length)&&!y--)throw v(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,E)}while(h||S.length);for(v();M<k.length;)try{k[M++]()}catch(t){r(t)}k.length=M=0,l.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===C&&l.$$applicationDestroyed(),m(this,-this.$$watchersCount);for(var e in this.$$listenerCount)g(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=$,this.$on=this.$watch=this.$watchGroup=function(){return $},this.$$listeners={},this.$$nextSibling=null,h(this)}},$eval:function(t,e){return c(t)(this,e)},$evalAsync:function(t,e){C.$$phase||S.length||l.defer(function(){S.length&&C.$digest()},null,"$evalAsync"),S.push({scope:this,fn:c(t),locals:e})},$$postDigest:function(t){k.push(t)},$apply:function(t){try{d("$apply");try{return this.$eval(t)}finally{v()}}catch(t){r(t)}finally{try{C.$digest()}catch(t){throw r(t),t}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&A.push(e),t=c(t),E()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var r=this;do{r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++}while(r=r.$parent);var i=this;return function(){var r=n.indexOf(e);-1!==r&&(delete n[r],g(i,1,t))}},$emit:function(t,e){var n,i,o,a=[],s=this,u=!1,c={name:t,targetScope:s,stopPropagation:function(){u=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},l=G([c],arguments,1);do{for(n=s.$$listeners[t]||a,c.currentScope=s,i=0,o=n.length;i<o;i++)if(n[i])try{n[i].apply(null,l)}catch(t){r(t)}else n.splice(i,1),i--,o--;if(u)break;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(t,e){var n=this,i=n,o=n,a={name:t,targetScope:n,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[t])return a;for(var s,u,c,l=G([a],arguments,1);i=o;){for(a.currentScope=i,s=i.$$listeners[t]||[],u=0,c=s.length;u<c;u++)if(s[u])try{s[u].apply(null,l)}catch(t){r(t)}else s.splice(u,1),u--,c--;if(!(o=i.$$listenerCount[t]&&i.$$childHead||i!==n&&i.$$nextSibling))for(;i!==n&&!(o=i.$$nextSibling);)i=i.$parent}return a.currentScope=null,a}};var C=new p,S=C.$$asyncQueue=[],k=C.$$postDigestQueue=[],A=C.$$applyAsyncQueue=[],M=0;return C}]}function Un(){var t=/^\s*(https?|s?ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return b(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return b(t)?(e=t,this):e},this.$get=function(){return function(n,r){var i=r?e:t,o=Yn(n&&n.trim()).href;return""===o||o.match(i)?n:"unsafe:"+o}}}function Ln(t){return t.replace(ia,At)}function qn(t){if("self"===t)return t;if(E(t)){if(t.indexOf("***")>-1)throw na("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=Ni(t).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+t+"$")}if(M(t))return new RegExp("^"+t.source+"$");throw na("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Fn(t){var e=[];return b(t)&&o(t,function(t){e.push(qn(t))}),e}function Hn(){this.SCE_CONTEXTS=ra;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=Fn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=Fn(t)),e},this.$get=["$injector","$$sanitizeUri",function(n,r){function i(t,e){return"self"===t?Qn(e)||Xn(e):!!t.exec(e.href)}function o(n){var r,o,a=Yn(n.toString()),s=!1;for(r=0,o=t.length;r<o;r++)if(i(t[r],a)){s=!0;break}if(s)for(r=0,o=e.length;r<o;r++)if(i(e[r],a)){s=!1;break}return s}function a(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function s(t,e){var n=h.hasOwnProperty(t)?h[t]:null;if(!n)throw na("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||y(e)||""===e)return e;if("string"!=typeof e)throw na("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)}function u(t){return t instanceof f?t.$$unwrapTrustedValue():t}function c(t,e){if(null===e||y(e)||""===e)return e;var n=h.hasOwnProperty(t)?h[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(O(e.$$unwrapTrustedValue)&&(e=e.$$unwrapTrustedValue()),t===ra.MEDIA_URL||t===ra.URL)return r(e.toString(),t===ra.MEDIA_URL);if(t===ra.RESOURCE_URL){if(o(e))return e;throw na("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===ra.HTML)return l(e);throw na("unsafe","Attempting to use an unsafe value in a safe context.")}var l=function(t){throw na("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(l=n.get("$sanitize"));var f=a(),h={};return h[ra.HTML]=a(f),h[ra.CSS]=a(f),h[ra.MEDIA_URL]=a(f),h[ra.URL]=a(h[ra.MEDIA_URL]),h[ra.JS]=a(f),h[ra.RESOURCE_URL]=a(h[ra.URL]),{trustAs:s,getTrusted:c,valueOf:u}}]}function Bn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&fi<8)throw na("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=xt(ra);r.isEnabled=function(){return t},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=v),r.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,function(e){return r.getTrusted(t,e)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o(ra,function(t,e){var n=yi(e);r[Ln("parse_as_"+n)]=function(e){return i(t,e)},r[Ln("get_trusted_"+n)]=function(e){return a(t,e)},r[Ln("trust_as_"+n)]=function(e){return s(t,e)}}),r}]}function zn(){this.$get=["$window","$document",function(t,e){var n={},r=t.nw&&t.nw.process,i=!r&&t.chrome&&(t.chrome.app&&t.chrome.app.runtime||!t.chrome.app&&t.chrome.runtime&&t.chrome.runtime.id),o=!i&&t.history&&t.history.pushState,a=p((/android (\d+)/.exec(yi((t.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((t.navigator||{}).userAgent),u=e[0]||{},c=u.body&&u.body.style,l=!1,f=!1;return c&&(l=!!("transition"in c||"webkitTransition"in c),f=!!("animation"in c||"webkitAnimation"in c)),{history:!(!o||a<4||s),hasEvent:function(t){if("input"===t&&fi)return!1;if(y(n[t])){var e=u.createElement("div");n[t]="on"+t in e}return n[t]},csp:Ii(),transitions:l,animations:f,android:a}}]}function Wn(){this.$get=m(function(t){return new Gn(t)})}function Gn(t){function e(e,o){o=o||f;try{e()}finally{n(o);var a=u[o],s=u[l];if(!s||!a)for(var c,h=s?i:r;c=h(o);)try{c()}catch(e){t.error(e)}}}function n(t){t=t||f,u[t]&&(u[t]--,u[l]--)}function r(){var t=c.pop();return t&&t.cb}function i(t){for(var e=c.length-1;e>=0;--e){var n=c[e];if(n.type===t)return c.splice(e,1),n.cb}}function o(t){t=t||f,u[t]=(u[t]||0)+1,u[l]=(u[l]||0)+1}function a(t,e){e=e||l,u[e]?c.push({type:e,cb:t}):t()}var s=this,u={},c=[],l=s.ALL_TASKS_TYPE="$$all$$",f=s.DEFAULT_TASK_TYPE="$$default$$";s.completeTask=e,s.incTaskCount=o,s.notifyWhenNoPendingTasks=a}function Kn(){var t;this.httpOptions=function(e){return e?(t=e,this):t},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(e,n,r,i,o){function a(s,u){function c(t){return u||(t=oa("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,t.status,t.statusText),e(t)),i.reject(t)}a.totalPendingRequests++,E(s)&&!y(n.get(s))||(s=o.getTrustedResourceUrl(s));var l=r.defaults&&r.defaults.transformResponse;return k(l)?l=l.filter(function(t){return t!==_e}):l===_e&&(l=null),r.get(s,f({cache:n,transformResponse:l},t)).finally(function(){a.totalPendingRequests--}).then(function(t){return n.put(s,t.data)},c)}return a.totalPendingRequests=0,a}]}function Jn(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var r={};return r.findBindings=function(t,e,n){var r=t.getElementsByClassName("ng-binding"),i=[];return o(r,function(t){var r=Ai.element(t).data("$binding");r&&o(r,function(r){if(n){new RegExp("(^|\\s)"+Ni(e)+"(\\s|\\||$)").test(r)&&i.push(t)}else-1!==r.indexOf(e)&&i.push(t)})}),i},r.findModels=function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+e+'"]',s=t.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},r.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},r}]}function Zn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,r,i){function o(o,s,u){O(o)||(u=s,s=o,o=$);var c,l=K(arguments,3),f=b(u)&&!u,h=(f?r:n).defer(),p=h.promise;return c=e.defer(function(){try{h.resolve(o.apply(null,l))}catch(t){h.reject(t),i(t)}finally{delete a[p.$$timeoutId]}f||t.$apply()},s,"$timeout"),p.$$timeoutId=c,a[c]=h,p}var a={};return o.cancel=function(t){if(!t)return!1;if(!t.hasOwnProperty("$$timeoutId"))throw aa("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.");if(!a.hasOwnProperty(t.$$timeoutId))return!1;var n=t.$$timeoutId,r=a[n];return Pn(r.promise),r.reject("canceled"),delete a[n],e.defer.cancel(n)},o}]}function Yn(t){if(!E(t))return t;var e=t;fi&&(sa.setAttribute("href",e),e=sa.href),sa.setAttribute("href",e);var n=sa.hostname;return!ca&&n.indexOf(":")>-1&&(n="["+n+"]"),{href:sa.href,protocol:sa.protocol?sa.protocol.replace(/:$/,""):"",host:sa.host,search:sa.search?sa.search.replace(/^\?/,""):"",hash:sa.hash?sa.hash.replace(/^#/,""):"",hostname:n,port:sa.port,pathname:"/"===sa.pathname.charAt(0)?sa.pathname:"/"+sa.pathname}}function Qn(t){return er(t,ua)}function Xn(t){return er(t,nr())}function tr(t){var e=[ua].concat(t.map(Yn));return function(t){var n=Yn(t);return e.some(er.bind(null,n))}}function er(t,e){return t=Yn(t),e=Yn(e),t.protocol===e.protocol&&t.host===e.host}function nr(){return t.document.baseURI?t.document.baseURI:(ea||(ea=t.document.createElement("a"),ea.href=".",ea=ea.cloneNode(!1)),ea.href)}function rr(){this.$get=m(t)}function ir(t){function e(t){try{return t.cookie||""}catch(t){return""}}function n(t){try{return decodeURIComponent(t)}catch(e){return t}}var r=t[0]||{},i={},o="";return function(){var t,a,s,u,c,l=e(r);if(l!==o)for(o=l,t=o.split("; "),i={},s=0;s<t.length;s++)a=t[s],(u=a.indexOf("="))>0&&(c=n(a.substring(0,u)),y(i[c])&&(i[c]=n(a.substring(u+1))));return i}}function or(){this.$get=ir}function ar(t){function e(r,i){if(w(r)){var a={};return o(r,function(t,n){a[n]=e(n,t)}),a}return t.factory(r+n,i)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",fr),e("date",kr),e("filter",sr),e("json",Ar),e("limitTo",Or),e("lowercase",va),e("number",hr),e("orderBy",Tr),e("uppercase",ma)}function sr(){return function(t,e,n,o){if(!i(t)){if(null==t)return t;throw r("filter")("notarray","Expected array but received: {0}",t)}o=o||"$";var a,s,u=lr(e);switch(u){case"function":a=e;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":a=ur(e,n,o,s);break;default:return t}return Array.prototype.filter.call(t,a)}}function ur(t,e,n,r){var i=w(t)&&n in t;return!0===e?e=W:O(e)||(e=function(t,e){return!y(t)&&(null===t||null===e?t===e:!(w(e)||w(t)&&!g(t))&&(t=yi(""+t),e=yi(""+e),-1!==t.indexOf(e)))}),function(o){return i&&!w(o)?cr(o,t[n],e,n,!1):cr(o,t,e,n,r)}}function cr(t,e,n,r,i,o){var a=lr(t),s=lr(e);if("string"===s&&"!"===e.charAt(0))return!cr(t,e.substring(1),n,r,i);if(k(t))return t.some(function(t){return cr(t,e,n,r,i)});switch(a){case"object":var u;if(i){for(u in t)if(u.charAt&&"$"!==u.charAt(0)&&cr(t[u],e,n,r,!0))return!0;return!o&&cr(t,e,n,r,!1)}if("object"===s){for(u in e){var c=e[u];if(!O(c)&&!y(c)){var l=u===r;if(!cr(l?t:t[u],c,n,r,l,l))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function lr(t){return null===t?"null":typeof t}function fr(t){var e=t.NUMBER_FORMATS;return function(t,n,r){y(n)&&(n=e.CURRENCY_SYM),y(r)&&(r=e.PATTERNS[1].maxFrac);var i=n?/\u00A4/g:/\s*\u00A4\s*/g;return null==t?t:$r(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,r).replace(i,n)}}function hr(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:$r(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function pr(t){var e,n,r,i,o,a=0;for((n=t.indexOf(fa))>-1&&(t=t.replace(fa,"")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charAt(r)===ha;r++);if(r===(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)===ha;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=+t.charAt(r)}return n>la&&(e=e.splice(0,la-1),a=n-1,n=1),{d:e,e:a,i:n}}function dr(t,e,n,r){var i=t.d,o=i.length-t.i;e=y(e)?Math.min(Math.max(n,o),r):+e;var a=e+t.i,s=i[a];if(a>0){i.splice(Math.max(t.i,a));for(var u=a;u<i.length;u++)i[u]=0}else{o=Math.max(0,o),t.i=1,i.length=Math.max(1,a=e+1),i[0]=0;for(var c=1;c<a;c++)i[c]=0}if(s>=5)if(a-1<0){for(var l=0;l>a;l--)i.unshift(0),t.i++;i.unshift(1),t.i++}else i[a-1]++;for(;o<Math.max(0,e);o++)i.push(0);var f=i.reduceRight(function(t,e,n,r){return e+=t,r[n]=e%10,Math.floor(e/10)},0);f&&(i.unshift(f),t.i++)}function $r(t,e,n,r,i){if(!E(t)&&!C(t)||isNaN(t))return"";var o,a=!isFinite(t),s=!1,u=Math.abs(t)+"",c="";if(a)c="∞";else{o=pr(u),dr(o,i,e.minFrac,e.maxFrac);var l=o.d,f=o.i,h=o.e,p=[];for(s=l.reduce(function(t,e){return t&&!e},!0);f<0;)l.unshift(0),f++;f>0?p=l.splice(f,l.length):(p=l,l=[0]);var d=[];for(l.length>=e.lgSize&&d.unshift(l.splice(-e.lgSize,l.length).join(""));l.length>e.gSize;)d.unshift(l.splice(-e.gSize,l.length).join(""));l.length&&d.unshift(l.join("")),c=d.join(n),p.length&&(c+=r+p.join("")),h&&(c+="e+"+h)}return t<0&&!s?e.negPre+c+e.negSuf:e.posPre+c+e.posSuf}function vr(t,e,n,r){var i="";for((t<0||r&&t<=0)&&(r?t=1-t:(t=-t,i="-")),t=""+t;t.length<e;)t=ha+t;return n&&(t=t.substr(t.length-e)),i+t}function mr(t,e,n,r,i){return n=n||0,function(o){var a=o["get"+t]();return(n>0||a>-n)&&(a+=n),0===a&&-12===n&&(a=12),vr(a,e,r,i)}}function gr(t,e,n){return function(r,i){var o=r["get"+t]();return i[bi((n?"STANDALONE":"")+(e?"SHORT":"")+t)][o]}}function yr(t,e,n){var r=-1*n,i=r>=0?"+":"";return i+=vr(Math[r>0?"floor":"ceil"](r/60),2)+vr(Math.abs(r%60),2)}function br(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function wr(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function xr(t){return function(e){var n=br(e.getFullYear()),r=wr(e),i=+r-+n;return vr(1+Math.round(i/6048e5),t)}}function Er(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function Cr(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function Sr(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function kr(t){function e(t){var e;if(e=t.match(n)){var r=new Date(0),i=0,o=0,a=e[8]?r.setUTCFullYear:r.setFullYear,s=e[8]?r.setUTCHours:r.setHours;e[9]&&(i=p(e[9]+e[10]),o=p(e[9]+e[11])),a.call(r,p(e[1]),p(e[2])-1,p(e[3]));var u=p(e[4]||0)-i,c=p(e[5]||0)-o,l=p(e[6]||0),f=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(r,u,c,l,f),r}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,u="",c=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,E(n)&&(n=$a.test(n)?p(n):e(n)),C(n)&&(n=new Date(n)),!S(n)||!isFinite(n.getTime()))return n;for(;r;)s=da.exec(r),s?(c=G(c,s,1),r=c.pop()):(c.push(r),r=null);var l=n.getTimezoneOffset();return i&&(l=X(i,l),n=et(n,i,!0)),o(c,function(e){a=pa[e],u+=a?a(n,t.DATETIME_FORMATS,l):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function Ar(){return function(t,e){return y(e)&&(e=2),Y(t,e)}}function Or(){return function(t,e,n){return e=Math.abs(Number(e))===1/0?Number(e):p(e),Mi(e)?t:(C(t)&&(t=t.toString()),i(t)?(n=!n||isNaN(n)?0:p(n),n=n<0?Math.max(0,t.length+n):n,e>=0?Mr(t,n,n+e):0===n?Mr(t,e,t.length):Mr(t,Math.max(0,n+e),n)):t)}}function Mr(t,e,n){return E(t)?t.slice(e,n):wi.call(t,e,n)}function Tr(t){function e(e){return e.map(function(e){var n=1,r=v;if(O(e))r=e;else if(E(e)&&("+"!==e.charAt(0)&&"-"!==e.charAt(0)||(n="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(r=t(e),r.constant))){var i=r();r=function(t){return t[i]}}return{get:r,descending:n}})}function n(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function o(t){return O(t.valueOf)&&(t=t.valueOf(),n(t))?t:(g(t)&&(t=t.toString(),n(t)),t)}function a(t,e){var n=typeof t;return null===t?n="null":"object"===n&&(t=o(t)),{value:t,type:n,index:e}}function s(t,e){var n=0,r=t.type,i=e.type;if(r===i){var o=t.value,a=e.value;"string"===r?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===r&&(w(o)&&(o=t.index),w(a)&&(a=e.index)),o!==a&&(n=o<a?-1:1)}else n="undefined"===r?1:"undefined"===i?-1:"null"===r?1:"null"===i?-1:r<i?-1:1;return n}return function(t,n,o,u){function c(t,e){return{value:t,tieBreaker:{value:e,type:"number",index:e},predicateValues:f.map(function(n){return a(n.get(t),e)})}}function l(t,e){for(var n=0,r=f.length;n<r;n++){var i=p(t.predicateValues[n],e.predicateValues[n]);if(i)return i*f[n].descending*h}
return(p(t.tieBreaker,e.tieBreaker)||s(t.tieBreaker,e.tieBreaker))*h}if(null==t)return t;if(!i(t))throw r("orderBy")("notarray","Expected array but received: {0}",t);k(n)||(n=[n]),0===n.length&&(n=["+"]);var f=e(n),h=o?-1:1,p=O(u)?u:s,d=Array.prototype.map.call(t,c);return d.sort(l),t=d.map(function(t){return t.value})}}function Vr(t){return O(t)&&(t={link:t}),t.restrict=t.restrict||"AC",m(t)}function Nr(t,e){t.$name=e}function Ir(t,e,n,r,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(e.name||e.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=ba,this.$$element=t,this.$$animate=r,jr(this)}function jr(t){t.$$classCache={},t.$$classCache[is]=!(t.$$classCache[rs]=t.$$element.hasClass(rs))}function Rr(t){function e(t,e,n,r){t[e]||(t[e]={}),a(t[e],n,r)}function n(t,e,n,r){t[e]&&s(t[e],n,r),Pr(t[e])&&(t[e]=void 0)}function r(t,e,n){n&&!t.$$classCache[e]?(t.$$animate.addClass(t.$$element,e),t.$$classCache[e]=!0):!n&&t.$$classCache[e]&&(t.$$animate.removeClass(t.$$element,e),t.$$classCache[e]=!1)}function i(t,e,n){e=e?"-"+pt(e,"-"):"",r(t,rs+e,!0===n),r(t,is+e,!1===n)}var o=t.clazz,a=t.set,s=t.unset;o.prototype.$setValidity=function(t,o,u){y(o)?e(this,"$pending",t,u):n(this,"$pending",t,u),R(o)?o?(s(this.$error,t,u),a(this.$$success,t,u)):(a(this.$error,t,u),s(this.$$success,t,u)):(s(this.$error,t,u),s(this.$$success,t,u)),this.$pending?(r(this,wa,!0),this.$valid=this.$invalid=void 0,i(this,"",null)):(r(this,wa,!1),this.$valid=Pr(this.$error),this.$invalid=!this.$valid,i(this,"",this.$valid));var c;c=this.$pending&&this.$pending[t]?void 0:!this.$error[t]&&(!!this.$$success[t]||null),i(this,t,c),this.$$parentForm.$setValidity(t,c,this)}}function Pr(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function Dr(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function _r(t,e,n,r,i,o){Ur(t,e,n,r,i,o),Dr(r)}function Ur(t,e,n,r,i,o){var a=yi(e[0].type);if(!i.android){var s=!1;e.on("compositionstart",function(){s=!0}),e.on("compositionupdate",function(t){(y(t.data)||""===t.data)&&(s=!1)}),e.on("compositionend",function(){s=!1,c()})}var u,c=function(t){if(u&&(o.defer.cancel(u),u=null),!s){var i=e.val(),c=t&&t.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=Vi(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,c)}};if(i.hasEvent("input"))e.on("input",c);else{var l=function(t,e,n){u||(u=o.defer(function(){u=null,e&&e.value===n||c(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||l(t,this,this.value)}),i.hasEvent("paste")&&e.on("paste cut drop",l)}e.on("change",c),Ra[a]&&r.$$hasNativeValidators&&a===n.type&&e.on(ja,function(t){if(!u){var e=this[mi],n=e.badInput,r=e.typeMismatch;u=o.defer(function(){u=null,e.badInput===n&&e.typeMismatch===r||c(t)})}}),r.$render=function(){var t=r.$isEmpty(r.$viewValue)?"":r.$viewValue;e.val()!==t&&e.val(t)}}function Lr(t,e){if(S(t))return t;if(E(t)){Va.lastIndex=0;var n=Va.exec(t);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,u=0,c=br(r),l=7*(i-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),u=e.getMilliseconds()),new Date(r,0,c.getDate()+l,o,a,s,u)}}return NaN}function qr(t,e){return function(n,r){var i,a;if(S(n))return n;if(E(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Sa.test(n))return new Date(n);if(t.lastIndex=0,i=t.exec(n)){i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(t,n){n<e.length&&(a[e[n]]=+t)});var s=new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0);return a.yyyy<100&&s.setFullYear(a.yyyy),s}}return NaN}}function Fr(t,e,n,r){return function(i,o,a,s,u,c,l,f){function h(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function p(t){return b(t)&&!S(t)?d(t)||void 0:t}function d(t,e){var r=s.$options.getOption("timezone");m&&m!==r&&(e=tt(e,X(m)));var i=n(t,e);return!isNaN(i)&&r&&(i=et(i,r)),i}function $(t,e){var n=r;g&&E(s.$options.getOption("timeSecondsFormat"))&&(n=r.replace("ss.sss",s.$options.getOption("timeSecondsFormat")).replace(/:$/,""));var i=l("date")(t,n,e);return g&&s.$options.getOption("timeStripZeroSeconds")&&(i=i.replace(/(?::00)?(?:\.000)?$/,"")),i}Hr(i,o,a,s,t),Ur(i,o,a,s,u,c);var v,m,g="time"===t||"datetimelocal"===t;if(s.$parsers.push(function(n){return s.$isEmpty(n)?null:e.test(n)?d(n,v):void(s.$$parserName=t)}),s.$formatters.push(function(t){if(t&&!S(t))throw ss("datefmt","Expected `{0}` to be a date",t);if(h(t)){v=t;var e=s.$options.getOption("timezone");return e&&(m=e,v=et(v,e,!0)),$(t,e)}return v=null,m=null,""}),b(a.min)||a.ngMin){var w=a.min||f(a.ngMin)(i),x=p(w);s.$validators.min=function(t){return!h(t)||y(x)||n(t)>=x},a.$observe("min",function(t){t!==w&&(x=p(t),w=t,s.$validate())})}if(b(a.max)||a.ngMax){var C=a.max||f(a.ngMax)(i),k=p(C);s.$validators.max=function(t){return!h(t)||y(k)||n(t)<=k},a.$observe("max",function(t){t!==C&&(k=p(t),C=t,s.$validate())})}}}function Hr(t,e,n,r,i){var o=e[0];(r.$$hasNativeValidators=w(o.validity))&&r.$parsers.push(function(t){var n=e.prop(mi)||{};return n.badInput||n.typeMismatch?void(r.$$parserName=i):t})}function Br(t){t.$parsers.push(function(e){return t.$isEmpty(e)?null:Oa.test(e)?parseFloat(e):void(t.$$parserName="number")}),t.$formatters.push(function(e){if(!t.$isEmpty(e)){if(!C(e))throw ss("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e})}function zr(t){return b(t)&&!C(t)&&(t=parseFloat(t)),Mi(t)?void 0:t}function Wr(t){return(0|t)===t}function Gr(t){var e=t.toString(),n=e.indexOf(".");if(-1===n){if(-1<t&&t<1){var r=/e-(\d+)$/.exec(e);if(r)return Number(r[1])}return 0}return e.length-n-1}function Kr(t,e,n){var r=Number(t),i=!Wr(r),o=!Wr(e),a=!Wr(n);if(i||o||a){var s=i?Gr(r):0,u=o?Gr(e):0,c=a?Gr(n):0,l=Math.max(s,u,c),f=Math.pow(10,l);r*=f,e*=f,n*=f,i&&(r=Math.round(r)),o&&(e=Math.round(e)),a&&(n=Math.round(n))}return(r-e)%n==0}function Jr(t,e,n,r,i,o,a,s){Hr(t,e,n,r,"number"),Br(r),Ur(t,e,n,r,i,o);var u;if(b(n.min)||n.ngMin){var c=n.min||s(n.ngMin)(t);u=zr(c),r.$validators.min=function(t,e){return r.$isEmpty(e)||y(u)||e>=u},n.$observe("min",function(t){t!==c&&(u=zr(t),c=t,r.$validate())})}if(b(n.max)||n.ngMax){var l=n.max||s(n.ngMax)(t),f=zr(l);r.$validators.max=function(t,e){return r.$isEmpty(e)||y(f)||e<=f},n.$observe("max",function(t){t!==l&&(f=zr(t),l=t,r.$validate())})}if(b(n.step)||n.ngStep){var h=n.step||s(n.ngStep)(t),p=zr(h);r.$validators.step=function(t,e){return r.$isEmpty(e)||y(p)||Kr(e,u||0,p)},n.$observe("step",function(t){t!==h&&(p=zr(t),h=t,r.$validate())})}}function Zr(t,e,n,r,i,o){function a(t,r){e.attr(t,n[t]);var i=n[t];n.$observe(t,function(t){t!==i&&(i=t,r(t))})}function s(t){if(f=zr(t),!Mi(r.$modelValue))if(l){var n=e.val();f>n&&(n=f,e.val(n)),r.$setViewValue(n)}else r.$validate()}function u(t){if(h=zr(t),!Mi(r.$modelValue))if(l){var n=e.val();h<n&&(e.val(h),n=h<f?f:h),r.$setViewValue(n)}else r.$validate()}function c(t){p=zr(t),Mi(r.$modelValue)||(l?r.$viewValue!==e.val()&&r.$setViewValue(e.val()):r.$validate())}Hr(t,e,n,r,"range"),Br(r),Ur(t,e,n,r,i,o);var l=r.$$hasNativeValidators&&"range"===e[0].type,f=l?0:void 0,h=l?100:void 0,p=l?1:void 0,d=e[0].validity,$=b(n.min),v=b(n.max),m=b(n.step),g=r.$render;r.$render=l&&b(d.rangeUnderflow)&&b(d.rangeOverflow)?function(){g(),r.$setViewValue(e.val())}:g,$&&(f=zr(n.min),r.$validators.min=l?function(){return!0}:function(t,e){return r.$isEmpty(e)||y(f)||e>=f},a("min",s)),v&&(h=zr(n.max),r.$validators.max=l?function(){return!0}:function(t,e){return r.$isEmpty(e)||y(h)||e<=h},a("max",u)),m&&(p=zr(n.step),r.$validators.step=l?function(){return!d.stepMismatch}:function(t,e){return r.$isEmpty(e)||y(p)||Kr(e,f||0,p)},a("step",c))}function Yr(t,e,n,r,i,o){Ur(t,e,n,r,i,o),Dr(r),r.$validators.url=function(t,e){var n=t||e;return r.$isEmpty(n)||ka.test(n)}}function Qr(t,e,n,r,i,o){Ur(t,e,n,r,i,o),Dr(r),r.$validators.email=function(t,e){var n=t||e;return r.$isEmpty(n)||Aa.test(n)}}function Xr(t,e,n,r){var i=!n.ngTrim||"false"!==Vi(n.ngTrim);y(n.name)&&e.attr("name",u());var o=function(t){var o;e[0].checked&&(o=n.value,i&&(o=Vi(o)),r.$setViewValue(o,t&&t.type))};e.on("change",o),r.$render=function(){var t=n.value;i&&(t=Vi(t)),e[0].checked=t===r.$viewValue},n.$observe("value",r.$render)}function ti(t,e,n,r,i){var o;if(b(r)){if(o=t(r),!o.constant)throw ss("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(e)}return i}function ei(t,e,n,r,i,o,a,s){var u=ti(s,t,"ngTrueValue",n.ngTrueValue,!0),c=ti(s,t,"ngFalseValue",n.ngFalseValue,!1),l=function(t){r.$setViewValue(e[0].checked,t&&t.type)};e.on("change",l),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return!1===t},r.$formatters.push(function(t){return W(t,u)}),r.$parsers.push(function(t){return t?u:c})}function ni(t,e){function n(t,e){if(!t||!t.length)return[];if(!e||!e.length)return t;var n=[];t:for(var r=0;r<t.length;r++){for(var i=t[r],o=0;o<e.length;o++)if(i===e[o])continue t;n.push(i)}return n}function r(t){return t&&t.split(" ")}function i(t){if(!t)return t;var e=t;return k(t)?e=t.map(i).join(" "):w(t)?e=Object.keys(t).filter(function(e){return t[e]}).join(" "):E(t)||(e=t+""),e}t="ngClass"+t;var a;return["$parse",function(s){return{restrict:"AC",link:function(u,c,l){function f(t){t=d(r(t),1),l.$addClass(t)}function h(t){t=d(r(t),-1),l.$removeClass(t)}function p(t,e){var i=r(t),o=r(e),a=n(i,o),s=n(o,i),u=d(a,-1),c=d(s,1);l.$addClass(c),l.$removeClass(u)}function d(t,e){var n=[];return o(t,function(t){(e>0||g[t])&&(g[t]=(g[t]||0)+e,g[t]===+(e>0)&&n.push(t))}),n.join(" ")}function $(t){t===e?f(m):h(m),y=t}function v(t){y===e&&p(m,t),m=t}var m,g=c.data("$classCounts"),y=!0;g||(g=yt(),c.data("$classCounts",g)),"ngClass"!==t&&(a||(a=s("$index",function(t){return 1&t})),u.$watch(a,$)),u.$watch(s(l[t],i),v)}}}]}function ri(t,e,n,r,i,o){return{restrict:"A",compile:function(a,s){var u=t(s[r]);return function(t,r){r.on(i,function(r){var i=function(){u(t,{$event:r})};if(e.$$phase)if(o)t.$evalAsync(i);else try{i()}catch(t){n(t)}else t.$apply(i)})}}}}function ii(t,e,n,r,i,o,a,s,u){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=u(n.name||"",!1)(t),this.$$parentForm=ba,this.$options=us,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=i(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=t,this.$$rootScope=t.$root,this.$$attr=n,this.$$element=r,this.$$animate=o,this.$$timeout=a,this.$$parse=i,this.$$q=s,this.$$exceptionHandler=e,jr(this),oi(this)}function oi(t){t.$$scope.$watch(function(e){var n=t.$$ngModelGet(e);return n===t.$modelValue||t.$modelValue!==t.$modelValue&&n!==n||t.$$setModelValue(n),n})}function ai(t){this.$$options=t}function si(t,e){o(e,function(e,n){b(t[n])||(t[n]=e)})}function ui(t,e){t.prop("selected",e),t.attr("selected",e)}function ci(t,e,n){if(t){if(E(t)&&(t=new RegExp("^"+t+"$")),!t.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",e,t,nt(n));return t}}function li(t){var e=p(t);return Mi(e)?-1:e}var fi,hi,pi,di,$i={objectMaxDepth:5,urlErrorParamsEnabled:!0},vi=/^\/(.+)\/([a-z]*)$/,mi="validity",gi=Object.prototype.hasOwnProperty,yi=function(t){return E(t)?t.toLowerCase():t},bi=function(t){return E(t)?t.toUpperCase():t},wi=[].slice,xi=[].splice,Ei=[].push,Ci=Object.prototype.toString,Si=Object.getPrototypeOf,ki=r("ng"),Ai=t.angular||(t.angular={}),Oi=0;fi=t.document.documentMode;var Mi=Number.isNaN||function(t){return t!==t};$.$inject=[],v.$inject=[];var Ti=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,Vi=function(t){return E(t)?t.trim():t},Ni=function(t){return t.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ii=function(){if(!b(Ii.rules)){var e=t.document.querySelector("[ng-csp]")||t.document.querySelector("[data-ng-csp]");if(e){var n=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");Ii.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else Ii.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(t){return!0}}(),noInlineStyle:!1}}return Ii.rules},ji=function(){if(b(ji.name_))return ji.name_;var e,n,r,i,o=Pi.length;for(n=0;n<o;++n)if(r=Pi[n],e=t.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=e.getAttribute(r+"jq");break}return ji.name_=i},Ri=/:/g,Pi=["ng-","data-ng-","ng:","x-ng-"],Di=function(e){var n=e.currentScript;if(!n)return!0;if(!(n instanceof t.HTMLScriptElement||n instanceof t.SVGScriptElement))return!1;var r=n.attributes;return[r.getNamedItem("src"),r.getNamedItem("href"),r.getNamedItem("xlink:href")].every(function(t){if(!t)return!0;if(!t.value)return!1;var n=e.createElement("a");if(n.href=t.value,e.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}(t.document),_i=/[A-Z]/g,Ui=!1,Li=1,qi=3,Fi=8,Hi=9,Bi=11,zi={full:"1.7.8",major:1,minor:7,dot:8,codeName:"enthusiastic-oblation"};Rt.expando="ng339";var Wi=Rt.cache={},Gi=1;Rt._data=function(t){return this.cache[t[this.expando]]||{}};var Ki=/-([a-z])/g,Ji=/^-ms-/,Zi={mouseleave:"mouseout",mouseenter:"mouseover"},Yi=r("jqLite"),Qi=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Xi=/<|&#?\w+;/,to=/<([\w:-]+)/,eo=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,no={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};no.optgroup=no.option,no.tbody=no.tfoot=no.colgroup=no.caption=no.thead,no.th=no.td;var ro=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},io=Rt.prototype={ready:Xt,toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return hi(t>=0?this[t]:this[this.length+t])},length:0,push:Ei,sort:[].sort,splice:[].splice},oo={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){oo[yi(t)]=t});var ao={};o("input,select,option,textarea,button,form,details".split(","),function(t){ao[t]=!0});var so={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};o({data:Ht,removeData:qt,hasData:Vt,cleanData:function(t){for(var e=0,n=t.length;e<n;e++)qt(t[e]),Lt(t[e])}},function(t,e){Rt[e]=t}),o({data:Ht,inheritedData:Jt,scope:function(t){return hi.data(t,"$scope")||Jt(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return hi.data(t,"$isolateScope")||hi.data(t,"$isolateScopeNoTemplate")},controller:Kt,injector:function(t){return Jt(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Bt,css:function(t,e,n){if(e=kt(e),!b(n))return t.style[e];t.style[e]=n},attr:function(t,e,n){var r,i=t.nodeType;if(i!==qi&&2!==i&&i!==Fi&&t.getAttribute){var o=yi(e),a=oo[o];if(!b(n))return r=t.getAttribute(e),a&&null!==r&&(r=o),null===r?void 0:r;null===n||!1===n&&a?t.removeAttribute(e):t.setAttribute(e,a?o:n)}},prop:function(t,e,n){if(!b(n))return t[e];t[e]=n},text:function(){function t(t,e){if(y(e)){var n=t.nodeType;return n===Li||n===qi?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(y(e)){if(t.multiple&&"select"===q(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),n}return t.value}t.value=e},html:function(t,e){if(y(e))return t.innerHTML;Dt(t,!0),t.innerHTML=e},empty:Zt},function(t,e){Rt.prototype[e]=function(e,n){var r,i,o=this.length;if(t!==Zt&&y(2===t.length&&t!==Bt&&t!==Kt?e:n)){if(w(e)){for(r=0;r<o;r++)if(t===Ht)t(this[r],e);else for(i in e)t(this[r],i,e[i]);return this}for(var a=t.$dv,s=y(a)?Math.min(o,1):o,u=0;u<s;u++){var c=t(this[u],e,n);a=a?a+c:c}return a}for(r=0;r<o;r++)t(this[r],e,n);return this}}),o({removeData:qt,on:function(t,e,n,r){if(b(r))throw Yi("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Tt(t)){var i=Ft(t,!0),o=i.events,a=i.handle;a||(a=i.handle=ne(t,o));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],u=s.length,c=function(e,r,i){var s=o[e];s||(s=o[e]=[],s.specialHandlerWrapper=r,"$destroy"===e||i||t.addEventListener(e,a)),s.push(n)};u--;)e=s[u],Zi[e]?(c(Zi[e],ie),c(e,void 0,!0)):c(e)}},off:Lt,one:function(t,e,n){t=hi(t),t.on(e,function r(){t.off(e,n),t.off(e,r)}),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;Dt(t),o(new Rt(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){t.nodeType===Li&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===Li||n===Bi){e=new Rt(e);for(var r=0,i=e.length;r<i;r++){var o=e[r];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===Li){var n=t.firstChild;o(new Rt(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){jt(t,hi(e).eq(0).clone()[0])},remove:Yt,detach:function(t){Yt(t,!0)},after:function(t,e){var n=t,r=t.parentNode;if(r){e=new Rt(e);for(var i=0,o=e.length;i<o;i++){var a=e[i];r.insertBefore(a,n.nextSibling),n=a}}},addClass:Wt,removeClass:zt,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var r=n;y(r)&&(r=!Bt(t,e)),(r?Wt:zt)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==Bi?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Pt,triggerHandler:function(t,e,n){var r,i,a,s=e.type||e,u=Ft(t),c=u&&u.events,l=c&&c[s];l&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:$,type:s,target:t},e.type&&(r=f(r,e)),i=xt(l),a=n?[r].concat(n):[r],o(i,function(e){r.isImmediatePropagationStopped()||e.apply(t,a)}))}},function(t,e){Rt.prototype[e]=function(e,n,r){for(var i,o=0,a=this.length;o<a;o++)y(i)?(i=t(this[o],e,n,r),b(i)&&(i=hi(i))):Gt(i,t(this[o],e,n,r));return b(i)?i:this}}),Rt.prototype.bind=Rt.prototype.on,Rt.prototype.unbind=Rt.prototype.off;var uo=Object.create(null);se.prototype={_idx:function(t){return t!==this._lastKey&&(this._lastKey=t,this._lastIndex=this._keys.indexOf(t)),this._lastIndex},_transformKey:function(t){return Mi(t)?uo:t},get:function(t){t=this._transformKey(t);var e=this._idx(t);if(-1!==e)return this._values[e]},has:function(t){return t=this._transformKey(t),-1!==this._idx(t)},set:function(t,e){t=this._transformKey(t);var n=this._idx(t);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=t,this._values[n]=e},delete:function(t){t=this._transformKey(t);var e=this._idx(t);return-1!==e&&(this._keys.splice(e,1),this._values.splice(e,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var co=se,lo=[function(){this.$get=[function(){return co}]}],fo=/^([^(]+?)=>/,ho=/^[^(]*\(\s*([^)]*)\)/m,po=/,/,$o=/^\s*(_?)(\S+?)\1\s*$/,vo=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,mo=r("$injector");he.$$annotate=fe;var go=r("$animate"),yo=1,bo=function(){this.$get=$},wo=function(){var t=new co,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function i(t,e,n){var r=!1;return e&&(e=E(e)?e.split(" "):k(e)?e:[],o(e,function(e){e&&(r=!0,t[e]=n)})),r}function a(){o(e,function(e){var n=t.get(e);if(n){var r=ve(e.attr("class")),i="",a="";o(n,function(t,e){t!==!!r[e]&&(t?i+=(i.length?" ":"")+e:a+=(a.length?" ":"")+e)}),o(e,function(t){i&&Wt(t,i),a&&zt(t,a)}),t.delete(e)}}),e.length=0}function s(n,o,s){var u=t.get(n)||{},c=i(u,o,!0),l=i(u,s,!1);(c||l)&&(t.set(n,u),e.push(n),1===e.length&&r.$$postDigest(a))}return{enabled:$,on:$,off:$,pin:$,push:function(t,e,r,i){i&&i(),r=r||{},r.from&&t.css(r.from),r.to&&t.css(r.to),(r.addClass||r.removeClass)&&s(t,r.addClass,r.removeClass);var o=new n;return o.complete(),o}}}]},xo=["$provide",function(t){var e=this,n=null,r=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw go("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";e.$$registeredAnimations[n.substr(1)]=i,t.factory(i,r)},this.customFilter=function(t){return 1===arguments.length&&(r=O(t)?t:null),r},this.classNameFilter=function(t){if(1===arguments.length&&(n=t instanceof RegExp?t:null)){if(new RegExp("[(\\s|\\/)]ng-animate[(\\s|\\/)]").test(n.toString()))throw n=null,go("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',"ng-animate")}return n},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var r=$e(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.cancel&&t.cancel()},enter:function(n,r,i,o){return r=r&&hi(r),i=i&&hi(i),r=r||i.parent(),e(n,r,i),t.push(n,"enter",me(o))},move:function(n,r,i,o){return r=r&&hi(r),i=i&&hi(i),r=r||i.parent(),e(n,r,i),t.push(n,"move",me(o))},leave:function(e,n){return t.push(e,"leave",me(n),function(){e.remove()})},addClass:function(e,n,r){return r=me(r),r.addClass=de(r.addclass,n),t.push(e,"addClass",r)},removeClass:function(e,n,r){return r=me(r),r.removeClass=de(r.removeClass,n),t.push(e,"removeClass",r)},setClass:function(e,n,r,i){return i=me(i),i.addClass=de(i.addClass,n),i.removeClass=de(i.removeClass,r),t.push(e,"setClass",i)},animate:function(e,n,r,i,o){return o=me(o),o.from=o.from?f(o.from,n):n,o.to=o.to?f(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=de(o.tempClasses,i),t.push(e,"animate",o)}}}]}],Eo=function(){this.$get=["$$rAF",function(t){function e(e){n.push(e),n.length>1||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}]},Co=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(t,e,n,r,i){function a(t){this.setHost(t);var e=n(),o=function(t){i(t,0,!1)};this._doneCallbacks=[],this._tick=function(t){r()?o(t):e(t)},this._state=0}return a.chain=function(t,e){function n(){if(r===t.length)return void e(!0);t[r](function(t){if(!1===t)return void e(!1);r++,n()})}var r=0;n()},a.all=function(t,e){function n(n){i=i&&n,++r===t.length&&e(i)}var r=0,i=!0;o(t,function(t){t.done(n)})},a.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:$,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){!1===e?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._tick(function(){e._resolve(t)}))},_resolve:function(t){2!==this._state&&(o(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=2)}},a}]},So=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,r){function i(){return t(function(){o(),s||u.complete(),s=!0}),u}function o(){a.addClass&&(e.addClass(a.addClass),a.addClass=null),a.removeClass&&(e.removeClass(a.removeClass),a.removeClass=null),a.to&&(e.css(a.to),a.to=null)}var a=r||{};a.$$prepared||(a=B(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(e.css(a.from),a.from=null);var s,u=new n;return{start:i,end:i}}}]},ko=r("$compile"),Ao=new Ce;Se.$inject=["$provide","$$sanitizeUriProvider"],ke.prototype.isFirstChange=function(){return this.previousValue===Ao};var Oo=/^((?:x|data)[:\-_])/i,Mo=/[:\-_]+(.)/g,To=r("$controller"),Vo=/^(\S+)(\s+as\s+([\w$]+))?$/,No=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof hi&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},Io="application/json",jo={"Content-Type":Io+";charset=utf-8"},Ro=/^\[|^\{(?!\{)/,Po={"[":/]$/,"{":/}$/},Do=/^\)]\}',?\n/,_o=r("$http"),Uo=Ai.$interpolateMinErr=r("$interpolate");Uo.throwNoconcat=function(t){throw Uo("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},Uo.interr=function(t,e){return Uo("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var Lo=r("$interval"),qo=function(){this.$get=function(){function t(t){var e=function(t){e.data=t,e.called=!0};return e.id=t,e}var e=Ai.callbacks,n={};return{createCallback:function(r){var i="_"+(e.$$counter++).toString(36),o="angular.callbacks."+i,a=t(i);return n[o]=e[i]=a,o},wasCalled:function(t){return n[t].called},getResponse:function(t){return n[t].data},removeCallback:function(t){var r=n[t];delete e[r.id],delete n[t]}}}},Fo=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Ho={http:80,https:443,ftp:21},Bo=r("$location"),zo=/^\s*[\\/]{2,}/,Wo={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){this.$$url=Xe(this.$$path,this.$$search,this.$$hash),this.$$absUrl=this.$$normalizeUrl(this.$$url),this.$$urlUpdatedByLocation=!0},absUrl:fn("$$absUrl"),url:function(t){if(y(t))return this.$$url;var e=Fo.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:fn("$$protocol"),host:fn("$$host"),port:fn("$$port"),path:hn("$$path",function(t){return t=null!==t?t.toString():"","/"===t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(E(t)||C(t))t=t.toString(),this.$$search=it(t);else{if(!w(t))throw Bo("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=B(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:y(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:hn("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([ln,cn,un],function(t){t.prototype=Object.create(Wo),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==un||!this.$$html5)throw Bo("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=y(e)?null:e,this.$$urlUpdatedByLocation=!0,this}});var Go=r("$parse"),Ko={}.constructor.prototype.valueOf,Jo=yt();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){Jo[t]=!0});var Zo={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Yo=function(t){this.options=t};Yo.prototype={constructor:Yo,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),r=n+this.peek(2),i=Jo[e],o=Jo[n],a=Jo[r];if(i||o||a){var s=a?r:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||" "===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),r=e.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var r=b(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw Go("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=yi(this.text.charAt(this.index));if("."===n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{n+=Zo[o]||o}i=!1}else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var Qo=function(t,e){this.lexer=t,this.options=e};Qo.Program="Program",Qo.ExpressionStatement="ExpressionStatement",Qo.AssignmentExpression="AssignmentExpression",Qo.ConditionalExpression="ConditionalExpression",Qo.LogicalExpression="LogicalExpression",Qo.BinaryExpression="BinaryExpression",Qo.UnaryExpression="UnaryExpression",Qo.CallExpression="CallExpression",Qo.MemberExpression="MemberExpression",Qo.Identifier="Identifier",Qo.Literal="Literal",Qo.ArrayExpression="ArrayExpression",Qo.Property="Property",Qo.ObjectExpression="ObjectExpression",Qo.ThisExpression="ThisExpression",Qo.LocalsExpression="LocalsExpression",Qo.NGValueParameter="NGValueParameter",Qo.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){
for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Qo.Program,body:t}},expressionStatement:function(){return{type:Qo.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!xn(t))throw Go("lval","Trying to assign a value to a non l-value");t={type:Qo.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:Qo.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Qo.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Qo.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:Qo.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:Qo.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:Qo.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:Qo.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Qo.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=B(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:Qo.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:Qo.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:Qo.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:Qo.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:Qo.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do{t.push(this.filterChain())}while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Qo.Identifier,name:t.text}},constant:function(){return{type:Qo.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Qo.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:Qo.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:Qo.ObjectExpression,properties:e}},throwError:function(t,e){throw Go("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw Go("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw Go("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===r||a===i||!e&&!n&&!r&&!i)return o}return!1},expect:function(t,e,n,r){var i=this.peek(t,e,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{this:{type:Qo.ThisExpression},$locals:{type:Qo.LocalsExpression}}};var Xo=1,ta=2;kn.prototype={compile:function(t){var e=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},bn(t,e.$filter);var n,r="";if(this.stage="assign",n=En(t)){this.state.computing="assign";var i=this.nextId();this.recurse(n,i),this.return_(i),r="fn.assign="+this.generateFunction("assign","s,v,l")}var a=wn(t.body);e.stage="inputs",o(a,function(t,n){var r="fn"+n;e.state[r]={vars:[],body:[],own:{}},e.state.computing=r;var i=e.nextId();e.recurse(t,i),e.return_(i),e.state.inputs.push({name:r,isPure:t.isPure}),t.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(t);var s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+r+this.watchFns()+"return fn;",u=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,$n,vn,mn);return this.state=this.stage=void 0,u},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return o(e,function(e){t.push("var "+e.name+"="+n.generateFunction(e.name,"s")),e.isPure&&t.push(e.name,".isPure="+JSON.stringify(e.isPure)+";")}),e.length&&t.push("fn.inputs=["+e.map(function(t){return t.name}).join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return o(this.state.filters,function(n,r){t.push(n+"=$filter("+e.escape(r)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,n,r,i,a){var s,u,c,l,f,h=this;if(r=r||$,!a&&b(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,n,r,i,!0));switch(t.type){case Qo.Program:o(t.body,function(e,n){h.recurse(e.expression,void 0,void 0,function(t){u=t}),n!==t.body.length-1?h.current().body.push(u,";"):h.return_(u)});break;case Qo.Literal:l=this.escape(t.value),this.assign(e,l),r(e||l);break;case Qo.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(t){u=t}),l=t.operator+"("+this.ifDefined(u,0)+")",this.assign(e,l),r(l);break;case Qo.BinaryExpression:this.recurse(t.left,void 0,void 0,function(t){s=t}),this.recurse(t.right,void 0,void 0,function(t){u=t}),l="+"===t.operator?this.plus(s,u):"-"===t.operator?this.ifDefined(s,0)+t.operator+this.ifDefined(u,0):"("+s+")"+t.operator+"("+u+")",this.assign(e,l),r(l);break;case Qo.LogicalExpression:e=e||this.nextId(),h.recurse(t.left,e),h.if_("&&"===t.operator?e:h.not(e),h.lazyRecurse(t.right,e)),r(e);break;case Qo.ConditionalExpression:e=e||this.nextId(),h.recurse(t.test,e),h.if_(e,h.lazyRecurse(t.alternate,e),h.lazyRecurse(t.consequent,e)),r(e);break;case Qo.Identifier:e=e||this.nextId(),n&&(n.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),n.computed=!1,n.name=t.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",t.name)),function(){h.if_("inputs"===h.stage||"s",function(){i&&1!==i&&h.if_(h.isNull(h.nonComputedMember("s",t.name)),h.lazyAssign(h.nonComputedMember("s",t.name),"{}")),h.assign(e,h.nonComputedMember("s",t.name))})},e&&h.lazyAssign(e,h.nonComputedMember("l",t.name))),r(e);break;case Qo.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),e=e||this.nextId(),h.recurse(t.object,s,void 0,function(){h.if_(h.notNull(s),function(){t.computed?(u=h.nextId(),h.recurse(t.property,u),h.getStringValue(u),i&&1!==i&&h.if_(h.not(h.computedMember(s,u)),h.lazyAssign(h.computedMember(s,u),"{}")),l=h.computedMember(s,u),h.assign(e,l),n&&(n.computed=!0,n.name=u)):(i&&1!==i&&h.if_(h.isNull(h.nonComputedMember(s,t.property.name)),h.lazyAssign(h.nonComputedMember(s,t.property.name),"{}")),l=h.nonComputedMember(s,t.property.name),h.assign(e,l),n&&(n.computed=!1,n.name=t.property.name))},function(){h.assign(e,"undefined")}),r(e)},!!i);break;case Qo.CallExpression:e=e||this.nextId(),t.filter?(u=h.filter(t.callee.name),c=[],o(t.arguments,function(t){var e=h.nextId();h.recurse(t,e),c.push(e)}),l=u+"("+c.join(",")+")",h.assign(e,l),r(e)):(u=h.nextId(),s={},c=[],h.recurse(t.callee,u,s,function(){h.if_(h.notNull(u),function(){o(t.arguments,function(e){h.recurse(e,t.constant?void 0:h.nextId(),void 0,function(t){c.push(t)})}),l=s.name?h.member(s.context,s.name,s.computed)+"("+c.join(",")+")":u+"("+c.join(",")+")",h.assign(e,l)},function(){h.assign(e,"undefined")}),r(e)}));break;case Qo.AssignmentExpression:u=this.nextId(),s={},this.recurse(t.left,void 0,s,function(){h.if_(h.notNull(s.context),function(){h.recurse(t.right,u),l=h.member(s.context,s.name,s.computed)+t.operator+u,h.assign(e,l),r(e||l)})},1);break;case Qo.ArrayExpression:c=[],o(t.elements,function(e){h.recurse(e,t.constant?void 0:h.nextId(),void 0,function(t){c.push(t)})}),l="["+c.join(",")+"]",this.assign(e,l),r(e||l);break;case Qo.ObjectExpression:c=[],f=!1,o(t.properties,function(t){t.computed&&(f=!0)}),f?(e=e||this.nextId(),this.assign(e,"{}"),o(t.properties,function(t){t.computed?(s=h.nextId(),h.recurse(t.key,s)):s=t.key.type===Qo.Identifier?t.key.name:""+t.key.value,u=h.nextId(),h.recurse(t.value,u),h.assign(h.member(e,s,t.computed),u)})):(o(t.properties,function(e){h.recurse(e.value,t.constant?void 0:h.nextId(),void 0,function(t){c.push(h.escape(e.key.type===Qo.Identifier?e.key.name:""+e.key.value)+":"+t)})}),l="{"+c.join(",")+"}",this.assign(e,l)),r(e||l);break;case Qo.ThisExpression:this.assign(e,"s"),r(e||"s");break;case Qo.LocalsExpression:this.assign(e,"l"),r(e||"l");break;case Qo.NGValueParameter:this.assign(e,"v"),r(e||"v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),r[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(!0===t)e();else{var r=this.current().body;r.push("if(",t,"){"),e(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var n=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,r=/[^$_a-zA-Z0-9]/g;return n.test(e)?t+"."+e:t+'["'+e.replace(r,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,n,r,i,o){var a=this;return function(){a.recurse(t,e,n,r,i,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(E(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(C(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if(void 0===t)return"undefined";throw Go("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},An.prototype={compile:function(t){var e=this;bn(t,e.$filter);var n,r;(n=En(t))&&(r=this.recurse(n));var i,a=wn(t.body);a&&(i=[],o(a,function(t,n){var r=e.recurse(t);r.isPure=t.isPure,t.input=r,i.push(r),t.watchId=n}));var s=[];o(t.body,function(t){s.push(e.recurse(t.expression))});var u=0===t.body.length?$:1===t.body.length?s[0]:function(t,e){var n;return o(s,function(r){n=r(t,e)}),n};return r&&(u.assign=function(t,e,n){return r(t,n,e)}),i&&(u.inputs=i),u},recurse:function(t,e,n){var r,i,a,s=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Qo.Literal:return this.value(t.value,e);case Qo.UnaryExpression:return i=this.recurse(t.argument),this["unary"+t.operator](i,e);case Qo.BinaryExpression:case Qo.LogicalExpression:return r=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](r,i,e);case Qo.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Qo.Identifier:return s.identifier(t.name,e,n);case Qo.MemberExpression:return r=this.recurse(t.object,!1,!!n),t.computed||(i=t.property.name),t.computed&&(i=this.recurse(t.property)),t.computed?this.computedMember(r,i,e,n):this.nonComputedMember(r,i,e,n);case Qo.CallExpression:return a=[],o(t.arguments,function(t){a.push(s.recurse(t))}),t.filter&&(i=this.$filter(t.callee.name)),t.filter||(i=this.recurse(t.callee,!0)),t.filter?function(t,n,r,o){for(var s=[],u=0;u<a.length;++u)s.push(a[u](t,n,r,o));var c=i.apply(void 0,s,o);return e?{context:void 0,name:void 0,value:c}:c}:function(t,n,r,o){var s,u=i(t,n,r,o);if(null!=u.value){for(var c=[],l=0;l<a.length;++l)c.push(a[l](t,n,r,o));s=u.value.apply(u.context,c)}return e?{value:s}:s};case Qo.AssignmentExpression:return r=this.recurse(t.left,!0,1),i=this.recurse(t.right),function(t,n,o,a){var s=r(t,n,o,a),u=i(t,n,o,a);return s.context[s.name]=u,e?{value:u}:u};case Qo.ArrayExpression:return a=[],o(t.elements,function(t){a.push(s.recurse(t))}),function(t,n,r,i){for(var o=[],s=0;s<a.length;++s)o.push(a[s](t,n,r,i));return e?{value:o}:o};case Qo.ObjectExpression:return a=[],o(t.properties,function(t){t.computed?a.push({key:s.recurse(t.key),computed:!0,value:s.recurse(t.value)}):a.push({key:t.key.type===Qo.Identifier?t.key.name:""+t.key.value,computed:!1,value:s.recurse(t.value)})}),function(t,n,r,i){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(t,n,r,i)]=a[s].value(t,n,r,i):o[a[s].key]=a[s].value(t,n,r,i);return e?{value:o}:o};case Qo.ThisExpression:return function(t){return e?{value:t}:t};case Qo.LocalsExpression:return function(t,n){return e?{value:n}:n};case Qo.NGValueParameter:return function(t,n,r){return e?{value:r}:r}}},"unary+":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=b(a)?+a:0,e?{value:a}:a}},"unary-":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=b(a)?-a:-0,e?{value:a}:a}},"unary!":function(t,e){return function(n,r,i,o){var a=!t(n,r,i,o);return e?{value:a}:a}},"binary+":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a),u=e(r,i,o,a),c=mn(s,u);return n?{value:c}:c}},"binary-":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a),u=e(r,i,o,a),c=(b(s)?s:0)-(b(u)?u:0);return n?{value:c}:c}},"binary*":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)*e(r,i,o,a);return n?{value:s}:s}},"binary/":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)/e(r,i,o,a);return n?{value:s}:s}},"binary%":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)%e(r,i,o,a);return n?{value:s}:s}},"binary===":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)===e(r,i,o,a);return n?{value:s}:s}},"binary!==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!==e(r,i,o,a);return n?{value:s}:s}},"binary==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)==e(r,i,o,a);return n?{value:s}:s}},"binary!=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!=e(r,i,o,a);return n?{value:s}:s}},"binary<":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)<e(r,i,o,a);return n?{value:s}:s}},"binary>":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>e(r,i,o,a);return n?{value:s}:s}},"binary<=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)<=e(r,i,o,a);return n?{value:s}:s}},"binary>=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>=e(r,i,o,a);return n?{value:s}:s}},"binary&&":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)&&e(r,i,o,a);return n?{value:s}:s}},"binary||":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)||e(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(t,e,n,r){return function(i,o,a,s){var u=t(i,o,a,s)?e(i,o,a,s):n(i,o,a,s);return r?{value:u}:u}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,n){return function(r,i,o,a){var s=i&&t in i?i:r;n&&1!==n&&s&&null==s[t]&&(s[t]={});var u=s?s[t]:void 0;return e?{context:s,name:t,value:u}:u}},computedMember:function(t,e,n,r){return function(i,o,a,s){var u,c,l=t(i,o,a,s);return null!=l&&(u=e(i,o,a,s),u=$n(u),r&&1!==r&&l&&!l[u]&&(l[u]={}),c=l[u]),n?{context:l,name:u,value:c}:c}},nonComputedMember:function(t,e,n,r){return function(i,o,a,s){var u=t(i,o,a,s);r&&1!==r&&u&&null==u[e]&&(u[e]={});var c=null!=u?u[e]:void 0;return n?{context:u,name:e,value:c}:c}},inputs:function(t,e){return function(n,r,i,o){return o?o[e]:t(n,r,i)}}},On.prototype={constructor:On,parse:function(t){var e=this.getAst(t),n=this.astCompiler.compile(e.ast);return n.literal=Cn(e.ast),n.constant=Sn(e.ast),n.oneTime=e.oneTime,n},getAst:function(t){var e=!1;return t=t.trim(),":"===t.charAt(0)&&":"===t.charAt(1)&&(e=!0,t=t.substring(2)),{ast:this.ast.ast(t),oneTime:e}}};var ea,na=r("$sce"),ra={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},ia=/_([a-z])/g,oa=r("$templateRequest"),aa=r("$timeout"),sa=t.document.createElement("a"),ua=Yn(t.location.href);sa.href="http://[::1]";var ca="[::1]"===sa.hostname;ir.$inject=["$document"],ar.$inject=["$provide"];var la=22,fa=".",ha="0";fr.$inject=["$locale"],hr.$inject=["$locale"];var pa={yyyy:mr("FullYear",4,0,!1,!0),yy:mr("FullYear",2,0,!0,!0),y:mr("FullYear",1,0,!1,!0),MMMM:gr("Month"),MMM:gr("Month",!0),MM:mr("Month",2,1),M:mr("Month",1,1),LLLL:gr("Month",!1,!0),dd:mr("Date",2),d:mr("Date",1),HH:mr("Hours",2),H:mr("Hours",1),hh:mr("Hours",2,-12),h:mr("Hours",1,-12),mm:mr("Minutes",2),m:mr("Minutes",1),ss:mr("Seconds",2),s:mr("Seconds",1),sss:mr("Milliseconds",3),EEEE:gr("Day"),EEE:gr("Day",!0),a:Er,Z:yr,ww:xr(2),w:xr(1),G:Cr,GG:Cr,GGG:Cr,GGGG:Sr},da=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,$a=/^-?\d+$/;kr.$inject=["$locale"];var va=m(yi),ma=m(bi);Tr.$inject=["$parse"];var ga=m({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Ci.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),ya={};o(oo,function(t,e){function n(t,n,i){t.$watch(i[r],function(t){i.$set(e,!!t)})}if("multiple"!==t){var r=Ae("ng-"+e),i=n;"checked"===t&&(i=function(t,e,i){i.ngModel!==i[r]&&n(t,e,i)}),ya[r]=function(){return{restrict:"A",priority:100,link:i}}}}),o(so,function(t,e){ya[e]=function(){return{priority:100,link:function(t,n,r){if("ngPattern"===e&&"/"===r.ngPattern.charAt(0)){var i=r.ngPattern.match(vi);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}t.$watch(r[e],function(t){r.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=Ae("ng-"+t);ya[e]=["$sce",function(n){return{priority:99,link:function(r,i,o){var a=t,s=t;"href"===t&&"[object SVGAnimatedString]"===Ci.call(i.prop("href"))&&(s="xlinkHref",o.$attr[s]="xlink:href",a=null),o.$set(e,n.getTrustedMediaUrl(o[e])),o.$observe(e,function(e){if(!e)return void("href"===t&&o.$set(s,null));o.$set(s,e),fi&&a&&i.prop(a,o[s])})}}}]});var ba={$addControl:$,$getControls:m([]),$$renameControl:Nr,$removeControl:$,$setValidity:$,$setDirty:$,$setPristine:$,$setSubmitted:$,$$setSubmitted:$},wa="ng-pending";Ir.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Ir.prototype={$rollbackViewValue:function(){o(this.$$controls,function(t){t.$rollbackViewValue()})},$commitViewValue:function(){o(this.$$controls,function(t){t.$commitViewValue()})},$addControl:function(t){vt(t.$name,"input"),this.$$controls.push(t),t.$name&&(this[t.$name]=t),t.$$parentForm=this},$getControls:function(){return xt(this.$$controls)},$$renameControl:function(t,e){var n=t.$name;this[n]===t&&delete this[n],this[e]=t,t.$name=e},$removeControl:function(t){t.$name&&this[t.$name]===t&&delete this[t.$name],o(this.$pending,function(e,n){this.$setValidity(n,null,t)},this),o(this.$error,function(e,n){this.$setValidity(n,null,t)},this),o(this.$$success,function(e,n){this.$setValidity(n,null,t)},this),H(this.$$controls,t),t.$$parentForm=ba},$setDirty:function(){this.$$animate.removeClass(this.$$element,os),this.$$animate.addClass(this.$$element,as),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,os,as+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,o(this.$$controls,function(t){t.$setPristine()})},$setUntouched:function(){o(this.$$controls,function(t){t.$setUntouched()})},$setSubmitted:function(){for(var t=this;t.$$parentForm&&t.$$parentForm!==ba;)t=t.$$parentForm;t.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,o(this.$$controls,function(t){t.$$setSubmitted&&t.$$setSubmitted()})}},Rr({clazz:Ir,set:function(t,e,n){var r=t[e];if(r){-1===r.indexOf(n)&&r.push(n)}else t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(H(r,n),0===r.length&&delete t[e])}});var xa=function(t){return["$timeout","$parse",function(e,n){function r(t){return""===t?n('this[""]').assign:n(t).assign||$}return{name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:Ir,compile:function(n,i){n.addClass(os).addClass(rs);var o=i.name?"name":!(!t||!i.ngForm)&&"ngForm";return{pre:function(t,n,i,a){var s=a[0];if(!("action"in i)){var u=function(e){t.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),e.preventDefault()};n[0].addEventListener("submit",u),n.on("$destroy",function(){e(function(){n[0].removeEventListener("submit",u)},0,!1)})}(a[1]||s.$$parentForm).$addControl(s);var c=o?r(s.$name):$;o&&(c(t,s),i.$observe(o,function(e){s.$name!==e&&(c(t,void 0),s.$$parentForm.$$renameControl(s,e),(c=r(s.$name))(t,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),c(t,void 0),f(s,ba)})}}}}}]},Ea=xa(),Ca=xa(!0),Sa=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,ka=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Aa=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Oa=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Ma=/^(\d{4,})-(\d{2})-(\d{2})$/,Ta=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Va=/^(\d{4,})-W(\d\d)$/,Na=/^(\d{4,})-(\d\d)$/,Ia=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ja="keydown wheel mousedown",Ra=yt();o("date,datetime-local,month,time,week".split(","),function(t){Ra[t]=!0});var Pa={text:_r,date:Fr("date",Ma,qr(Ma,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Fr("datetimelocal",Ta,qr(Ta,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Fr("time",Ia,qr(Ia,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Fr("week",Va,Lr,"yyyy-Www"),month:Fr("month",Na,qr(Na,["yyyy","MM"]),"yyyy-MM"),number:Jr,url:Yr,email:Qr,radio:Xr,range:Zr,checkbox:ei,hidden:$,button:$,submit:$,reset:$,file:$},Da=["$browser","$sniffer","$filter","$parse",function(t,e,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(Pa[yi(a.type)]||Pa.text)(i,o,a,s[0],e,t,n,r)}}}}],_a=function(){var t={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(t){this.setAttribute("value",t)}};return{restrict:"E",priority:200,compile:function(e,n){if("hidden"===yi(n.type))return{pre:function(e,n,r,i){var o=n[0];o.parentNode&&o.parentNode.insertBefore(o,o.nextSibling),Object.defineProperty&&Object.defineProperty(o,"value",t)}}}}},Ua=/^(true|false|\d+)$/,La=function(){function t(t,e,n){var r=b(n)?n:9===fi?"":null;t.prop("value",r),e.$set("value",n)}return{restrict:"A",priority:100,compile:function(e,n){return Ua.test(n.ngValue)?function(e,n,r){t(n,r,e.$eval(r.ngValue))}:function(e,n,r){e.$watch(r.ngValue,function(e){t(n,r,e)})}}}},qa=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,r){t.$$addBindingInfo(n,r.ngBind),n=n[0],e.$watch(r.ngBind,function(t){n.textContent=bt(t)})}}}}],Fa=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,r,i){var o=t(r.attr(i.$attr.ngBindTemplate));e.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",function(t){r.textContent=y(t)?"":t})}}}}],Ha=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(r,i){var o=e(i.ngBindHtml),a=e(i.ngBindHtml,function(e){return t.valueOf(e)});return n.$$addBindingClass(r),function(e,r,i){n.$$addBindingInfo(r,i.ngBindHtml),e.$watch(a,function(){var n=o(e);r.html(t.getTrustedHtml(n)||"")})}}}}],Ba=m({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),za=ni("",!0),Wa=ni("Odd",0),Ga=ni("Even",1),Ka=Vr({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),Ja=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Za={},Ya={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=Ae("ng-"+t);Za[e]=["$parse","$rootScope","$exceptionHandler",function(n,r,i){return ri(n,r,i,e,t,Ya[t])}]});var Qa=["$animate","$compile",function(t,e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,u,c;n.$watch(i.ngIf,function(n){n?u||a(function(n,o){u=o,n[n.length++]=e.$$createComment("end ngIf",i.ngIf),s={clone:n},t.enter(n,r.parent(),r)}):(c&&(c.remove(),c=null),u&&(u.$destroy(),u=null),s&&(c=gt(s.clone),t.leave(c).done(function(t){!1!==t&&(c=null)}),s=null))})}}}],Xa=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Ai.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,u,c,l){var f,h,p,d=0,$=function(){h&&(h.remove(),h=null),f&&(f.$destroy(),f=null),p&&(n.leave(p).done(function(t){!1!==t&&(h=null)}),h=p,p=null)};r.$watch(o,function(o){var u=function(t){!1===t||!b(s)||s&&!r.$eval(s)||e()},h=++d;o?(t(o,!0).then(function(t){if(!r.$$destroyed&&h===d){var e=r.$new();c.template=t;var s=l(e,function(t){$(),n.enter(t,null,i).done(u)});f=e,p=s,f.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){r.$$destroyed||h===d&&($(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):($(),c.template=null)})}}}}],ts=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){if(Ci.call(r[0]).match(/SVG/))return r.empty(),void e(Nt(o.template,t.document).childNodes)(n,function(t){r.append(t)},{futureParentElement:r});r.html(o.template),e(r.contents())(n)}}}],es=Vr({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),ns=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,r){var i=n.ngList||", ",a="false"!==n.ngTrim,s=a?Vi(i):i,u=function(t){if(!y(t)){var e=[];return t&&o(t.split(s),function(t){t&&e.push(a?Vi(t):t)}),e}};r.$parsers.push(u),r.$formatters.push(function(t){if(k(t))return t.join(i)}),r.$isEmpty=function(t){return!t||!t.length}}}},rs="ng-valid",is="ng-invalid",os="ng-pristine",as="ng-dirty",ss=r("ngModel");ii.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],ii.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var t=this.$$parse(this.$$attr.ngModel+"()"),e=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(e){var n=this.$$parsedNgModel(e);return O(n)&&(n=t(e)),n},this.$$ngModelSet=function(t,n){O(this.$$parsedNgModel(t))?e(t,{$$$p:n}):this.$$parsedNgModelAssign(t,n)}}else if(!this.$$parsedNgModel.assign)throw ss("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,nt(this.$$element))},$render:$,$isEmpty:function(t){return y(t)||""===t||null===t||t!==t},$$updateEmptyClasses:function(t){this.$isEmpty(t)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,as),this.$$animate.addClass(this.$$element,os)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,os),this.$$animate.addClass(this.$$element,as),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!Mi(this.$modelValue)){var t=this.$$lastCommittedViewValue,e=this.$$rawModelValue,n=this.$valid,r=this.$modelValue,i=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(e,t,function(t){i||n===t||(o.$modelValue=t?e:void 0,o.$modelValue!==r&&o.$$writeModelToScope())})}},$$runValidators:function(t,e,n){function r(t,e){a===s.$$currentValidationRunId&&s.$setValidity(t,e)}function i(t){a===s.$$currentValidationRunId&&n(t)}this.$$currentValidationRunId++;var a=this.$$currentValidationRunId,s=this;return function(){var t=s.$$parserName;return y(s.$$parserValid)?(r(t,null),!0):(s.$$parserValid||(o(s.$validators,function(t,e){r(e,null)}),o(s.$asyncValidators,function(t,e){r(e,null)})),r(t,s.$$parserValid),s.$$parserValid)}()&&function(){var n=!0;return o(s.$validators,function(i,o){var a=Boolean(i(t,e));n=n&&a,r(o,a)}),!!n||(o(s.$asyncValidators,function(t,e){r(e,null)}),!1)}()?void function(){var n=[],a=!0;o(s.$asyncValidators,function(i,o){var s=i(t,e);if(!P(s))throw ss("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",s);r(o,void 0),n.push(s.then(function(){r(o,!0)},function(){a=!1,r(o,!1)}))}),n.length?s.$$q.all(n).then(function(){i(a)},$):i(!0)}():void i(!1)},$commitViewValue:function(){var t=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),
(this.$$lastCommittedViewValue!==t||""===t&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(t),this.$$lastCommittedViewValue=t,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){function t(){r.$modelValue!==o&&r.$$writeModelToScope()}var e=this.$$lastCommittedViewValue,n=e,r=this;if(this.$$parserValid=!y(n)||void 0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var i=0;i<this.$parsers.length;i++)if(n=this.$parsers[i](n),y(n)){this.$$parserValid=!1;break}Mi(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var o=this.$modelValue,a=this.$options.getOption("allowInvalid");this.$$rawModelValue=n,a&&(this.$modelValue=n,t()),this.$$runValidators(n,this.$$lastCommittedViewValue,function(e){a||(r.$modelValue=e?n:void 0,t())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),o(this.$viewChangeListeners,function(t){try{t()}catch(t){this.$$exceptionHandler(t)}},this)},$setViewValue:function(t,e){this.$viewValue=t,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(e)},$$debounceViewValueCommit:function(t){var e=this.$options.getOption("debounce");C(e[t])?e=e[t]:C(e.default)&&-1===this.$options.getOption("updateOn").indexOf(t)?e=e.default:C(e["*"])&&(e=e["*"]),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;e>0?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},e):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(t){this.$options=this.$options.createChild(t),this.$$setUpdateOnEvents()},$processModelValue:function(){var t=this.$$format();this.$viewValue!==t&&(this.$$updateEmptyClasses(t),this.$viewValue=this.$$lastCommittedViewValue=t,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,$))},$$format:function(){for(var t=this.$formatters,e=t.length,n=this.$modelValue;e--;)n=t[e](n);return n},$$setModelValue:function(t){this.$modelValue=this.$$rawModelValue=t,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(t){this.$$debounceViewValueCommit(t&&t.type)}},Rr({clazz:ii,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]}});var us,cs=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ii,priority:1,compile:function(e){return e.addClass(os).addClass("ng-untouched").addClass(rs),{pre:function(t,e,n,r){var i=r[0],o=r[1]||i.$$parentForm,a=r[2];a&&(i.$options=a.$options),i.$$initGetterSetters(),o.$addControl(i),n.$observe("name",function(t){i.$name!==t&&i.$$parentForm.$$renameControl(i,t)}),t.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(e,n,r,i){function o(){a.$setTouched()}var a=i[0];a.$$setUpdateOnEvents(),n.on("blur",function(){a.$touched||(t.$$phase?e.$evalAsync(o):e.$apply(o))})}}}}}],ls=/(\s+|^)default(\s+|$)/;ai.prototype={getOption:function(t){return this.$$options[t]},createChild:function(t){var e=!1;return t=f({},t),o(t,function(n,r){"$inherit"===n?"*"===r?e=!0:(t[r]=this.$$options[r],"updateOn"===r&&(t.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===r&&(t.updateOnDefault=!1,t[r]=Vi(n.replace(ls,function(){return t.updateOnDefault=!0," "})))},this),e&&(delete t["*"],si(t,this.$$options)),si(t,us.$$options),new ai(t)}},us=new ai({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var fs=function(){function t(t,e){this.$$attrs=t,this.$$scope=e}return t.$inject=["$attrs","$scope"],t.prototype={$onInit:function(){var t=this.parentCtrl?this.parentCtrl.$options:us,e=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=t.createChild(e)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:t}},hs=Vr({terminal:!0,priority:1e3}),ps=r("ngOptions"),ds=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,$s=["$compile","$document","$parse",function(e,n,r){function a(t,e,n){function o(t,e,n,r,i){this.selectValue=t,this.viewValue=e,this.label=n,this.group=r,this.disabled=i}function a(t){var e;if(!c&&i(t))e=t;else{e=[];for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n)}return e}var s=t.match(ds);if(!s)throw ps("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,nt(e));var u=s[5]||s[7],c=s[6],l=/ as /.test(s[0])&&s[1],f=s[9],h=r(s[2]?s[1]:u),p=l&&r(l),d=p||h,$=f&&r(f),v=f?function(t,e){return $(n,e)}:function(t){return ae(t)},m=function(t,e){return v(t,E(t,e))},g=r(s[2]||s[1]),y=r(s[3]||""),b=r(s[4]||""),w=r(s[8]),x={},E=c?function(t,e){return x[c]=e,x[u]=t,x}:function(t){return x[u]=t,x};return{trackBy:f,getTrackByValue:m,getWatchables:r(w,function(t){var e=[];t=t||[];for(var r=a(t),i=r.length,o=0;o<i;o++){var u=t===r?o:r[o],c=t[u],l=E(c,u),f=v(c,l);if(e.push(f),s[2]||s[1]){var h=g(n,l);e.push(h)}if(s[4]){var p=b(n,l);e.push(p)}}return e}),getOptions:function(){for(var t=[],e={},r=w(n)||[],i=a(r),s=i.length,u=0;u<s;u++){var c=r===i?u:i[u],l=r[c],h=E(l,c),p=d(n,h),$=v(p,h),x=g(n,h),C=y(n,h),S=b(n,h),k=new o($,p,x,C,S);t.push(k),e[$]=k}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[m(t)]},getViewValueFromOption:function(t){return f?B(t.viewValue):t.viewValue}}}}}function s(t,r,i,s){function l(t,e){var n=u.cloneNode(!1);e.appendChild(n),h(t,n)}function f(t){var e=x.getOptionFromViewValue(t),n=e&&e.element;return n&&!n.selected&&(n.selected=!0),e}function h(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),e.value=t.selectValue}function p(){var t=x&&d.readValue();if(x)for(var e=x.items.length-1;e>=0;e--){var n=x.items[e];Yt(b(n.group)?n.element.parentNode:n.element)}x=E.getOptions();var i={};if(x.items.forEach(function(t){var e;b(t.group)?(e=i[t.group],e||(e=c.cloneNode(!1),C.appendChild(e),e.label=null===t.group?"null":t.group,i[t.group]=e),l(t,e)):l(t,C)}),r[0].appendChild(C),$.$render(),!$.$isEmpty(t)){var o=d.readValue();(E.trackBy||v?W(t,o):t===o)||($.$setViewValue(o),$.$render())}}for(var d=s[0],$=s[1],v=i.multiple,m=0,g=r.children(),y=g.length;m<y;m++)if(""===g[m].value){d.hasEmptyOption=!0,d.emptyOption=g.eq(m);break}r.empty();var w=!!d.emptyOption;hi(u.cloneNode(!1)).val("?");var x,E=a(i.ngOptions,r,t),C=n[0].createDocumentFragment();d.generateUnknownOptionValue=function(t){return"?"},v?(d.writeValue=function(t){if(x){var e=t&&t.map(f)||[];x.items.forEach(function(t){t.element.selected&&!F(e,t)&&(t.element.selected=!1)})}},d.readValue=function(){var t=r.val()||[],e=[];return o(t,function(t){var n=x.selectValueMap[t];n&&!n.disabled&&e.push(x.getViewValueFromOption(n))}),e},E.trackBy&&t.$watchCollection(function(){if(k($.$viewValue))return $.$viewValue.map(function(t){return E.getTrackByValue(t)})},function(){$.$render()})):(d.writeValue=function(t){if(x){var e=r[0].options[r[0].selectedIndex],n=x.getOptionFromViewValue(t);e&&e.removeAttribute("selected"),n?(r[0].value!==n.selectValue&&(d.removeUnknownOption(),r[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):d.selectUnknownOrEmptyOption(t)}},d.readValue=function(){var t=x.selectValueMap[r.val()];return t&&!t.disabled?(d.unselectEmptyOption(),d.removeUnknownOption(),x.getViewValueFromOption(t)):null},E.trackBy&&t.$watch(function(){return E.getTrackByValue($.$viewValue)},function(){$.$render()})),w&&(e(d.emptyOption)(t),r.prepend(d.emptyOption),d.emptyOption[0].nodeType===Fi?(d.hasEmptyOption=!1,d.registerOption=function(t,e){""===e.val()&&(d.hasEmptyOption=!0,d.emptyOption=e,d.emptyOption.removeClass("ng-scope"),$.$render(),e.on("$destroy",function(){var t=d.$isEmptyOptionSelected();d.hasEmptyOption=!1,d.emptyOption=void 0,t&&$.$render()}))}):d.emptyOption.removeClass("ng-scope")),t.$watchCollection(E.getWatchables,p)}var u=t.document.createElement("option"),c=t.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,r){r[0].registerOption=$},post:s}}}],vs=["$locale","$interpolate","$log",function(t,e,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(a,s,u){function c(t){s.text(t||"")}var l,f=u.count,h=u.$attr.when&&s.attr(u.$attr.when),p=u.offset||0,d=a.$eval(h)||{},v={},m=e.startSymbol(),g=e.endSymbol(),b=m+f+"-"+p+g,w=Ai.noop;o(u,function(t,e){var n=i.exec(e);if(n){var r=(n[1]?"-":"")+yi(n[2]);d[r]=s.attr(u.$attr[e])}}),o(d,function(t,n){v[n]=e(t.replace(r,b))}),a.$watch(f,function(e){var r=parseFloat(e),i=Mi(r);if(i||r in d||(r=t.pluralCat(r-p)),!(r===l||i&&Mi(l))){w();var o=v[r];y(o)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+h),w=$,c()):w=a.$watch(o,c),l=r}})}}}],ms=r("ngRef"),gs=["$parse",function(t){return{priority:-1,restrict:"A",compile:function(e,n){var r=Ae(q(e)),i=t(n.ngRef),o=i.assign||function(){throw ms("nonassign",'Expression in ngRef="{0}" is non-assignable!',n.ngRef)};return function(t,e,a){var s;if(a.hasOwnProperty("ngRefRead")){if("$element"===a.ngRefRead)s=e;else if(!(s=e.data("$"+a.ngRefRead+"Controller")))throw ms("noctrl",'The controller for ngRefRead="{0}" could not be found on ngRef="{1}"',a.ngRefRead,n.ngRef)}else s=e.data("$"+r+"Controller");s=s||e,o(t,s),e.on("$destroy",function(){i(t)===s&&o(t,null)})}}}}],ys=["$parse","$animate","$compile",function(t,e,n){var a=r("ngRepeat"),s=function(t,e,n,r,i,o,a){t[n]=r,i&&(t[i]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0==(1&e))},u=function(t){return t.clone[0]},c=function(t){return t.clone[t.clone.length-1]},l=function(t,e,n){return ae(n)},f=function(t,e){return e};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,h){var p=h.ngRepeat,d=n.$$createComment("end ngRepeat",p),$=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!$)throw a("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var v=$[1],m=$[2],g=$[3],y=$[4];if(!($=v.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw a("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",v);var b=$[3]||$[1],w=$[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g)))throw a("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",g);var x;if(y){var E={$id:ae},C=t(y);x=function(t,e,n,r){return w&&(E[w]=e),E[b]=n,E.$index=r,C(t,E)}}return function(t,n,r,h,$){var v=yt();t.$watchCollection(m,function(r){var h,m,y,C,S,k,A,O,M,T,V,N,I=n[0],j=yt();if(g&&(t[g]=r),i(r))M=r,O=x||l;else{O=x||f,M=[];for(var R in r)gi.call(r,R)&&"$"!==R.charAt(0)&&M.push(R)}for(C=M.length,V=new Array(C),h=0;h<C;h++)if(S=r===M?h:M[h],k=r[S],A=O(t,S,k,h),v[A])T=v[A],delete v[A],j[A]=T,V[h]=T;else{if(j[A])throw o(V,function(t){t&&t.scope&&(v[t.id]=t)}),a("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,A,k);V[h]={id:A,scope:void 0,clone:void 0},j[A]=!0}E&&(E[b]=void 0);for(var P in v){if(T=v[P],N=gt(T.clone),e.leave(N),N[0].parentNode)for(h=0,m=N.length;h<m;h++)N[h].$$NG_REMOVED=!0;T.scope.$destroy()}for(h=0;h<C;h++)if(S=r===M?h:M[h],k=r[S],T=V[h],T.scope){y=I;do{y=y.nextSibling}while(y&&y.$$NG_REMOVED);u(T)!==y&&e.move(gt(T.clone),null,I),I=c(T),s(T.scope,h,b,k,w,S,C)}else $(function(t,n){T.scope=n;var r=d.cloneNode(!1);t[t.length++]=r,e.enter(t,null,I),I=r,T.clone=t,j[T.id]=T,s(T.scope,h,b,k,w,S,C)});v=j})}}}}],bs=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngShow,function(e){t[e?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],ws=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngHide,function(e){t[e?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],xs=Vr(function(t,e,n){t.$watchCollection(n.ngStyle,function(t,n){n&&t!==n&&(t||(t={}),o(n,function(e,n){null==t[n]&&(t[n]="")})),t&&e.css(t)})}),Es=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=i.ngSwitch||i.on,u=[],c=[],l=[],f=[],h=function(t,e){return function(n){!1!==n&&t.splice(e,1)}};n.$watch(s,function(n){for(var r,i;l.length;)t.cancel(l.pop());for(r=0,i=f.length;r<i;++r){var s=gt(c[r].clone);f[r].$destroy();(l[r]=t.leave(s)).done(h(l,r))}c.length=0,f.length=0,(u=a.cases["!"+n]||a.cases["?"])&&o(u,function(n){n.transclude(function(r,i){f.push(i);var o=n.element;r[r.length++]=e.$$createComment("end ngSwitchWhen");var a={clone:r};c.push(a),t.enter(r,o.parent(),o)})})})}}}],Cs=Vr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){o(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(t,e,n){return n[e-1]!==t}),function(t){r.cases["!"+t]=r.cases["!"+t]||[],r.cases["!"+t].push({transclude:i,element:e})})}}),Ss=Vr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),ks=r("ngTransclude"),As=["$compile",function(t){return{restrict:"EAC",compile:function(e){var n=t(e.contents());return e.empty(),function(t,e,r,i,o){function a(t,n){t.length&&u(t)?e.append(t):(s(),n.$destroy())}function s(){n(t,function(t){e.append(t)})}function u(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];if(r.nodeType!==qi||r.nodeValue.trim())return!0}}if(!o)throw ks("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",nt(e));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var c=r.ngTransclude||r.ngTranscludeSlot;o(a,null,c),c&&!o.isSlotFilled(c)&&s()}}}}],Os=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"===n.type){var r=n.id,i=e[0].text;t.put(r,i)}}}}],Ms={$setViewValue:$,$render:$},Ts=["$element","$scope",function(e,n){function r(){s||(s=!0,n.$$postDigest(function(){s=!1,o.ngModelCtrl.$render()}))}function i(t){u||(u=!0,n.$$postDigest(function(){n.$$destroyed||(u=!1,o.ngModelCtrl.$setViewValue(o.readValue()),t&&o.ngModelCtrl.$render())}))}var o=this,a=new co;o.selectValueMap={},o.ngModelCtrl=Ms,o.multiple=!1,o.unknownOption=hi(t.document.createElement("option")),o.hasEmptyOption=!1,o.emptyOption=void 0,o.renderUnknownOption=function(t){var n=o.generateUnknownOptionValue(t);o.unknownOption.val(n),e.prepend(o.unknownOption),ui(o.unknownOption,!0),e.val(n)},o.updateUnknownOption=function(t){var n=o.generateUnknownOptionValue(t);o.unknownOption.val(n),ui(o.unknownOption,!0),e.val(n)},o.generateUnknownOptionValue=function(t){return"? "+ae(t)+" ?"},o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.selectEmptyOption=function(){o.emptyOption&&(e.val(""),ui(o.emptyOption,!0))},o.unselectEmptyOption=function(){o.hasEmptyOption&&ui(o.emptyOption,!1)},n.$on("$destroy",function(){o.renderUnknownOption=$}),o.readValue=function(){var t=e.val(),n=t in o.selectValueMap?o.selectValueMap[t]:t;return o.hasOption(n)?n:null},o.writeValue=function(t){var n=e[0].options[e[0].selectedIndex];if(n&&ui(hi(n),!1),o.hasOption(t)){o.removeUnknownOption();var r=ae(t);e.val(r in o.selectValueMap?r:t);var i=e[0].options[e[0].selectedIndex];ui(hi(i),!0)}else o.selectUnknownOrEmptyOption(t)},o.addOption=function(t,e){if(e[0].nodeType!==Fi){vt(t,'"option value"'),""===t&&(o.hasEmptyOption=!0,o.emptyOption=e);var n=a.get(t)||0;a.set(t,n+1),r()}},o.removeOption=function(t){var e=a.get(t);e&&(1===e?(a.delete(t),""===t&&(o.hasEmptyOption=!1,o.emptyOption=void 0)):a.set(t,e-1))},o.hasOption=function(t){return!!a.get(t)},o.$hasEmptyOption=function(){return o.hasEmptyOption},o.$isUnknownOptionSelected=function(){return e[0].options[0]===o.unknownOption[0]},o.$isEmptyOptionSelected=function(){return o.hasEmptyOption&&e[0].options[e[0].selectedIndex]===o.emptyOption[0]},o.selectUnknownOrEmptyOption=function(t){null==t&&o.emptyOption?(o.removeUnknownOption(),o.selectEmptyOption()):o.unknownOption.parent().length?o.updateUnknownOption(t):o.renderUnknownOption(t)};var s=!1,u=!1;o.registerOption=function(t,e,n,a,s){if(n.$attr.ngValue){var u,c;n.$observe("value",function(t){var n,r=e.prop("selected");b(c)&&(o.removeOption(u),delete o.selectValueMap[c],n=!0),c=ae(t),u=t,o.selectValueMap[c]=t,o.addOption(t,e),e.attr("value",c),n&&r&&i()})}else a?n.$observe("value",function(t){o.readValue();var n,r=e.prop("selected");b(u)&&(o.removeOption(u),n=!0),u=t,o.addOption(t,e),n&&r&&i()}):s?t.$watch(s,function(t,r){n.$set("value",t);var a=e.prop("selected");r!==t&&o.removeOption(r),o.addOption(t,e),r&&a&&i()}):o.addOption(n.value,e);n.$observe("disabled",function(t){("true"===t||t&&e.prop("selected"))&&(o.multiple?i(!0):(o.ngModelCtrl.$setViewValue(null),o.ngModelCtrl.$render()))}),e.on("$destroy",function(){var t=o.readValue(),e=n.value;o.removeOption(e),r(),(o.multiple&&t&&-1!==t.indexOf(e)||t===e)&&i(!0)})}}],Vs=function(){function t(t,e,n,r){var i=r[0],a=r[1];if(!a)return void(i.registerOption=$);if(i.ngModelCtrl=a,e.on("change",function(){i.removeUnknownOption(),t.$apply(function(){a.$setViewValue(i.readValue())})}),n.multiple){i.multiple=!0,i.readValue=function(){var t=[];return o(e.find("option"),function(e){if(e.selected&&!e.disabled){var n=e.value;t.push(n in i.selectValueMap?i.selectValueMap[n]:n)}}),t},i.writeValue=function(t){o(e.find("option"),function(e){var n=!!t&&(F(t,e.value)||F(t,i.selectValueMap[e.value]));n!==e.selected&&ui(hi(e),n)})};var s,u=NaN;t.$watch(function(){u!==a.$viewValue||W(s,a.$viewValue)||(s=xt(a.$viewValue),a.$render()),u=a.$viewValue}),a.$isEmpty=function(t){return!t||0===t.length}}}function e(t,e,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Ts,priority:1,link:{pre:t,post:e}}},Ns=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){var r,i;return b(n.ngValue)||(b(n.value)?r=t(n.value,!0):(i=t(e.text(),!0))||n.$set("value",e.text())),function(t,e,n){var o=e.parent(),a=o.data("$selectController")||o.parent().data("$selectController");a&&a.registerOption(t,e,n,r,i)}}}}],Is=["$parse",function(t){return{restrict:"A",require:"?ngModel",link:function(e,n,r,i){if(i){var o=r.hasOwnProperty("required")||t(r.ngRequired)(e);r.ngRequired||(r.required=!0),i.$validators.required=function(t,e){return!o||!i.$isEmpty(e)},r.$observe("required",function(t){o!==t&&(o=t,i.$validate())})}}}}],js=["$parse",function(t){return{restrict:"A",require:"?ngModel",compile:function(e,n){var r,i;return n.ngPattern&&(r=n.ngPattern,i="/"===n.ngPattern.charAt(0)&&vi.test(n.ngPattern)?function(){return n.ngPattern}:t(n.ngPattern)),function(t,e,n,o){if(o){var a=n.pattern;n.ngPattern?a=i(t):r=n.pattern;var s=ci(a,r,e);n.$observe("pattern",function(t){var n=s;s=ci(t,r,e),(n&&n.toString())!==(s&&s.toString())&&o.$validate()}),o.$validators.pattern=function(t,e){return o.$isEmpty(e)||y(s)||s.test(e)}}}}}}],Rs=["$parse",function(t){return{restrict:"A",require:"?ngModel",link:function(e,n,r,i){if(i){var o=r.maxlength||t(r.ngMaxlength)(e),a=li(o);r.$observe("maxlength",function(t){o!==t&&(a=li(t),o=t,i.$validate())}),i.$validators.maxlength=function(t,e){return a<0||i.$isEmpty(e)||e.length<=a}}}}}],Ps=["$parse",function(t){return{restrict:"A",require:"?ngModel",link:function(e,n,r,i){if(i){var o=r.minlength||t(r.ngMinlength)(e),a=li(o)||-1;r.$observe("minlength",function(t){o!==t&&(a=li(t)||-1,o=t,i.$validate())}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=a}}}}}];if(t.angular.bootstrap)return void(t.console&&console.log("WARNING: Tried to load AngularJS more than once."));!function(){var e;if(!Ui){var n=ji();pi=y(n)?t.jQuery:n?t[n]:void 0,pi&&pi.fn.on?(hi=pi,f(pi.fn,{scope:io.scope,isolateScope:io.isolateScope,controller:io.controller,injector:io.injector,inheritedData:io.inheritedData})):hi=Rt,e=hi.cleanData,hi.cleanData=function(t){for(var n,r,i=0;null!=(r=t[i]);i++)(n=(hi._data(r)||{}).events)&&n.$destroy&&hi(r).triggerHandler("$destroy");e(t)},Ai.element=hi,Ui=!0}}(),function(n){f(n,{errorHandlingConfig:e,bootstrap:lt,copy:B,extend:f,merge:h,equals:W,element:hi,forEach:o,injector:he,noop:$,bind:J,toJson:Y,fromJson:Q,identity:v,isUndefined:y,isDefined:b,isString:E,isFunction:O,isObject:w,isNumber:C,isElement:U,isArray:k,version:zi,isDate:S,callbacks:{$$counter:0},getTestability:ht,reloadWithDebugInfo:ft,$$minErr:r,$$csp:Ii,$$encodeUriSegment:at,$$encodeUriQuery:st,$$lowercase:yi,$$stringify:bt,$$uppercase:bi}),di=wt(t),di("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Un}),t.provider("$compile",Se).directive({a:ga,input:Da,textarea:Da,form:Ea,script:Os,select:Vs,option:Ns,ngBind:qa,ngBindHtml:Ha,ngBindTemplate:Fa,ngClass:za,ngClassEven:Ga,ngClassOdd:Wa,ngCloak:Ka,ngController:Ja,ngForm:Ca,ngHide:ws,ngIf:Qa,ngInclude:Xa,ngInit:es,ngNonBindable:hs,ngPluralize:vs,ngRef:gs,ngRepeat:ys,ngShow:bs,ngStyle:xs,ngSwitch:Es,ngSwitchWhen:Cs,ngSwitchDefault:Ss,ngOptions:$s,ngTransclude:As,ngModel:cs,ngList:ns,ngChange:Ba,pattern:js,ngPattern:js,required:Is,ngRequired:Is,minlength:Ps,ngMinlength:Ps,maxlength:Rs,ngMaxlength:Rs,ngValue:La,ngModelOptions:fs}).directive({ngInclude:ts,input:_a}).directive(ya).directive(Za),t.provider({$anchorScroll:pe,$animate:xo,$animateCss:So,$$animateJs:bo,$$animateQueue:wo,$$AnimateRunner:Co,$$animateAsyncRun:Eo,$browser:we,$cacheFactory:xe,$controller:Ve,$document:Ne,$$isDocumentHidden:Ie,$exceptionHandler:je,$filter:ar,$$forceReflow:No,$interpolate:Ke,$interval:Je,$$intervalFactory:Ze,$http:Be,$httpParamSerializer:Pe,$httpParamSerializerJQLike:De,$httpBackend:We,$xhrFactory:ze,$jsonpCallbacks:qo,$location:pn,$log:dn,$parse:Tn,$rootScope:_n,$q:Vn,$$q:Nn,$sce:Bn,$sceDelegate:Hn,$sniffer:zn,$$taskTrackerFactory:Wn,$templateCache:Ee,$templateRequest:Kn,$$testability:Jn,$timeout:Zn,$window:rr,$$rAF:Dn,$$jqLite:oe,$$Map:lo,$$cookieReader:or})}]).info({angularVersion:"1.7.8"})}(Ai),Ai.module("ngLocale",[],["$provide",function(t){function e(t){t+="";var e=t.indexOf(".");return-1==e?0:t.length-e-1}function n(t,n){var r=n;void 0===r&&(r=Math.min(e(t),3));var i=Math.pow(10,r);return{v:r,f:(t*i|0)%i}}var r={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var i=0|t,o=n(t,e);return 1==i&&0==o.v?r.ONE:r.OTHER}})}]),hi(function(){ct(t.document,lt)})}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');
},{}],10:[function(require,module,exports){
require("./angular"),module.exports=angular;
},{"./angular":9}],11:[function(require,module,exports){
(function (global){
!function(t){var e="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(i,n,s){e.Backbone=t(e,s,i,n)});else if("undefined"!=typeof exports){var i,n=require("underscore");try{i=require("jquery")}catch(t){}t(e,exports,n,i)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(function(t,e,i,n){var s=t.Backbone,r=Array.prototype.slice;e.VERSION="1.3.3",e.$=n,e.noConflict=function(){return t.Backbone=s,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=function(t,e,n){switch(t){case 1:return function(){return i[e](this[n])};case 2:return function(t){return i[e](this[n],t)};case 3:return function(t,s){return i[e](this[n],h(t,this),s)};case 4:return function(t,s,r){return i[e](this[n],h(t,this),s,r)};default:return function(){var t=r.call(arguments);return t.unshift(this[n]),i[e].apply(i,t)}}},o=function(t,e,n){i.each(e,function(e,s){i[s]&&(t.prototype[s]=a(e,s,n))})},h=function(t,e){return i.isFunction(t)?t:i.isObject(t)&&!e._isModel(t)?u(t):i.isString(t)?function(e){return e.get(t)}:t},u=function(t){var e=i.matches(t);return function(t){return e(t.attributes)}},c=e.Events={},l=/\s+/,d=function(t,e,n,s,r){var a,o=0;if(n&&"object"==typeof n){void 0!==s&&"context"in r&&void 0===r.context&&(r.context=s);for(a=i.keys(n);o<a.length;o++)e=d(t,e,a[o],n[a[o]],r)}else if(n&&l.test(n))for(a=n.split(l);o<a.length;o++)e=t(e,a[o],s,r);else e=t(e,n,s,r);return e};c.on=function(t,e,i){return f(this,t,e,i)};var f=function(t,e,i,n,s){if(t._events=d(g,t._events||{},e,i,{context:n,ctx:t,listening:s}),s){(t._listeners||(t._listeners={}))[s.id]=s}return t};c.listenTo=function(t,e,n){if(!t)return this;var s=t._listenId||(t._listenId=i.uniqueId("l")),r=this._listeningTo||(this._listeningTo={}),a=r[s];if(!a){var o=this._listenId||(this._listenId=i.uniqueId("l"));a=r[s]={obj:t,objId:s,id:o,listeningTo:r,count:0}}return f(t,e,n,this,a),this};var g=function(t,e,i,n){if(i){var s=t[e]||(t[e]=[]),r=n.context,a=n.ctx,o=n.listening;o&&o.count++,s.push({callback:i,context:r,ctx:r||a,listening:o})}return t};c.off=function(t,e,i){return this._events?(this._events=d(p,this._events,t,e,{context:i,listeners:this._listeners}),this):this},c.stopListening=function(t,e,n){var s=this._listeningTo;if(!s)return this;for(var r=t?[t._listenId]:i.keys(s),a=0;a<r.length;a++){var o=s[r[a]];if(!o)break;o.obj.off(e,n,this)}return this};var p=function(t,e,n,s){if(t){var r,a=0,o=s.context,h=s.listeners;if(e||n||o){for(var u=e?[e]:i.keys(t);a<u.length;a++){e=u[a];var c=t[e];if(!c)break;for(var l=[],d=0;d<c.length;d++){var f=c[d];n&&n!==f.callback&&n!==f.callback._callback||o&&o!==f.context?l.push(f):(r=f.listening)&&0==--r.count&&(delete h[r.id],delete r.listeningTo[r.objId])}l.length?t[e]=l:delete t[e]}return t}for(var g=i.keys(h);a<g.length;a++)r=h[g[a]],delete h[r.id],delete r.listeningTo[r.objId]}};c.once=function(t,e,n){var s=d(v,{},t,e,i.bind(this.off,this));return"string"==typeof t&&null==n&&(e=void 0),this.on(s,e,n)},c.listenToOnce=function(t,e,n){var s=d(v,{},e,n,i.bind(this.stopListening,this,t));return this.listenTo(t,s)};var v=function(t,e,n,s){if(n){var r=t[e]=i.once(function(){s(e,r),n.apply(this,arguments)});r._callback=n}return t};c.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),i=Array(e),n=0;n<e;n++)i[n]=arguments[n+1];return d(m,this._events,t,void 0,i),this};var m=function(t,e,i,n){if(t){var s=t[e],r=t.all;s&&r&&(r=r.slice()),s&&_(s,n),r&&_(r,[e].concat(n))}return t},_=function(t,e){var i,n=-1,s=t.length,r=e[0],a=e[1],o=e[2];switch(e.length){case 0:for(;++n<s;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r);return;case 2:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r,a);return;case 3:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r,a,o);return;default:for(;++n<s;)(i=t[n]).callback.apply(i.ctx,e);return}};c.bind=c.on,c.unbind=c.off,i.extend(e,c);var y=e.Model=function(t,e){var n=t||{};e||(e={}),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{});var s=i.result(this,"defaults");n=i.defaults(i.extend({},s,n),s),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(y.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,n){if(null==t)return this;var s;if("object"==typeof t?(s=t,n=e):(s={})[t]=e,n||(n={}),!this._validate(s,n))return!1;var r=n.unset,a=n.silent,o=[],h=this._changing;this._changing=!0,h||(this._previousAttributes=i.clone(this.attributes),this.changed={});var u=this.attributes,c=this.changed,l=this._previousAttributes;for(var d in s)e=s[d],i.isEqual(u[d],e)||o.push(d),i.isEqual(l[d],e)?delete c[d]:c[d]=e,r?delete u[d]:u[d]=e;if(this.idAttribute in s&&(this.id=this.get(this.idAttribute)),!a){o.length&&(this._pending=n);for(var f=0;f<o.length;f++)this.trigger("change:"+o[f],this,u[o[f]],n)}if(h)return this;if(!a)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&i.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,n={};for(var s in t){var r=t[s];i.isEqual(e[s],r)||(n[s]=r)}return!!i.size(n)&&n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=i.extend({parse:!0},t);var e=this,n=t.success;return t.success=function(i){var s=t.parse?e.parse(i,t):i;if(!e.set(s,t))return!1;n&&n.call(t.context,e,i,t),e.trigger("sync",e,i,t)},q(this,t),this.sync("read",this,t)},save:function(t,e,n){var s;null==t||"object"==typeof t?(s=t,n=e):(s={})[t]=e,n=i.extend({validate:!0,parse:!0},n);var r=n.wait;if(s&&!r){if(!this.set(s,n))return!1}else if(!this._validate(s,n))return!1;var a=this,o=n.success,h=this.attributes;n.success=function(t){a.attributes=h;var e=n.parse?a.parse(t,n):t;if(r&&(e=i.extend({},s,e)),e&&!a.set(e,n))return!1;o&&o.call(n.context,a,t,n),a.trigger("sync",a,t,n)},q(this,n),s&&r&&(this.attributes=i.extend({},h,s));var u=this.isNew()?"create":n.patch?"patch":"update";"patch"!==u||n.attrs||(n.attrs=s);var c=this.sync(u,this,n);return this.attributes=h,c},destroy:function(t){t=t?i.clone(t):{};var e=this,n=t.success,s=t.wait,r=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(i){s&&r(),n&&n.call(t.context,e,i,t),e.isNew()||e.trigger("sync",e,i,t)};var a=!1;return this.isNew()?i.defer(t.success):(q(this,t),a=this.sync("delete",this,t)),s||r(),a},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||U();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1)}}),o(y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var b=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},x={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},E=function(t,e,i){i=Math.min(Math.max(i,0),t.length);var n,s=Array(t.length-i),r=e.length;for(n=0;n<s.length;n++)s[n]=t[n+i];for(n=0;n<r;n++)t[n+i]=e[n];for(n=0;n<s.length;n++)t[n+r+i]=s[n]};i.extend(b.prototype,c,{model:y,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,w))},remove:function(t,e){e=i.extend({},e);var n=!i.isArray(t);t=n?[t]:t.slice();var s=this._removeModels(t,e);return!e.silent&&s.length&&(e.changes={added:[],merged:[],removed:s},this.trigger("update",this,e)),n?s[0]:s},set:function(t,e){if(null!=t){e=i.extend({},x,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var n=!i.isArray(t);t=n?[t]:t.slice();var s=e.at;null!=s&&(s=+s),s>this.length&&(s=this.length),s<0&&(s+=this.length+1);var r,a,o=[],h=[],u=[],c=[],l={},d=e.add,f=e.merge,g=e.remove,p=!1,v=this.comparator&&null==s&&!1!==e.sort,m=i.isString(this.comparator)?this.comparator:null;for(a=0;a<t.length;a++){r=t[a];var _=this.get(r);if(_){if(f&&r!==_){var y=this._isModel(r)?r.attributes:r;e.parse&&(y=_.parse(y,e)),_.set(y,e),u.push(_),v&&!p&&(p=_.hasChanged(m))}l[_.cid]||(l[_.cid]=!0,o.push(_)),t[a]=_}else d&&(r=t[a]=this._prepareModel(r,e))&&(h.push(r),this._addReference(r,e),l[r.cid]=!0,o.push(r))}if(g){for(a=0;a<this.length;a++)r=this.models[a],l[r.cid]||c.push(r);c.length&&this._removeModels(c,e)}var b=!1,w=!v&&d&&g;if(o.length&&w?(b=this.length!==o.length||i.some(this.models,function(t,e){return t!==o[e]}),this.models.length=0,E(this.models,o,0),this.length=this.models.length):h.length&&(v&&(p=!0),E(this.models,h,null==s?this.length:s),this.length=this.models.length),p&&this.sort({silent:!0}),!e.silent){for(a=0;a<h.length;a++)null!=s&&(e.index=s+a),r=h[a],r.trigger("add",r,this,e);(p||b)&&this.trigger("sort",this,e),(h.length||c.length||u.length)&&(e.changes={added:h,removed:c,merged:u},this.trigger("update",this,e))}return n?t[0]:t}},reset:function(t,e){e=e?i.clone(e):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return r.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var n=e.length;return i.isFunction(e)&&(e=i.bind(e,this)),1===n||i.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=i.extend({parse:!0},t);var e=t.success,n=this;return t.success=function(i){var s=t.reset?"reset":"set";n[s](i,t),e&&e.call(t.context,n,i,t),n.trigger("sync",n,i,t)},q(this,t),this.sync("read",this,t)},create:function(t,e){e=e?i.clone(e):{};var n=e.wait;if(!(t=this._prepareModel(t,e)))return!1;n||this.add(t,e);var s=this,r=e.success;return e.success=function(t,e,i){n&&s.add(t,i),r&&r.call(i.context,t,e,i)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?i.clone(e):{},e.collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_removeModels:function(t,e){for(var i=[],n=0;n<t.length;n++){var s=this.get(t[n]);if(s){var r=this.indexOf(s);this.models.splice(r,1),this.length--,delete this._byId[s.cid];var a=this.modelId(s.attributes);null!=a&&delete this._byId[a],e.silent||(e.index=r,s.trigger("remove",s,this,e)),i.push(s),this._removeReference(s,e)}}return i},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes);null!=i&&(this._byId[i]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes);null!=i&&delete this._byId[i],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){if(e){if(("add"===t||"remove"===t)&&i!==this)return;if("destroy"===t&&this.remove(e,n),"change"===t){var s=this.modelId(e.previousAttributes()),r=this.modelId(e.attributes);s!==r&&(null!=s&&delete this._byId[s],null!=r&&(this._byId[r]=e))}}this.trigger.apply(this,arguments)}}),o(b,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var I=e.View=function(t){this.cid=i.uniqueId("view"),i.extend(this,i.pick(t,k)),this._ensureElement(),this.initialize.apply(this,arguments)},S=/^(\S+)\s*(.*)$/,k=["model","collection","el","id","attributes","className","tagName","events"];i.extend(I.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=i.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var n=t[e];if(i.isFunction(n)||(n=this[n]),n){var s=e.match(S);this.delegate(s[1],s[2],i.bind(n,this))}}return this},delegate:function(t,e,i){return this.$el.on(t+".delegateEvents"+this.cid,e,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,i){return this.$el.off(t+".delegateEvents"+this.cid,e,i),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t.class=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,n,s){var r=T[t];i.defaults(s||(s={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:r,dataType:"json"};if(s.url||(a.url=i.result(n,"url")||U()),null!=s.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(s.attrs||n.toJSON(s))),s.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),s.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){a.type="POST",s.emulateJSON&&(a.data._method=r);var o=s.beforeSend;s.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",r),o)return o.apply(this,arguments)}}"GET"===a.type||s.emulateJSON||(a.processData=!1);var h=s.error;s.error=function(t,e,i){s.textStatus=e,s.errorThrown=i,h&&h.call(s.context,t,e,i)};var u=s.xhr=e.ajax(i.extend(a,s));return n.trigger("request",n,u,s),u};var T={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var P=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},H=/\((.*?)\)/g,$=/(\(\?)?:\w+/g,A=/\*\w+/g,C=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(P.prototype,c,{initialize:function(){},route:function(t,n,s){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(s=n,n=""),s||(s=this[n]);var r=this;return e.history.route(t,function(i){var a=r._extractParameters(t,i);!1!==r.execute(s,a,n)&&(r.trigger.apply(r,["route:"+n].concat(a)),r.trigger("route",n,a),e.history.trigger("route",r,n,a))}),this},execute:function(t,e,i){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(C,"\\$&").replace(H,"(?:$1)?").replace($,function(t,e){return e?t:"([^/?]+)"}).replace(A,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var R=e.History=function(){this.handlers=[],this.checkUrl=i.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},j=/^[#\/]|\s+$/g,N=/^\/+|\/+$/g,M=/#.*$/;R.started=!1,i.extend(R.prototype,c,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(j,"")},start:function(t){if(R.started)throw new Error("Backbone.history has already been started");if(R.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(N,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,s=n.insertBefore(this.iframe,n.firstChild).contentWindow;s.document.open(),s.document.close(),s.location.hash="#"+this.fragment}var r=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?r("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?r("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),R.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),i.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!R.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var i=this.root;""!==t&&"?"!==t.charAt(0)||(i=i.slice(0,-1)||"/");var n=i+t;if(t=this.decodeFragment(t.replace(M,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var s=this.iframe.contentWindow;e.replace||(s.document.open(),s.document.close()),this._updateHash(s.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new R;var O=function(t,e){var n,s=this;return n=t&&i.has(t,"constructor")?t.constructor:function(){return s.apply(this,arguments)},i.extend(n,s,e),n.prototype=i.create(s.prototype,t),n.prototype.constructor=n,n.__super__=s.prototype,n};y.extend=b.extend=P.extend=I.extend=R.extend=O;var U=function(){throw new Error('A "url" property or function must be specified')},q=function(t,e){var i=e.error;e.error=function(n){i&&i.call(e.context,t,n,e),t.trigger("error",t,n,e)}};return e});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"jquery":94,"underscore":138}],12:[function(require,module,exports){
"use strict";function getLens(o){var r=o.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=o.indexOf("=");return-1===e&&(e=r),[e,e===r?0:4-e%4]}function byteLength(o){var r=getLens(o),e=r[0],t=r[1];return 3*(e+t)/4-t}function _byteLength(o,r,e){return 3*(r+e)/4-e}function toByteArray(o){var r,e,t=getLens(o),n=t[0],u=t[1],p=new Arr(_byteLength(o,n,u)),a=0,h=u>0?n-4:n;for(e=0;e<h;e+=4)r=revLookup[o.charCodeAt(e)]<<18|revLookup[o.charCodeAt(e+1)]<<12|revLookup[o.charCodeAt(e+2)]<<6|revLookup[o.charCodeAt(e+3)],p[a++]=r>>16&255,p[a++]=r>>8&255,p[a++]=255&r;return 2===u&&(r=revLookup[o.charCodeAt(e)]<<2|revLookup[o.charCodeAt(e+1)]>>4,p[a++]=255&r),1===u&&(r=revLookup[o.charCodeAt(e)]<<10|revLookup[o.charCodeAt(e+1)]<<4|revLookup[o.charCodeAt(e+2)]>>2,p[a++]=r>>8&255,p[a++]=255&r),p}function tripletToBase64(o){return lookup[o>>18&63]+lookup[o>>12&63]+lookup[o>>6&63]+lookup[63&o]}function encodeChunk(o,r,e){for(var t,n=[],u=r;u<e;u+=3)t=(o[u]<<16&16711680)+(o[u+1]<<8&65280)+(255&o[u+2]),n.push(tripletToBase64(t));return n.join("")}function fromByteArray(o){for(var r,e=o.length,t=e%3,n=[],u=0,p=e-t;u<p;u+=16383)n.push(encodeChunk(o,u,u+16383>p?p:u+16383));return 1===t?(r=o[e-1],n.push(lookup[r>>2]+lookup[r<<4&63]+"==")):2===t&&(r=(o[e-2]<<8)+o[e-1],n.push(lookup[r>>10]+lookup[r>>4&63]+lookup[r<<2&63]+"=")),n.join("")}exports.byteLength=byteLength,exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63;
},{}],13:[function(require,module,exports){
require("../../js/transition.js"),require("../../js/alert.js"),require("../../js/button.js"),require("../../js/carousel.js"),require("../../js/collapse.js"),require("../../js/dropdown.js"),require("../../js/modal.js"),require("../../js/tooltip.js"),require("../../js/popover.js"),require("../../js/scrollspy.js"),require("../../js/tab.js"),require("../../js/affix.js");
},{"../../js/affix.js":14,"../../js/alert.js":15,"../../js/button.js":16,"../../js/carousel.js":17,"../../js/collapse.js":18,"../../js/dropdown.js":19,"../../js/modal.js":20,"../../js/popover.js":21,"../../js/scrollspy.js":22,"../../js/tab.js":23,"../../js/tooltip.js":24,"../../js/transition.js":25}],14:[function(require,module,exports){
+function(t){"use strict";function i(i){return this.each(function(){var o=t(this),f=o.data("bs.affix"),n="object"==typeof i&&i;f||o.data("bs.affix",f=new e(this,n)),"string"==typeof i&&f[i]()})}var e=function(i,o){this.options=t.extend({},e.DEFAULTS,o);var f=this.options.target===e.DEFAULTS.target?t(this.options.target):t(document).find(this.options.target);this.$target=f.on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(i),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};e.VERSION="3.4.1",e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0,target:window},e.prototype.getState=function(t,i,e,o){var f=this.$target.scrollTop(),n=this.$element.offset(),s=this.$target.height();if(null!=e&&"top"==this.affixed)return f<e&&"top";if("bottom"==this.affixed)return null!=e?!(f+this.unpin<=n.top)&&"bottom":!(f+s<=t-o)&&"bottom";var a=null==this.affixed,h=a?f:n.top,r=a?s:i;return null!=e&&f<=e?"top":null!=o&&h+r>=t-o&&"bottom"},e.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(e.RESET).addClass("affix");var t=this.$target.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-t},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var i=this.$element.height(),o=this.options.offset,f=o.top,n=o.bottom,s=Math.max(t(document).height(),t(document.body).height());"object"!=typeof o&&(n=f=o),"function"==typeof f&&(f=o.top(this.$element)),"function"==typeof n&&(n=o.bottom(this.$element));var a=this.getState(s,i,f,n);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var h="affix"+(a?"-"+a:""),r=t.Event(h+".bs.affix");if(this.$element.trigger(r),r.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(e.RESET).addClass(h).trigger(h.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-i-n})}};var o=t.fn.affix;t.fn.affix=i,t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=o,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),o=e.data();o.offset=o.offset||{},null!=o.offsetBottom&&(o.offset.bottom=o.offsetBottom),null!=o.offsetTop&&(o.offset.top=o.offsetTop),i.call(e,o)})})}(jQuery);
},{}],15:[function(require,module,exports){
+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),r=a.data("bs.alert");r||a.data("bs.alert",r=new n(this)),"string"==typeof e&&r[e].call(a)})}var a='[data-dismiss="alert"]',n=function(e){t(e).on("click",a,this.close)};n.VERSION="3.4.1",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function a(){o.detach().trigger("closed.bs.alert").remove()}var r=t(this),s=r.attr("data-target");s||(s=r.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,"")),s="#"===s?[]:s;var o=t(document).find(s);e&&e.preventDefault(),o.length||(o=r.closest(".alert")),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",a).emulateTransitionEnd(n.TRANSITION_DURATION):a())};var r=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",a,n.prototype.close)}(jQuery);
},{}],16:[function(require,module,exports){
+function(t){"use strict";function e(e){return this.each(function(){var s=t(this),i=s.data("bs.button"),o="object"==typeof e&&e;i||s.data("bs.button",i=new n(this,o)),"toggle"==e?i.toggle():e&&i.setState(e)})}var n=function(e,s){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,s),this.isLoading=!1};n.VERSION="3.4.1",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",s=this.$element,i=s.is("input")?"val":"html",o=s.data();e+="Text",null==o.resetText&&s.data("resetText",s[i]()),setTimeout(t.proxy(function(){s[i](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,s.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,s.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var s=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=s,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var s=t(n.target).closest(".btn");e.call(s,"toggle"),t(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),s.is("input,button")?s.trigger("focus"):s.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery);
},{}],17:[function(require,module,exports){
+function(t){"use strict";function e(e){return this.each(function(){var s=t(this),n=s.data("bs.carousel"),a=t.extend({},i.DEFAULTS,s.data(),"object"==typeof e&&e),r="string"==typeof e?e:a.slide;n||s.data("bs.carousel",n=new i(this,a)),"number"==typeof e?n.to(e):r?n[r]():a.interval&&n.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.4.1",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e);if(("prev"==t&&0===i||"next"==t&&i==this.$items.length-1)&&!this.options.wrap)return e;var s="prev"==t?-1:1,n=(i+s)%this.$items.length;return this.$items.eq(n)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){if(!this.sliding)return this.slide("next")},i.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},i.prototype.slide=function(e,s){var n=this.$element.find(".item.active"),a=s||this.getItemForDirection(e,n),r=this.interval,o="next"==e?"left":"right",l=this;if(a.hasClass("active"))return this.sliding=!1;var h=a[0],c=t.Event("slide.bs.carousel",{relatedTarget:h,direction:o});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(a)]);d&&d.addClass("active")}var u=t.Event("slid.bs.carousel",{relatedTarget:h,direction:o});return t.support.transition&&this.$element.hasClass("slide")?(a.addClass(e),"object"==typeof a&&a.length&&a[0].offsetWidth,n.addClass(o),a.addClass(o),n.one("bsTransitionEnd",function(){a.removeClass([e,o].join(" ")).addClass("active"),n.removeClass(["active",o].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(u)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(n.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger(u)),r&&this.cycle(),this}};var s=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=s,this};var n=function(i){var s=t(this),n=s.attr("href");n&&(n=n.replace(/.*(?=#[^\s]+$)/,""));var a=s.attr("data-target")||n,r=t(document).find(a);if(r.hasClass("carousel")){var o=t.extend({},r.data(),s.data()),l=s.attr("data-slide-to");l&&(o.interval=!1),e.call(r,o),l&&r.data("bs.carousel").to(l),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",n).on("click.bs.carousel.data-api","[data-slide-to]",n),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery);
},{}],18:[function(require,module,exports){
+function(t){"use strict";function e(e){var a,s=e.attr("data-target")||(a=e.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,"");return t(document).find(s)}function a(e){return this.each(function(){var a=t(this),i=a.data("bs.collapse"),n=t.extend({},s.DEFAULTS,a.data(),"object"==typeof e&&e);!i&&n.toggle&&/show|hide/.test(e)&&(n.toggle=!1),i||a.data("bs.collapse",i=new s(this,n)),"string"==typeof e&&i[e]()})}var s=function(e,a){this.$element=t(e),this.options=t.extend({},s.DEFAULTS,a),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};s.VERSION="3.4.1",s.TRANSITION_DURATION=350,s.DEFAULTS={toggle:!0},s.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},s.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(e=i.data("bs.collapse"))&&e.transitioning)){var n=t.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){i&&i.length&&(a.call(i,"hide"),e||i.data("bs.collapse",null));var l=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[l](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[l](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return o.call(this);var r=t.camelCase(["scroll",l].join("-"));this.$element.one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(s.TRANSITION_DURATION)[l](this.$element[0][r])}}}},s.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var a=this.dimension();this.$element[a](this.$element[a]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!t.support.transition)return i.call(this);this.$element[a](0).one("bsTransitionEnd",t.proxy(i,this)).emulateTransitionEnd(s.TRANSITION_DURATION)}}},s.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},s.prototype.getParent=function(){return t(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(a,s){var i=t(s);this.addAriaAndCollapsedClass(e(i),i)},this)).end()},s.prototype.addAriaAndCollapsedClass=function(t,e){var a=t.hasClass("in");t.attr("aria-expanded",a),e.toggleClass("collapsed",!a).attr("aria-expanded",a)};var i=t.fn.collapse;t.fn.collapse=a,t.fn.collapse.Constructor=s,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(s){var i=t(this);i.attr("data-target")||s.preventDefault();var n=e(i),l=n.data("bs.collapse"),o=l?"toggle":i.data();a.call(n,o)})}(jQuery);
},{}],19:[function(require,module,exports){
+function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var o="#"!==n?t(document).find(n):null;return o&&o.length?o:e.parent()}function n(n){n&&3===n.which||(t(r).remove(),t(a).each(function(){var o=t(this),r=e(o),a={relatedTarget:this};r.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(r[0],n.target)||(r.trigger(n=t.Event("hide.bs.dropdown",a)),n.isDefaultPrevented()||(o.attr("aria-expanded","false"),r.removeClass("open").trigger(t.Event("hidden.bs.dropdown",a)))))}))}function o(e){return this.each(function(){var n=t(this),o=n.data("bs.dropdown");o||n.data("bs.dropdown",o=new d(this)),"string"==typeof e&&o[e].call(n)})}var r=".dropdown-backdrop",a='[data-toggle="dropdown"]',d=function(e){t(e).on("click.bs.dropdown",this.toggle)};d.VERSION="3.4.1",d.prototype.toggle=function(o){var r=t(this);if(!r.is(".disabled, :disabled")){var a=e(r),d=a.hasClass("open");if(n(),!d){"ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var i={relatedTarget:this};if(a.trigger(o=t.Event("show.bs.dropdown",i)),o.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),a.toggleClass("open").trigger(t.Event("shown.bs.dropdown",i))}return!1}},d.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var o=t(this);if(n.preventDefault(),n.stopPropagation(),!o.is(".disabled, :disabled")){var r=e(o),d=r.hasClass("open");if(!d&&27!=n.which||d&&27==n.which)return 27==n.which&&r.find(a).trigger("focus"),o.trigger("click");var i=r.find(".dropdown-menu li:not(.disabled):visible a");if(i.length){var s=i.index(n.target);38==n.which&&s>0&&s--,40==n.which&&s<i.length-1&&s++,~s||(s=0),i.eq(s).trigger("focus")}}}};var i=t.fn.dropdown;t.fn.dropdown=o,t.fn.dropdown.Constructor=d,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=i,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",a,d.prototype.toggle).on("keydown.bs.dropdown.data-api",a,d.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",d.prototype.keydown)}(jQuery);
},{}],20:[function(require,module,exports){
+function(t){"use strict";function e(e,o){return this.each(function(){var s=t(this),n=s.data("bs.modal"),a=t.extend({},i.DEFAULTS,s.data(),"object"==typeof e&&e);n||s.data("bs.modal",n=new i(this,a)),"string"==typeof e?n[e](o):a.show&&n.show(o)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.4.1",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var o=this,s=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(s),this.isShown||s.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){o.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(o.$element)&&(o.ignoreBackdropClick=!0)})}),this.backdrop(function(){var s=t.support.transition&&o.$element.hasClass("fade");o.$element.parent().length||o.$element.appendTo(o.$body),o.$element.show().scrollTop(0),o.adjustDialog(),s&&o.$element[0].offsetWidth,o.$element.addClass("in"),o.enforceFocus();var n=t.Event("shown.bs.modal",{relatedTarget:e});s?o.$dialog.one("bsTransitionEnd",function(){o.$element.trigger("focus").trigger(n)}).emulateTransitionEnd(i.TRANSITION_DURATION):o.$element.trigger("focus").trigger(n)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var o=this,s=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&s;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+s).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){if(this.ignoreBackdropClick)return void(this.ignoreBackdropClick=!1);t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){o.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var i=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",e+i),t(this.fixedContent).each(function(e,o){var s=o.style.paddingRight,n=t(o).css("padding-right");t(o).data("padding-right",s).css("padding-right",parseFloat(n)+i+"px")}))},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),t(this.fixedContent).each(function(e,i){var o=t(i).data("padding-right");t(i).removeData("padding-right"),i.style.paddingRight=o||""})},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var o=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=o,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var o=t(this),s=o.attr("href"),n=o.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,""),a=t(document).find(n),d=a.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(s)&&s},a.data(),o.data());o.is("a")&&i.preventDefault(),a.one("show.bs.modal",function(t){t.isDefaultPrevented()||a.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),e.call(a,d,this)})}(jQuery);
},{}],21:[function(require,module,exports){
+function(t){"use strict";function o(o){return this.each(function(){var n=t(this),i=n.data("bs.popover"),r="object"==typeof o&&o;!i&&/destroy|hide/.test(o)||(i||n.data("bs.popover",i=new e(this,r)),"string"==typeof o&&i[o]())})}var e=function(t,o){this.init("popover",t,o)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.VERSION="3.4.1",e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),o=this.getTitle(),e=this.getContent();if(this.options.html){var n=typeof e;this.options.sanitize&&(o=this.sanitizeHtml(o),"string"===n&&(e=this.sanitizeHtml(e))),t.find(".popover-title").html(o),t.find(".popover-content").children().detach().end()["string"===n?"html":"append"](e)}else t.find(".popover-title").text(o),t.find(".popover-content").children().detach().end().text(e);t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,o=this.options;return t.attr("data-content")||("function"==typeof o.content?o.content.call(t[0]):o.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=o,t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery);
},{}],22:[function(require,module,exports){
+function(t){"use strict";function s(e,i){this.$body=t(document.body),this.$scrollElement=t(t(e).is(document.body)?window:e),this.options=t.extend({},s.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function e(e){return this.each(function(){var i=t(this),o=i.data("bs.scrollspy"),r="object"==typeof e&&e;o||i.data("bs.scrollspy",o=new s(this,r)),"string"==typeof e&&o[e]()})}s.VERSION="3.4.1",s.DEFAULTS={offset:10},s.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},s.prototype.refresh=function(){var s=this,e="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(e="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var s=t(this),o=s.data("target")||s.attr("href"),r=/^#./.test(o)&&t(o);return r&&r.length&&r.is(":visible")&&[[r[e]().top+i,o]]||null}).sort(function(t,s){return t[0]-s[0]}).each(function(){s.offsets.push(this[0]),s.targets.push(this[1])})},s.prototype.process=function(){var t,s=this.$scrollElement.scrollTop()+this.options.offset,e=this.getScrollHeight(),i=this.options.offset+e-this.$scrollElement.height(),o=this.offsets,r=this.targets,l=this.activeTarget;if(this.scrollHeight!=e&&this.refresh(),s>=i)return l!=(t=r[r.length-1])&&this.activate(t);if(l&&s<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)l!=r[t]&&s>=o[t]&&(void 0===o[t+1]||s<o[t+1])&&this.activate(r[t])},s.prototype.activate=function(s){this.activeTarget=s,this.clear();var e=this.selector+'[data-target="'+s+'"],'+this.selector+'[href="'+s+'"]',i=t(e).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},s.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=e,t.fn.scrollspy.Constructor=s,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var s=t(this);e.call(s,s.data())})})}(jQuery);
},{}],23:[function(require,module,exports){
+function(t){"use strict";function a(a){return this.each(function(){var n=t(this),i=n.data("bs.tab");i||n.data("bs.tab",i=new e(this)),"string"==typeof a&&i[a]()})}var e=function(a){this.element=t(a)};e.VERSION="3.4.1",e.TRANSITION_DURATION=150,e.prototype.show=function(){var a=this.element,e=a.closest("ul:not(.dropdown-menu)"),n=a.data("target");if(n||(n=a.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!a.parent("li").hasClass("active")){var i=e.find(".active:last a"),r=t.Event("hide.bs.tab",{relatedTarget:a[0]}),s=t.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(r),a.trigger(s),!s.isDefaultPrevented()&&!r.isDefaultPrevented()){var d=t(document).find(n);this.activate(a.closest("li"),e),this.activate(d,d.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:a[0]}),a.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},e.prototype.activate=function(a,n,i){function r(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),a.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),d?(a[0].offsetWidth,a.addClass("in")):a.removeClass("fade"),a.parent(".dropdown-menu").length&&a.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var s=n.find("> .active"),d=i&&t.support.transition&&(s.length&&s.hasClass("fade")||!!n.find("> .fade").length);s.length&&d?s.one("bsTransitionEnd",r).emulateTransitionEnd(e.TRANSITION_DURATION):r(),s.removeClass("in")};var n=t.fn.tab;t.fn.tab=a,t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var i=function(e){e.preventDefault(),a.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery);
},{}],24:[function(require,module,exports){
+function(t){"use strict";function e(e,i){var o=e.nodeName.toLowerCase();if(-1!==t.inArray(o,i))return-1===t.inArray(o,s)||Boolean(e.nodeValue.match(l)||e.nodeValue.match(p));for(var n=t(i).filter(function(t,e){return e instanceof RegExp}),r=0,a=n.length;r<a;r++)if(o.match(n[r]))return!0;return!1}function i(i,o,n){if(0===i.length)return i;if(n&&"function"==typeof n)return n(i);if(!document.implementation||!document.implementation.createHTMLDocument)return i;var s=document.implementation.createHTMLDocument("sanitization");s.body.innerHTML=i;for(var r=t.map(o,function(t,e){return e}),a=t(s.body).find("*"),l=0,p=a.length;l<p;l++){var h=a[l],f=h.nodeName.toLowerCase();if(-1!==t.inArray(f,r))for(var u=t.map(h.attributes,function(t){return t}),c=[].concat(o["*"]||[],o[f]||[]),d=0,m=u.length;d<m;d++)e(u[d],c)||h.removeAttribute(u[d].nodeName);else h.parentNode.removeChild(h)}return s.body.innerHTML}function o(e){return this.each(function(){var i=t(this),o=i.data("bs.tooltip"),n="object"==typeof e&&e;!o&&/destroy|hide/.test(e)||(o||i.data("bs.tooltip",o=new h(this,n)),"string"==typeof e&&o[e]())})}var n=["sanitize","whiteList","sanitizeFn"],s=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],r=/^aria-[\w-]*$/i,a={"*":["class","dir","id","lang","role",r],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},l=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,p=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i,h=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};h.VERSION="3.4.1",h.TRANSITION_DURATION=150,h.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0},sanitize:!0,sanitizeFn:null,whiteList:a},h.prototype.init=function(e,i,o){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(o),this.$viewport=this.options.viewport&&t(document).find(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var n=this.options.trigger.split(" "),s=n.length;s--;){var r=n[s];if("click"==r)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=r){var a="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},h.prototype.getDefaults=function(){return h.DEFAULTS},h.prototype.getOptions=function(e){var o=this.$element.data();for(var s in o)o.hasOwnProperty(s)&&-1!==t.inArray(s,n)&&delete o[s];return e=t.extend({},this.getDefaults(),o,e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e.sanitize&&(e.template=i(e.template,e.whiteList,e.sanitizeFn)),e},h.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,o){i[t]!=o&&(e[t]=o)}),e},h.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},h.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},h.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),!i.isInStateTrue()){if(clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)}},h.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var o=this,n=this.tip(),s=this.getUID(this.type);this.setContent(),n.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&n.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,l=a.test(r);l&&(r=r.replace(a,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?n.appendTo(t(document).find(this.options.container)):n.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var p=this.getPosition(),f=n[0].offsetWidth,u=n[0].offsetHeight;if(l){var c=r,d=this.getPosition(this.$viewport);r="bottom"==r&&p.bottom+u>d.bottom?"top":"top"==r&&p.top-u<d.top?"bottom":"right"==r&&p.right+f>d.width?"left":"left"==r&&p.left-f<d.left?"right":r,n.removeClass(c).addClass(r)}var m=this.getCalculatedOffset(r,p,f,u);this.applyPlacement(m,r);var g=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?n.one("bsTransitionEnd",g).emulateTransitionEnd(h.TRANSITION_DURATION):g()}},h.prototype.applyPlacement=function(e,i){var o=this.tip(),n=o[0].offsetWidth,s=o[0].offsetHeight,r=parseInt(o.css("margin-top"),10),a=parseInt(o.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(a)&&(a=0),e.top+=r,e.left+=a,t.offset.setOffset(o[0],t.extend({using:function(t){o.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),o.addClass("in");var l=o[0].offsetWidth,p=o[0].offsetHeight;"top"==i&&p!=s&&(e.top=e.top+s-p);var h=this.getViewportAdjustedDelta(i,e,l,p);h.left?e.left+=h.left:e.top+=h.top;var f=/top|bottom/.test(i),u=f?2*h.left-n+l:2*h.top-s+p,c=f?"offsetWidth":"offsetHeight";o.offset(e),this.replaceArrow(u,o[0][c],f)},h.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},h.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();this.options.html?(this.options.sanitize&&(e=i(e,this.options.whiteList,this.options.sanitizeFn)),t.find(".tooltip-inner").html(e)):t.find(".tooltip-inner").text(e),t.removeClass("fade in top bottom left right")},h.prototype.hide=function(e){function i(){"in"!=o.hoverState&&n.detach(),o.$element&&o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),e&&e()}var o=this,n=t(this.$tip),s=t.Event("hide.bs."+this.type);if(this.$element.trigger(s),!s.isDefaultPrevented())return n.removeClass("in"),t.support.transition&&n.hasClass("fade")?n.one("bsTransitionEnd",i).emulateTransitionEnd(h.TRANSITION_DURATION):i(),this.hoverState=null,this},h.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},h.prototype.hasContent=function(){return this.getTitle()},h.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],o="BODY"==i.tagName,n=i.getBoundingClientRect();null==n.width&&(n=t.extend({},n,{width:n.right-n.left,height:n.bottom-n.top}));var s=window.SVGElement&&i instanceof window.SVGElement,r=o?{top:0,left:0}:s?null:e.offset(),a={scroll:o?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=o?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},n,a,l,r)},h.prototype.getCalculatedOffset=function(t,e,i,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},h.prototype.getViewportAdjustedDelta=function(t,e,i,o){var n={top:0,left:0};if(!this.$viewport)return n;var s=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-s-r.scroll,l=e.top+s-r.scroll+o;a<r.top?n.top=r.top-a:l>r.top+r.height&&(n.top=r.top+r.height-l)}else{var p=e.left-s,h=e.left+s+i;p<r.left?n.left=r.left-p:h>r.right&&(n.left=r.left+r.width-h)}return n},h.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},h.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},h.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},h.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},h.prototype.enable=function(){this.enabled=!0},h.prototype.disable=function(){this.enabled=!1},h.prototype.toggleEnabled=function(){this.enabled=!this.enabled},h.prototype.toggle=function(e){var i=this;e&&((i=t(e.currentTarget).data("bs."+this.type))||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},h.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})},h.prototype.sanitizeHtml=function(t){return i(t,this.options.whiteList,this.options.sanitizeFn)};var f=t.fn.tooltip;t.fn.tooltip=o,t.fn.tooltip.Constructor=h,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=f,this}}(jQuery);
},{}],25:[function(require,module,exports){
+function(n){"use strict";function t(){var n=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==n.style[i])return{end:t[i]};return!1}n.fn.emulateTransitionEnd=function(t){var i=!1,r=this;n(this).one("bsTransitionEnd",function(){i=!0});var e=function(){i||n(r).trigger(n.support.transition.end)};return setTimeout(e,t),this},n(function(){n.support.transition=t(),n.support.transition&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery);
},{}],26:[function(require,module,exports){
"use strict";function brackets2dots(t){return"[object String]"=={}.toString.call(t)?t.replace(REPLACE_BRACKETS,".$1").replace(LFT_RT_TRIM_DOTS,""):""}module.exports=brackets2dots;var REPLACE_BRACKETS=/\[([^\[\]]+)\]/g,LFT_RT_TRIM_DOTS=/^[.]*|[.]*$/g;
},{}],27:[function(require,module,exports){
(function (Buffer){
"use strict";function typedArraySupport(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}function createBuffer(e){if(e>K_MAX_LENGTH)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=Buffer.prototype,t}function Buffer(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(e)}return from(e,t,r)}function from(e,t,r){if("string"==typeof e)return fromString(e,t);if(ArrayBuffer.isView(e))return fromArrayLike(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(isInstance(e,ArrayBuffer)||e&&isInstance(e.buffer,ArrayBuffer))return fromArrayBuffer(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return Buffer.from(n,t,r);var f=fromObject(e);if(f)return f;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return Buffer.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function alloc(e,t,r){return assertSize(e),e<=0?createBuffer(e):void 0!==t?"string"==typeof r?createBuffer(e).fill(t,r):createBuffer(e).fill(t):createBuffer(e)}function allocUnsafe(e){return assertSize(e),createBuffer(e<0?0:0|checked(e))}function fromString(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!Buffer.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|byteLength(e,t),n=createBuffer(r),f=n.write(e,t);return f!==r&&(n=n.slice(0,f)),n}function fromArrayLike(e){for(var t=e.length<0?0:0|checked(e.length),r=createBuffer(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function fromArrayBuffer(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),n.__proto__=Buffer.prototype,n}function fromObject(e){if(Buffer.isBuffer(e)){var t=0|checked(e.length),r=createBuffer(t);return 0===r.length?r:(e.copy(r,0,0,t),r)}return void 0!==e.length?"number"!=typeof e.length||numberIsNaN(e.length)?createBuffer(0):fromArrayLike(e):"Buffer"===e.type&&Array.isArray(e.data)?fromArrayLike(e.data):void 0}function checked(e){if(e>=K_MAX_LENGTH)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return 0|e}function SlowBuffer(e){return+e!=e&&(e=0),Buffer.alloc(+e)}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||isInstance(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var f=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(f)return n?-1:utf8ToBytes(e).length;t=(""+t).toLowerCase(),f=!0}}function slowToString(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function swap(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function bidirectionalIndexOf(e,t,r,n,f){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,numberIsNaN(r)&&(r=f?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(f)return-1;r=e.length-1}else if(r<0){if(!f)return-1;r=0}if("string"==typeof t&&(t=Buffer.from(t,n)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,n,f);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?f?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,n,f);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,n,f){function i(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,u=e.length,s=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,u/=2,s/=2,r/=2}var a;if(f){var h=-1;for(a=r;a<u;a++)if(i(e,a)===i(t,-1===h?0:a-h)){if(-1===h&&(h=a),a-h+1===s)return h*o}else-1!==h&&(a-=a-h),h=-1}else for(r+s>u&&(r=u-s),a=r;a>=0;a--){for(var c=!0,l=0;l<s;l++)if(i(e,a+l)!==i(t,l)){c=!1;break}if(c)return a}return-1}function hexWrite(e,t,r,n){r=Number(r)||0;var f=e.length-r;n?(n=Number(n))>f&&(n=f):n=f;var i=t.length;n>i/2&&(n=i/2);for(var o=0;o<n;++o){var u=parseInt(t.substr(2*o,2),16);if(numberIsNaN(u))return o;e[r+o]=u}return o}function utf8Write(e,t,r,n){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,n)}function asciiWrite(e,t,r,n){return blitBuffer(asciiToBytes(t),e,r,n)}function latin1Write(e,t,r,n){return asciiWrite(e,t,r,n)}function base64Write(e,t,r,n){return blitBuffer(base64ToBytes(t),e,r,n)}function ucs2Write(e,t,r,n){return blitBuffer(utf16leToBytes(t,e.length-r),e,r,n)}function base64Slice(e,t,r){return 0===t&&r===e.length?base64.fromByteArray(e):base64.fromByteArray(e.slice(t,r))}function utf8Slice(e,t,r){r=Math.min(e.length,r);for(var n=[],f=t;f<r;){var i=e[f],o=null,u=i>239?4:i>223?3:i>191?2:1;if(f+u<=r){var s,a,h,c;switch(u){case 1:i<128&&(o=i);break;case 2:s=e[f+1],128==(192&s)&&(c=(31&i)<<6|63&s)>127&&(o=c);break;case 3:s=e[f+1],a=e[f+2],128==(192&s)&&128==(192&a)&&(c=(15&i)<<12|(63&s)<<6|63&a)>2047&&(c<55296||c>57343)&&(o=c);break;case 4:s=e[f+1],a=e[f+2],h=e[f+3],128==(192&s)&&128==(192&a)&&128==(192&h)&&(c=(15&i)<<18|(63&s)<<12|(63&a)<<6|63&h)>65535&&c<1114112&&(o=c)}}null===o?(o=65533,u=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),f+=u}return decodeCodePointsArray(n)}function decodeCodePointsArray(e){var t=e.length;if(t<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}function asciiSlice(e,t,r){var n="";r=Math.min(e.length,r);for(var f=t;f<r;++f)n+=String.fromCharCode(127&e[f]);return n}function latin1Slice(e,t,r){var n="";r=Math.min(e.length,r);for(var f=t;f<r;++f)n+=String.fromCharCode(e[f]);return n}function hexSlice(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var f="",i=t;i<r;++i)f+=toHex(e[i]);return f}function utf16leSlice(e,t,r){for(var n=e.slice(t,r),f="",i=0;i<n.length;i+=2)f+=String.fromCharCode(n[i]+256*n[i+1]);return f}function checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,n,f,i){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>f||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function checkIEEE754(e,t,r,n,f,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,t,r,n,f){return t=+t,r>>>=0,f||checkIEEE754(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(e,t,r,n,23,4),r+4}function writeDouble(e,t,r,n,f){return t=+t,r>>>=0,f||checkIEEE754(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(e,t,r,n,52,8),r+8}function base64clean(e){if(e=e.split("=")[0],e=e.trim().replace(INVALID_BASE64_RE,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){t=t||1/0;for(var r,n=e.length,f=null,i=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!f){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}f=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),f=r;continue}r=65536+(f-55296<<10|r-56320)}else f&&(t-=3)>-1&&i.push(239,191,189);if(f=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function asciiToBytes(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function utf16leToBytes(e,t){for(var r,n,f,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,f=r%256,i.push(f),i.push(n);return i}function base64ToBytes(e){return base64.toByteArray(base64clean(e))}function blitBuffer(e,t,r,n){for(var f=0;f<n&&!(f+r>=t.length||f>=e.length);++f)t[f+r]=e[f];return f}function isInstance(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function numberIsNaN(e){return e!==e}var base64=require("base64-js"),ieee754=require("ieee754");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=2147483647;exports.kMaxLength=K_MAX_LENGTH,Buffer.TYPED_ARRAY_SUPPORT=typedArraySupport(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),Buffer.poolSize=8192,Buffer.from=function(e,t,r){return from(e,t,r)},Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,Buffer.alloc=function(e,t,r){return alloc(e,t,r)},Buffer.allocUnsafe=function(e){return allocUnsafe(e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(e)},Buffer.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==Buffer.prototype},Buffer.compare=function(e,t){if(isInstance(e,Uint8Array)&&(e=Buffer.from(e,e.offset,e.byteLength)),isInstance(t,Uint8Array)&&(t=Buffer.from(t,t.offset,t.byteLength)),!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,f=0,i=Math.min(r,n);f<i;++f)if(e[f]!==t[f]){r=e[f],n=t[f];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=Buffer.allocUnsafe(t),f=0;for(r=0;r<e.length;++r){var i=e[r];if(isInstance(i,Uint8Array)&&(i=Buffer.from(i)),!Buffer.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,f),f+=i.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function(){var e="",t=exports.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},Buffer.prototype.compare=function(e,t,r,n,f){if(isInstance(e,Uint8Array)&&(e=Buffer.from(e,e.offset,e.byteLength)),!Buffer.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===f&&(f=this.length),t<0||r>e.length||n<0||f>this.length)throw new RangeError("out of range index");if(n>=f&&t>=r)return 0;if(n>=f)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,f>>>=0,this===e)return 0;for(var i=f-n,o=r-t,u=Math.min(i,o),s=this.slice(n,f),a=e.slice(t,r),h=0;h<u;++h)if(s[h]!==a[h]){i=s[h],o=a[h];break}return i<o?-1:o<i?1:0},Buffer.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},Buffer.prototype.indexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer.prototype.lastIndexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var f=this.length-t;if((void 0===r||r>f)&&(r=f),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":return asciiWrite(this,e,t,r);case"latin1":case"binary":return latin1Write(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=Buffer.prototype,n},Buffer.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e],f=1,i=0;++i<t&&(f*=256);)n+=this[e+i]*f;return n},Buffer.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e+--t],f=1;t>0&&(f*=256);)n+=this[e+--t]*f;return n},Buffer.prototype.readUInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e],f=1,i=0;++i<t&&(f*=256);)n+=this[e+i]*f;return f*=128,n>=f&&(n-=Math.pow(2,8*t)),n},Buffer.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=t,f=1,i=this[e+--n];n>0&&(f*=256);)i+=this[e+--n]*f;return f*=128,i>=f&&(i-=Math.pow(2,8*t)),i},Buffer.prototype.readInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),ieee754.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),ieee754.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),ieee754.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),ieee754.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){checkInt(this,e,t,r,Math.pow(2,8*r)-1,0)}var f=1,i=0;for(this[t]=255&e;++i<r&&(f*=256);)this[t+i]=e/f&255;return t+r},Buffer.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){checkInt(this,e,t,r,Math.pow(2,8*r)-1,0)}var f=r-1,i=1;for(this[t+f]=255&e;--f>=0&&(i*=256);)this[t+f]=e/i&255;return t+r},Buffer.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,255,0),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},Buffer.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,e,t,r,f-1,-f)}var i=0,o=1,u=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===u&&0!==this[t+i-1]&&(u=1),this[t+i]=(e/o>>0)-u&255;return t+r},Buffer.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,e,t,r,f-1,-f)}var i=r-1,o=1,u=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===u&&0!==this[t+i+1]&&(u=1),this[t+i]=(e/o>>0)-u&255;return t+r},Buffer.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},Buffer.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeFloatLE=function(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer.prototype.writeFloatBE=function(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer.prototype.writeDoubleLE=function(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer.prototype.writeDoubleBE=function(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer.prototype.copy=function(e,t,r,n){if(!Buffer.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var f=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var i=f-1;i>=0;--i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return f},Buffer.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var f=e.charCodeAt(0);("utf8"===n&&f<128||"latin1"===n)&&(e=f)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var i;if("number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=Buffer.isBuffer(e)?e:Buffer.from(e,n),u=o.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%u]}return this};var INVALID_BASE64_RE=/[^+/0-9A-Za-z-_]/g;
}).call(this,require("buffer").Buffer)

},{"base64-js":12,"buffer":27,"ieee754":90}],28:[function(require,module,exports){
function EventEmitter(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=objectCreate(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}function $getMaxListeners(e){return void 0===e._maxListeners?EventEmitter.defaultMaxListeners:e._maxListeners}function emitNone(e,t,n){if(t)e.call(n);else for(var r=e.length,i=arrayClone(e,r),s=0;s<r;++s)i[s].call(n)}function emitOne(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,s=arrayClone(e,i),o=0;o<i;++o)s[o].call(n,r)}function emitTwo(e,t,n,r,i){if(t)e.call(n,r,i);else for(var s=e.length,o=arrayClone(e,s),a=0;a<s;++a)o[a].call(n,r,i)}function emitThree(e,t,n,r,i,s){if(t)e.call(n,r,i,s);else for(var o=e.length,a=arrayClone(e,o),l=0;l<o;++l)a[l].call(n,r,i,s)}function emitMany(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,s=arrayClone(e,i),o=0;o<i;++o)s[o].apply(n,r)}function _addListener(e,t,n,r){var i,s,o;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if(s=e._events,s?(s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]):(s=e._events=objectCreate(null),e._eventsCount=0),o){if("function"==typeof o?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),!o.warned&&(i=$getMaxListeners(e))&&i>0&&o.length>i){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",a.name,a.message)}}else o=s[t]=n,++e._eventsCount;return e}function onceWrapper(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function _onceWrap(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=bind.call(onceWrapper,r);return i.listener=n,r.wrapFn=i,i}function _listeners(e,t,n){var r=e._events;if(!r)return[];var i=r[t];return i?"function"==typeof i?n?[i.listener||i]:[i]:n?unwrapListeners(i):arrayClone(i,i.length):[]}function listenerCount(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function spliceOne(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function arrayClone(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function unwrapListeners(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function objectCreatePolyfill(e){var t=function(){};return t.prototype=e,new t}function objectKeysPolyfill(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n}function functionBindPolyfill(e){var t=this;return function(){return t.apply(e,arguments)}}var objectCreate=Object.create||objectCreatePolyfill,objectKeys=Object.keys||objectKeysPolyfill,bind=Function.prototype.bind||functionBindPolyfill;module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10,hasDefineProperty;try{var o={};Object.defineProperty&&Object.defineProperty(o,"x",{value:0}),hasDefineProperty=0===o.x}catch(e){hasDefineProperty=!1}hasDefineProperty?Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(e){if("number"!=typeof e||e<0||e!==e)throw new TypeError('"defaultMaxListeners" must be a positive number');defaultMaxListeners=e}}):EventEmitter.defaultMaxListeners=defaultMaxListeners,EventEmitter.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},EventEmitter.prototype.getMaxListeners=function(){return $getMaxListeners(this)},EventEmitter.prototype.emit=function(e){var t,n,r,i,s,o,a="error"===e;if(o=this._events)a=a&&null==o.error;else if(!a)return!1;if(a){if(arguments.length>1&&(t=arguments[1]),t instanceof Error)throw t;var l=new Error('Unhandled "error" event. ('+t+")");throw l.context=t,l}if(!(n=o[e]))return!1;var u="function"==typeof n;switch(r=arguments.length){case 1:emitNone(n,u,this);break;case 2:emitOne(n,u,this,arguments[1]);break;case 3:emitTwo(n,u,this,arguments[1],arguments[2]);break;case 4:emitThree(n,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),s=1;s<r;s++)i[s-1]=arguments[s];emitMany(n,u,this,i)}return!0},EventEmitter.prototype.addListener=function(e,t){return _addListener(this,e,t,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(e,t){return _addListener(this,e,t,!0)},EventEmitter.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.removeListener=function(e,t){var n,r,i,s,o;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=objectCreate(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():spliceOne(n,i),1===n.length&&(r[e]=n[0]),r.removeListener&&this.emit("removeListener",e,o||t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n,r;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=objectCreate(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=objectCreate(null):delete n[e]),this;if(0===arguments.length){var i,s=objectKeys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=objectCreate(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},EventEmitter.prototype.listeners=function(e){return _listeners(this,e,!0)},EventEmitter.prototype.rawListeners=function(e){return _listeners(this,e,!1)},EventEmitter.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):listenerCount.call(e,t)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};
},{}],29:[function(require,module,exports){
(function (Buffer){
var clone=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}function t(r,n,o,c,l){function p(r,o){if(null===r)return null;if(0===o)return r;var g,j;if("object"!=typeof r)return r;if(e(r,u))g=new u;else if(e(r,i))g=new i;else if(e(r,a))g=new a(function(e,t){r.then(function(t){e(p(t,o-1))},function(e){t(p(e,o-1))})});else if(t.__isArray(r))g=[];else if(t.__isRegExp(r))g=new RegExp(r.source,f(r)),r.lastIndex&&(g.lastIndex=r.lastIndex);else if(t.__isDate(r))g=new Date(r.getTime());else{if(y&&Buffer.isBuffer(r))return g=Buffer.allocUnsafe?Buffer.allocUnsafe(r.length):new Buffer(r.length),r.copy(g),g;e(r,Error)?g=Object.create(r):void 0===c?(j=Object.getPrototypeOf(r),g=Object.create(j)):(g=Object.create(c),j=c)}if(n){var O=s.indexOf(r);if(-1!=O)return b[O];s.push(r),b.push(g)}e(r,u)&&r.forEach(function(e,t){var r=p(t,o-1),n=p(e,o-1);g.set(r,n)}),e(r,i)&&r.forEach(function(e){var t=p(e,o-1);g.add(t)});for(var v in r){var d;j&&(d=Object.getOwnPropertyDescriptor(j,v)),d&&null==d.set||(g[v]=p(r[v],o-1))}if(Object.getOwnPropertySymbols)for(var m=Object.getOwnPropertySymbols(r),v=0;v<m.length;v++){var _=m[v],h=Object.getOwnPropertyDescriptor(r,_);(!h||h.enumerable||l)&&(g[_]=p(r[_],o-1),h.enumerable||Object.defineProperty(g,_,{enumerable:!1}))}if(l)for(var w=Object.getOwnPropertyNames(r),v=0;v<w.length;v++){var x=w[v],h=Object.getOwnPropertyDescriptor(r,x);h&&h.enumerable||(g[x]=p(r[x],o-1),Object.defineProperty(g,x,{enumerable:!1}))}return g}"object"==typeof n&&(o=n.depth,c=n.prototype,l=n.includeNonEnumerable,n=n.circular);var s=[],b=[],y="undefined"!=typeof Buffer;return void 0===n&&(n=!0),void 0===o&&(o=1/0),p(r,o)}function r(e){return Object.prototype.toString.call(e)}function n(e){return"object"==typeof e&&"[object Date]"===r(e)}function o(e){return"object"==typeof e&&"[object Array]"===r(e)}function c(e){return"object"==typeof e&&"[object RegExp]"===r(e)}function f(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}var u;try{u=Map}catch(e){u=function(){}}var i;try{i=Set}catch(e){i=function(){}}var a;try{a=Promise}catch(e){a=function(){}}return t.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},t.__objToStr=r,t.__isDate=n,t.__isArray=o,t.__isRegExp=c,t.__getRegExpFlags=f,t}();"object"==typeof module&&module.exports&&(module.exports=clone);
}).call(this,require("buffer").Buffer)

},{"buffer":27}],30:[function(require,module,exports){
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):(e=e||self,n(e.curriable={}))}(this,function(e){"use strict";function n(e,n){function r(t){return function(){var u,f=t.length,i=arguments,c=i.length,l=[],a=0,d=n;if(f)for(var y=-1;++y<f;)l[y]=u=t[y]===o&&a<c?i[a++]:t[y],u!==o&&--d;if(a<c)for(;a<c;)l[l.length]=u=i[a],u!==o&&a<n&&--d,++a;return d>0?r(l):e.apply(this,l)}}return r([])}function r(e,r){var t="number"==typeof r?r:e.length,u=n(e,t);return u.arity=t,u.fn=e,u}function t(e){return e===o}function u(e){return e.fn}var o="function"==typeof Symbol?Symbol("curriable placeholder"):60881;r.__=o,r.isPlaceholder=t,r.uncurry=u,e.__=o,e.curry=r,e.default=r,e.isPlaceholder=t,e.uncurry=u,Object.defineProperty(e,"__esModule",{value:!0})});
},{}],31:[function(require,module,exports){
"use strict";function curry2(r,n){var t=function(){return 0===arguments.length?t:arguments.length>1?r.apply(n,arguments):bind.call(r,n,arguments[0])};return t.uncurry=function(){return r},t}var bind=Function.prototype.bind||require("fast-bind");module.exports=curry2;
},{"fast-bind":63}],32:[function(require,module,exports){
module.exports={graphlib:require("./lib/graphlib"),layout:require("./lib/layout"),debug:require("./lib/debug"),util:{time:require("./lib/util").time,notime:require("./lib/util").notime},version:require("./lib/version")};
},{"./lib/debug":37,"./lib/graphlib":38,"./lib/layout":40,"./lib/util":60,"./lib/version":61}],33:[function(require,module,exports){
"use strict";function run(e){var r="greedy"===e.graph().acyclicer?greedyFAS(e,function(e){return function(r){return e.edge(r).weight}}(e)):dfsFAS(e);_.forEach(r,function(r){var d=e.edge(r);e.removeEdge(r),d.forwardName=r.name,d.reversed=!0,e.setEdge(r.w,r.v,d,_.uniqueId("rev"))})}function dfsFAS(e){function r(u){_.has(o,u)||(o[u]=!0,n[u]=!0,_.forEach(e.outEdges(u),function(e){_.has(n,e.w)?d.push(e):r(e.w)}),delete n[u])}var d=[],n={},o={};return _.forEach(e.nodes(),r),d}function undo(e){_.forEach(e.edges(),function(r){var d=e.edge(r);if(d.reversed){e.removeEdge(r);var n=d.forwardName;delete d.reversed,delete d.forwardName,e.setEdge(r.w,r.v,d,n)}})}var _=require("./lodash"),greedyFAS=require("./greedy-fas");module.exports={run:run,undo:undo};
},{"./greedy-fas":39,"./lodash":41}],34:[function(require,module,exports){
function addBorderSegments(r){function e(d){var o=r.children(d),a=r.node(d);if(o.length&&_.forEach(o,e),_.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var t=a.minRank,n=a.maxRank+1;t<n;++t)addBorderNode(r,"borderLeft","_bl",d,a,t),addBorderNode(r,"borderRight","_br",d,a,t)}}_.forEach(r.children(),e)}function addBorderNode(r,e,d,o,a,t){var n={width:0,height:0,rank:t,borderType:e},i=a[e][t-1],h=util.addDummyNode(r,"border",n,d);a[e][t]=h,r.setParent(h,o),i&&r.setEdge(i,h,{weight:1})}var _=require("./lodash"),util=require("./util");module.exports=addBorderSegments;
},{"./lodash":41,"./util":60}],35:[function(require,module,exports){
"use strict";function adjust(e){var n=e.graph().rankdir.toLowerCase();"lr"!==n&&"rl"!==n||swapWidthHeight(e)}function undo(e){var n=e.graph().rankdir.toLowerCase();"bt"!==n&&"rl"!==n||reverseY(e),"lr"!==n&&"rl"!==n||(swapXY(e),swapWidthHeight(e))}function swapWidthHeight(e){_.forEach(e.nodes(),function(n){swapWidthHeightOne(e.node(n))}),_.forEach(e.edges(),function(n){swapWidthHeightOne(e.edge(n))})}function swapWidthHeightOne(e){var n=e.width;e.width=e.height,e.height=n}function reverseY(e){_.forEach(e.nodes(),function(n){reverseYOne(e.node(n))}),_.forEach(e.edges(),function(n){var r=e.edge(n);_.forEach(r.points,reverseYOne),_.has(r,"y")&&reverseYOne(r)})}function reverseYOne(e){e.y=-e.y}function swapXY(e){_.forEach(e.nodes(),function(n){swapXYOne(e.node(n))}),_.forEach(e.edges(),function(n){var r=e.edge(n);_.forEach(r.points,swapXYOne),_.has(r,"x")&&swapXYOne(r)})}function swapXYOne(e){var n=e.x;e.x=e.y,e.y=n}var _=require("./lodash");module.exports={adjust:adjust,undo:undo};
},{"./lodash":41}],36:[function(require,module,exports){
function List(){var e={};e._next=e._prev=e,this._sentinel=e}function unlink(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function filterOutLinks(e,t){if("_next"!==e&&"_prev"!==e)return t}module.exports=List,List.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return unlink(t),t},List.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&unlink(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},List.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,filterOutLinks)),n=n._prev;return"["+e.join(", ")+"]"};
},{}],37:[function(require,module,exports){
function debugOrdering(e){var r=util.buildLayerMatrix(e),n=new Graph({compound:!0,multigraph:!0}).setGraph({});return _.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),_.forEach(e.edges(),function(e){n.setEdge(e.v,e.w,{},e.name)}),_.forEach(r,function(e,r){var a="layer"+r;n.setNode(a,{rank:"same"}),_.reduce(e,function(e,r){return n.setEdge(e,r,{style:"invis"}),r})}),n}var _=require("./lodash"),util=require("./util"),Graph=require("./graphlib").Graph;module.exports={debugOrdering:debugOrdering};
},{"./graphlib":38,"./lodash":41,"./util":60}],38:[function(require,module,exports){
var graphlib;if("function"==typeof require)try{graphlib=require("graphlib")}catch(r){}graphlib||(graphlib=window.graphlib),module.exports=graphlib;
},{"graphlib":64}],39:[function(require,module,exports){
function greedyFAS(e,n){if(e.nodeCount()<=1)return[];var o=buildState(e,n||DEFAULT_WEIGHT_FN),r=doGreedyFAS(o.graph,o.buckets,o.zeroIdx);return _.flatten(_.map(r,function(n){return e.outEdges(n.v,n.w)}),!0)}function doGreedyFAS(e,n,o){for(var r,t=[],u=n[n.length-1],a=n[0];e.nodeCount();){for(;r=a.dequeue();)removeNode(e,n,o,r);for(;r=u.dequeue();)removeNode(e,n,o,r);if(e.nodeCount())for(var d=n.length-2;d>0;--d)if(r=n[d].dequeue()){t=t.concat(removeNode(e,n,o,r,!0));break}}return t}function removeNode(e,n,o,r,t){var u=t?[]:void 0;return _.forEach(e.inEdges(r.v),function(r){var a=e.edge(r),d=e.node(r.v);t&&u.push({v:r.v,w:r.w}),d.out-=a,assignBucket(n,o,d)}),_.forEach(e.outEdges(r.v),function(r){var t=e.edge(r),u=r.w,a=e.node(u);a.in-=t,assignBucket(n,o,a)}),e.removeNode(r.v),u}function buildState(e,n){var o=new Graph,r=0,t=0;_.forEach(e.nodes(),function(e){o.setNode(e,{v:e,in:0,out:0})}),_.forEach(e.edges(),function(e){var u=o.edge(e.v,e.w)||0,a=n(e),d=u+a;o.setEdge(e.v,e.w,d),t=Math.max(t,o.node(e.v).out+=a),r=Math.max(r,o.node(e.w).in+=a)});var u=_.range(t+r+3).map(function(){return new List}),a=r+1;return _.forEach(o.nodes(),function(e){assignBucket(u,a,o.node(e))}),{graph:o,buckets:u,zeroIdx:a}}function assignBucket(e,n,o){o.out?o.in?e[o.out-o.in+n].enqueue(o):e[e.length-1].enqueue(o):e[0].enqueue(o)}var _=require("./lodash"),Graph=require("./graphlib").Graph,List=require("./data/list");module.exports=greedyFAS;var DEFAULT_WEIGHT_FN=_.constant(1);
},{"./data/list":36,"./graphlib":38,"./lodash":41}],40:[function(require,module,exports){
"use strict";function layout(e,n){var r=n&&n.debugTiming?util.time:util.notime;r("layout",function(){var n=r("  buildLayoutGraph",function(){return buildLayoutGraph(e)});r("  runLayout",function(){runLayout(n,r)}),r("  updateInputGraph",function(){updateInputGraph(e,n)})})}function runLayout(e,n){n("    makeSpaceForEdgeLabels",function(){makeSpaceForEdgeLabels(e)}),n("    removeSelfEdges",function(){removeSelfEdges(e)}),n("    acyclic",function(){acyclic.run(e)}),n("    nestingGraph.run",function(){nestingGraph.run(e)}),n("    rank",function(){rank(util.asNonCompoundGraph(e))}),n("    injectEdgeLabelProxies",function(){injectEdgeLabelProxies(e)}),n("    removeEmptyRanks",function(){removeEmptyRanks(e)}),n("    nestingGraph.cleanup",function(){nestingGraph.cleanup(e)}),n("    normalizeRanks",function(){normalizeRanks(e)}),n("    assignRankMinMax",function(){assignRankMinMax(e)}),n("    removeEdgeLabelProxies",function(){removeEdgeLabelProxies(e)}),n("    normalize.run",function(){normalize.run(e)}),n("    parentDummyChains",function(){parentDummyChains(e)}),n("    addBorderSegments",function(){addBorderSegments(e)}),n("    order",function(){order(e)}),n("    insertSelfEdges",function(){insertSelfEdges(e)}),n("    adjustCoordinateSystem",function(){coordinateSystem.adjust(e)}),n("    position",function(){position(e)}),n("    positionSelfEdges",function(){positionSelfEdges(e)}),n("    removeBorderNodes",function(){removeBorderNodes(e)}),n("    normalize.undo",function(){normalize.undo(e)}),n("    fixupEdgeLabelCoords",function(){fixupEdgeLabelCoords(e)}),n("    undoCoordinateSystem",function(){coordinateSystem.undo(e)}),n("    translateGraph",function(){translateGraph(e)}),n("    assignNodeIntersects",function(){assignNodeIntersects(e)}),n("    reversePoints",function(){reversePointsForReversedEdges(e)}),n("    acyclic.undo",function(){acyclic.undo(e)})}function updateInputGraph(e,n){_.forEach(e.nodes(),function(r){var o=e.node(r),t=n.node(r);o&&(o.x=t.x,o.y=t.y,n.children(r).length&&(o.width=t.width,o.height=t.height))}),_.forEach(e.edges(),function(r){var o=e.edge(r),t=n.edge(r);o.points=t.points,_.has(t,"x")&&(o.x=t.x,o.y=t.y)}),e.graph().width=n.graph().width,e.graph().height=n.graph().height}function buildLayoutGraph(e){var n=new Graph({multigraph:!0,compound:!0}),r=canonicalize(e.graph());return n.setGraph(_.merge({},graphDefaults,selectNumberAttrs(r,graphNumAttrs),_.pick(r,graphAttrs))),_.forEach(e.nodes(),function(r){var o=canonicalize(e.node(r));n.setNode(r,_.defaults(selectNumberAttrs(o,nodeNumAttrs),nodeDefaults)),n.setParent(r,e.parent(r))}),_.forEach(e.edges(),function(r){var o=canonicalize(e.edge(r));n.setEdge(r,_.merge({},edgeDefaults,selectNumberAttrs(o,edgeNumAttrs),_.pick(o,edgeAttrs)))}),n}function makeSpaceForEdgeLabels(e){var n=e.graph();n.ranksep/=2,_.forEach(e.edges(),function(r){var o=e.edge(r);o.minlen*=2,"c"!==o.labelpos.toLowerCase()&&("TB"===n.rankdir||"BT"===n.rankdir?o.width+=o.labeloffset:o.height+=o.labeloffset)})}function injectEdgeLabelProxies(e){_.forEach(e.edges(),function(n){var r=e.edge(n);if(r.width&&r.height){var o=e.node(n.v),t=e.node(n.w),a={rank:(t.rank-o.rank)/2+o.rank,e:n};util.addDummyNode(e,"edge-proxy",a,"_ep")}})}function assignRankMinMax(e){var n=0;_.forEach(e.nodes(),function(r){var o=e.node(r);o.borderTop&&(o.minRank=e.node(o.borderTop).rank,o.maxRank=e.node(o.borderBottom).rank,n=_.max(n,o.maxRank))}),e.graph().maxRank=n}function removeEdgeLabelProxies(e){_.forEach(e.nodes(),function(n){var r=e.node(n);"edge-proxy"===r.dummy&&(e.edge(r.e).labelRank=r.rank,e.removeNode(n))})}function translateGraph(e){function n(e){var n=e.x,i=e.y,s=e.width,d=e.height;r=Math.min(r,n-s/2),o=Math.max(o,n+s/2),t=Math.min(t,i-d/2),a=Math.max(a,i+d/2)}var r=Number.POSITIVE_INFINITY,o=0,t=Number.POSITIVE_INFINITY,a=0,i=e.graph(),s=i.marginx||0,d=i.marginy||0;_.forEach(e.nodes(),function(r){n(e.node(r))}),_.forEach(e.edges(),function(r){var o=e.edge(r);_.has(o,"x")&&n(o)}),r-=s,t-=d,_.forEach(e.nodes(),function(n){var o=e.node(n);o.x-=r,o.y-=t}),_.forEach(e.edges(),function(n){var o=e.edge(n);_.forEach(o.points,function(e){e.x-=r,e.y-=t}),_.has(o,"x")&&(o.x-=r),_.has(o,"y")&&(o.y-=t)}),i.width=o-r+s,i.height=a-t+d}function assignNodeIntersects(e){_.forEach(e.edges(),function(n){var r,o,t=e.edge(n),a=e.node(n.v),i=e.node(n.w);t.points?(r=t.points[0],o=t.points[t.points.length-1]):(t.points=[],r=i,o=a),t.points.unshift(util.intersectRect(a,r)),t.points.push(util.intersectRect(i,o))})}function fixupEdgeLabelCoords(e){_.forEach(e.edges(),function(n){var r=e.edge(n);if(_.has(r,"x"))switch("l"!==r.labelpos&&"r"!==r.labelpos||(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset}})}function reversePointsForReversedEdges(e){_.forEach(e.edges(),function(n){var r=e.edge(n);r.reversed&&r.points.reverse()})}function removeBorderNodes(e){_.forEach(e.nodes(),function(n){if(e.children(n).length){var r=e.node(n),o=e.node(r.borderTop),t=e.node(r.borderBottom),a=e.node(_.last(r.borderLeft)),i=e.node(_.last(r.borderRight));r.width=Math.abs(i.x-a.x),r.height=Math.abs(t.y-o.y),r.x=a.x+r.width/2,r.y=o.y+r.height/2}}),_.forEach(e.nodes(),function(n){"border"===e.node(n).dummy&&e.removeNode(n)})}function removeSelfEdges(e){_.forEach(e.edges(),function(n){if(n.v===n.w){var r=e.node(n.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:n,label:e.edge(n)}),e.removeEdge(n)}})}function insertSelfEdges(e){var n=util.buildLayerMatrix(e);_.forEach(n,function(n){var r=0;_.forEach(n,function(n,o){var t=e.node(n);t.order=o+r,_.forEach(t.selfEdges,function(n){util.addDummyNode(e,"selfedge",{width:n.label.width,height:n.label.height,rank:t.rank,order:o+ ++r,e:n.e,label:n.label},"_se")}),delete t.selfEdges})})}function positionSelfEdges(e){_.forEach(e.nodes(),function(n){var r=e.node(n);if("selfedge"===r.dummy){var o=e.node(r.e.v),t=o.x+o.width/2,a=o.y,i=r.x-t,s=o.height/2;e.setEdge(r.e,r.label),e.removeNode(n),r.label.points=[{x:t+2*i/3,y:a-s},{x:t+5*i/6,y:a-s},{x:t+i,y:a},{x:t+5*i/6,y:a+s},{x:t+2*i/3,y:a+s}],r.label.x=r.x,r.label.y=r.y}})}function selectNumberAttrs(e,n){return _.mapValues(_.pick(e,n),Number)}function canonicalize(e){var n={};return _.forEach(e,function(e,r){n[r.toLowerCase()]=e}),n}var _=require("./lodash"),acyclic=require("./acyclic"),normalize=require("./normalize"),rank=require("./rank"),normalizeRanks=require("./util").normalizeRanks,parentDummyChains=require("./parent-dummy-chains"),removeEmptyRanks=require("./util").removeEmptyRanks,nestingGraph=require("./nesting-graph"),addBorderSegments=require("./add-border-segments"),coordinateSystem=require("./coordinate-system"),order=require("./order"),position=require("./position"),util=require("./util"),Graph=require("./graphlib").Graph;module.exports=layout;var graphNumAttrs=["nodesep","edgesep","ranksep","marginx","marginy"],graphDefaults={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},graphAttrs=["acyclicer","ranker","rankdir","align"],nodeNumAttrs=["width","height"],nodeDefaults={width:0,height:0},edgeNumAttrs=["minlen","weight","width","height","labeloffset"],edgeDefaults={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},edgeAttrs=["labelpos"];
},{"./acyclic":33,"./add-border-segments":34,"./coordinate-system":35,"./graphlib":38,"./lodash":41,"./nesting-graph":42,"./normalize":43,"./order":48,"./parent-dummy-chains":53,"./position":55,"./rank":57,"./util":60}],41:[function(require,module,exports){
var lodash;if("function"==typeof require)try{lodash=require("lodash")}catch(o){}lodash||(lodash=window._),module.exports=lodash;
},{"lodash":109}],42:[function(require,module,exports){
function run(e){var n=util.addDummyNode(e,"root",{},"_root"),r=treeDepths(e),t=_.max(_.values(r))-1,o=2*t+1;e.graph().nestingRoot=n,_.forEach(e.edges(),function(n){e.edge(n).minlen*=o});var d=sumWeights(e)+1;_.forEach(e.children(),function(i){dfs(e,n,o,d,t,r,i)}),e.graph().nodeRankFactor=o}function dfs(e,n,r,t,o,d,i){var u=e.children(i);if(!u.length)return void(i!==n&&e.setEdge(n,i,{weight:0,minlen:r}));var a=util.addBorderNode(e,"_bt"),g=util.addBorderNode(e,"_bb"),c=e.node(i);e.setParent(a,i),c.borderTop=a,e.setParent(g,i),c.borderBottom=g,_.forEach(u,function(u){dfs(e,n,r,t,o,d,u);var c=e.node(u),s=c.borderTop?c.borderTop:u,h=c.borderBottom?c.borderBottom:u,f=c.borderTop?t:2*t,l=s!==h?1:o-d[i]+1;e.setEdge(a,s,{weight:f,minlen:l,nestingEdge:!0}),e.setEdge(h,g,{weight:f,minlen:l,nestingEdge:!0})}),e.parent(i)||e.setEdge(n,a,{weight:0,minlen:o+d[i]})}function treeDepths(e){function n(t,o){var d=e.children(t);d&&d.length&&_.forEach(d,function(e){n(e,o+1)}),r[t]=o}var r={};return _.forEach(e.children(),function(e){n(e,1)}),r}function sumWeights(e){return _.reduce(e.edges(),function(n,r){return n+e.edge(r).weight},0)}function cleanup(e){var n=e.graph();e.removeNode(n.nestingRoot),delete n.nestingRoot,_.forEach(e.edges(),function(n){e.edge(n).nestingEdge&&e.removeEdge(n)})}var _=require("./lodash"),util=require("./util");module.exports={run:run,cleanup:cleanup};
},{"./lodash":41,"./util":60}],43:[function(require,module,exports){
"use strict";function run(e){e.graph().dummyChains=[],_.forEach(e.edges(),function(d){normalizeEdge(e,d)})}function normalizeEdge(e,d){var i=d.v,n=e.node(i).rank,h=d.w,o=e.node(h).rank,t=d.name,a=e.edge(d),r=a.labelRank;if(o!==n+1){e.removeEdge(d);var u,g,s;for(s=0,++n;n<o;++s,++n)a.points=[],g={width:0,height:0,edgeLabel:a,edgeObj:d,rank:n},u=util.addDummyNode(e,"edge",g,"_d"),n===r&&(g.width=a.width,g.height=a.height,g.dummy="edge-label",g.labelpos=a.labelpos),e.setEdge(i,u,{weight:a.weight},t),0===s&&e.graph().dummyChains.push(u),i=u;e.setEdge(i,h,{weight:a.weight},t)}}function undo(e){_.forEach(e.graph().dummyChains,function(d){var i,n=e.node(d),h=n.edgeLabel;for(e.setEdge(n.edgeObj,h);n.dummy;)i=e.successors(d)[0],e.removeNode(d),h.points.push({x:n.x,y:n.y}),"edge-label"===n.dummy&&(h.x=n.x,h.y=n.y,h.width=n.width,h.height=n.height),d=i,n=e.node(d)})}var _=require("./lodash"),util=require("./util");module.exports={run:run,undo:undo};
},{"./lodash":41,"./util":60}],44:[function(require,module,exports){
function addSubgraphConstraints(r,a,n){var t,o={};_.forEach(n,function(n){for(var e,d,i=r.parent(n);i;){if(e=r.parent(i),e?(d=o[e],o[e]=i):(d=t,t=i),d&&d!==i)return void a.setEdge(d,i);i=e}})}var _=require("../lodash");module.exports=addSubgraphConstraints;
},{"../lodash":41}],45:[function(require,module,exports){
function barycenter(e,r){return _.map(r,function(r){var t=e.inEdges(r);if(t.length){var n=_.reduce(t,function(r,t){var n=e.edge(t),i=e.node(t.v);return{sum:r.sum+n.weight*i.order,weight:r.weight+n.weight}},{sum:0,weight:0});return{v:r,barycenter:n.sum/n.weight,weight:n.weight}}return{v:r}})}var _=require("../lodash");module.exports=barycenter;
},{"../lodash":41}],46:[function(require,module,exports){
function buildLayerGraph(e,r,o){var t=createRootNode(e),a=new Graph({compound:!0}).setGraph({root:t}).setDefaultNodeLabel(function(r){return e.node(r)});return _.forEach(e.nodes(),function(n){var d=e.node(n),i=e.parent(n);(d.rank===r||d.minRank<=r&&r<=d.maxRank)&&(a.setNode(n),a.setParent(n,i||t),_.forEach(e[o](n),function(r){var o=r.v===n?r.w:r.v,t=a.edge(o,n),d=_.isUndefined(t)?0:t.weight;a.setEdge(o,n,{weight:e.edge(r).weight+d})}),_.has(d,"minRank")&&a.setNode(n,{borderLeft:d.borderLeft[r],borderRight:d.borderRight[r]}))}),a}function createRootNode(e){for(var r;e.hasNode(r=_.uniqueId("_root")););return r}var _=require("../lodash"),Graph=require("../graphlib").Graph;module.exports=buildLayerGraph;
},{"../graphlib":38,"../lodash":41}],47:[function(require,module,exports){
"use strict";function crossCount(r,t){for(var o=0,n=1;n<t.length;++n)o+=twoLayerCrossCount(r,t[n-1],t[n]);return o}function twoLayerCrossCount(r,t,o){for(var n=_.zipObject(o,_.map(o,function(r,t){return t})),e=_.flatten(_.map(t,function(t){return _.chain(r.outEdges(t)).map(function(t){return{pos:n[t.w],weight:r.edge(t).weight}}).sortBy("pos").value()}),!0),u=1;u<o.length;)u<<=1;var a=2*u-1;u-=1;var s=_.map(new Array(a),function(){return 0}),i=0;return _.forEach(e.forEach(function(r){var t=r.pos+u;s[t]+=r.weight;for(var o=0;t>0;)t%2&&(o+=s[t+1]),t=t-1>>1,s[t]+=r.weight;i+=r.weight*o})),i}var _=require("../lodash");module.exports=crossCount;
},{"../lodash":41}],48:[function(require,module,exports){
"use strict";function order(r){var e=util.maxRank(r),a=buildLayerGraphs(r,_.range(1,e+1),"inEdges"),i=buildLayerGraphs(r,_.range(e-1,-1,-1),"outEdges"),n=initOrder(r);assignOrder(r,n);for(var u,o=Number.POSITIVE_INFINITY,s=0,t=0;t<4;++s,++t){sweepLayerGraphs(s%2?a:i,s%4>=2),n=util.buildLayerMatrix(r);var d=crossCount(r,n);d<o&&(t=0,u=_.cloneDeep(n),o=d)}assignOrder(r,u)}function buildLayerGraphs(r,e,a){return _.map(e,function(e){return buildLayerGraph(r,e,a)})}function sweepLayerGraphs(r,e){var a=new Graph;_.forEach(r,function(r){var i=r.graph().root,n=sortSubgraph(r,i,a,e);_.forEach(n.vs,function(e,a){r.node(e).order=a}),addSubgraphConstraints(r,a,n.vs)})}function assignOrder(r,e){_.forEach(e,function(e){_.forEach(e,function(e,a){r.node(e).order=a})})}var _=require("../lodash"),initOrder=require("./init-order"),crossCount=require("./cross-count"),sortSubgraph=require("./sort-subgraph"),buildLayerGraph=require("./build-layer-graph"),addSubgraphConstraints=require("./add-subgraph-constraints"),Graph=require("../graphlib").Graph,util=require("../util");module.exports=order;
},{"../graphlib":38,"../lodash":41,"../util":60,"./add-subgraph-constraints":44,"./build-layer-graph":46,"./cross-count":47,"./init-order":49,"./sort-subgraph":51}],49:[function(require,module,exports){
"use strict";function initOrder(r){function n(t){if(!_.has(e,t)){e[t]=!0;var o=r.node(t);u[o.rank].push(t),_.forEach(r.successors(t),n)}}var e={},t=_.filter(r.nodes(),function(n){return!r.children(n).length}),o=_.max(_.map(t,function(n){return r.node(n).rank})),u=_.map(_.range(o+1),function(){return[]}),i=_.sortBy(t,function(n){return r.node(n).rank});return _.forEach(i,n),u}var _=require("../lodash");module.exports=initOrder;
},{"../lodash":41}],50:[function(require,module,exports){
"use strict";function resolveConflicts(e,n){var r={};return _.forEach(e,function(e,n){var i=r[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:n};_.isUndefined(e.barycenter)||(i.barycenter=e.barycenter,i.weight=e.weight)}),_.forEach(n.edges(),function(e){var n=r[e.v],i=r[e.w];_.isUndefined(n)||_.isUndefined(i)||(i.indegree++,n.out.push(r[e.w]))}),doResolveConflicts(_.filter(r,function(e){return!e.indegree}))}function doResolveConflicts(e){for(var n=[];e.length;){var r=e.pop();n.push(r),_.forEach(r.in.reverse(),function(e){return function(n){n.merged||(_.isUndefined(n.barycenter)||_.isUndefined(e.barycenter)||n.barycenter>=e.barycenter)&&mergeEntries(e,n)}}(r)),_.forEach(r.out,function(n){return function(r){r.in.push(n),0==--r.indegree&&e.push(r)}}(r))}return _.chain(n).filter(function(e){return!e.merged}).map(function(e){return _.pick(e,["vs","i","barycenter","weight"])}).value()}function mergeEntries(e,n){var r=0,i=0;e.weight&&(r+=e.barycenter*e.weight,i+=e.weight),n.weight&&(r+=n.barycenter*n.weight,i+=n.weight),e.vs=n.vs.concat(e.vs),e.barycenter=r/i,e.weight=i,e.i=Math.min(n.i,e.i),n.merged=!0}var _=require("../lodash");module.exports=resolveConflicts;
},{"../lodash":41}],51:[function(require,module,exports){
function sortSubgraph(e,r,t,n){var a=e.children(r),i=e.node(r),o=i?i.borderLeft:void 0,s=i?i.borderRight:void 0,c={};o&&(a=_.filter(a,function(e){return e!==o&&e!==s}));var h=barycenter(e,a);_.forEach(h,function(r){if(e.children(r.v).length){var a=sortSubgraph(e,r.v,t,n);c[r.v]=a,_.has(a,"barycenter")&&mergeBarycenters(r,a)}});var g=resolveConflicts(h,t);expandSubgraphs(g,c);var b=sort(g,n);if(o&&(b.vs=_.flatten([o,b.vs,s],!0),e.predecessors(o).length)){var d=e.node(e.predecessors(o)[0]),u=e.node(e.predecessors(s)[0]);_.has(b,"barycenter")||(b.barycenter=0,b.weight=0),b.barycenter=(b.barycenter*b.weight+d.order+u.order)/(b.weight+2),b.weight+=2}return b}function expandSubgraphs(e,r){_.forEach(e,function(e){e.vs=_.flatten(e.vs.map(function(e){return r[e]?r[e].vs:e}),!0)})}function mergeBarycenters(e,r){_.isUndefined(e.barycenter)?(e.barycenter=r.barycenter,e.weight=r.weight):(e.barycenter=(e.barycenter*e.weight+r.barycenter*r.weight)/(e.weight+r.weight),e.weight+=r.weight)}var _=require("../lodash"),barycenter=require("./barycenter"),resolveConflicts=require("./resolve-conflicts"),sort=require("./sort");module.exports=sortSubgraph;
},{"../lodash":41,"./barycenter":45,"./resolve-conflicts":50,"./sort":52}],52:[function(require,module,exports){
function sort(r,t){var e=util.partition(r,function(r){return _.has(r,"barycenter")}),n=e.lhs,i=_.sortBy(e.rhs,function(r){return-r.i}),o=[],a=0,s=0,u=0;n.sort(compareWithBias(!!t)),u=consumeUnsortable(o,i,u),_.forEach(n,function(r){u+=r.vs.length,o.push(r.vs),a+=r.barycenter*r.weight,s+=r.weight,u=consumeUnsortable(o,i,u)});var c={vs:_.flatten(o,!0)};return s&&(c.barycenter=a/s,c.weight=s),c}function consumeUnsortable(r,t,e){for(var n;t.length&&(n=_.last(t)).i<=e;)t.pop(),r.push(n.vs),e++;return e}function compareWithBias(r){return function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:r?e.i-t.i:t.i-e.i}}var _=require("../lodash"),util=require("../util");module.exports=sort;
},{"../lodash":41,"../util":60}],53:[function(require,module,exports){
function parentDummyChains(r){var n=postorder(r);_.forEach(r.graph().dummyChains,function(a){for(var o=r.node(a),e=o.edgeObj,t=findPath(r,n,e.v,e.w),i=t.path,h=t.lca,c=0,f=i[c],l=!0;a!==e.w;){if(o=r.node(a),l){for(;(f=i[c])!==h&&r.node(f).maxRank<o.rank;)c++;f===h&&(l=!1)}if(!l){for(;c<i.length-1&&r.node(f=i[c+1]).minRank<=o.rank;)c++;f=i[c]}r.setParent(a,f),a=r.successors(a)[0]}})}function findPath(r,n,a,o){var e,t,i=[],h=[],c=Math.min(n[a].low,n[o].low),f=Math.max(n[a].lim,n[o].lim);e=a;do{e=r.parent(e),i.push(e)}while(e&&(n[e].low>c||f>n[e].lim));for(t=e,e=o;(e=r.parent(e))!==t;)h.push(e);return{path:i.concat(h.reverse()),lca:t}}function postorder(r){function n(e){var t=o;_.forEach(r.children(e),n),a[e]={low:t,lim:o++}}var a={},o=0;return _.forEach(r.children(),n),a}var _=require("./lodash");module.exports=parentDummyChains;
},{"./lodash":41}],54:[function(require,module,exports){
"use strict";function findType1Conflicts(n,r){function e(r,e){var t=0,i=0,a=r.length,c=_.last(e);return _.forEach(e,function(r,u){var f=findOtherInnerSegmentNode(n,r),d=f?n.node(f).order:a;(f||r===c)&&(_.forEach(e.slice(i,u+1),function(r){_.forEach(n.predecessors(r),function(e){var i=n.node(e),a=i.order;!(a<t||d<a)||i.dummy&&n.node(r).dummy||addConflict(o,e,r)})}),i=u+1,t=d)}),e}var o={};return _.reduce(r,e),o}function findType2Conflicts(n,r){function e(r,e,o,i,a){var c;_.forEach(_.range(e,o),function(e){c=r[e],n.node(c).dummy&&_.forEach(n.predecessors(c),function(r){var e=n.node(r);e.dummy&&(e.order<i||e.order>a)&&addConflict(t,r,c)})})}function o(r,o){var t,i=-1,a=0;return _.forEach(o,function(c,u){if("border"===n.node(c).dummy){var f=n.predecessors(c);f.length&&(t=n.node(f[0]).order,e(o,a,u,i,t),a=u,i=t)}e(o,a,o.length,t,r.length)}),o}var t={};return _.reduce(r,o),t}function findOtherInnerSegmentNode(n,r){if(n.node(r).dummy)return _.find(n.predecessors(r),function(r){return n.node(r).dummy})}function addConflict(n,r,e){if(r>e){var o=r;r=e,e=o}var t=n[r];t||(n[r]=t={}),t[e]=!0}function hasConflict(n,r,e){if(r>e){var o=r;r=e,e=o}return _.has(n[r],e)}function verticalAlignment(n,r,e,o){var t={},i={},a={};return _.forEach(r,function(n){_.forEach(n,function(n,r){t[n]=n,i[n]=n,a[n]=r})}),_.forEach(r,function(n){var r=-1;_.forEach(n,function(n){var c=o(n);if(c.length){c=_.sortBy(c,function(n){return a[n]});for(var u=(c.length-1)/2,f=Math.floor(u),d=Math.ceil(u);f<=d;++f){var l=c[f];i[n]===n&&r<a[l]&&!hasConflict(e,n,l)&&(i[l]=n,i[n]=t[n]=t[l],r=a[l])}}})}),{root:t,align:i}}function horizontalCompaction(n,r,e,o,t){function i(n,r){for(var e=f.nodes(),o=e.pop(),t={};o;)t[o]?n(o):(t[o]=!0,e.push(o),e=e.concat(r(o))),o=e.pop()}function a(n){u[n]=f.inEdges(n).reduce(function(n,r){return Math.max(n,u[r.v]+f.edge(r))},0)}function c(r){var e=f.outEdges(r).reduce(function(n,r){return Math.min(n,u[r.w]-f.edge(r))},Number.POSITIVE_INFINITY),o=n.node(r);e!==Number.POSITIVE_INFINITY&&o.borderType!==d&&(u[r]=Math.max(u[r],e))}var u={},f=buildBlockGraph(n,r,e,t),d=t?"borderLeft":"borderRight";return i(a,_.bind(f.predecessors,f)),i(c,_.bind(f.successors,f)),_.forEach(o,function(n){u[n]=u[e[n]]}),u}function buildBlockGraph(n,r,e,o){var t=new Graph,i=n.graph(),a=sep(i.nodesep,i.edgesep,o);return _.forEach(r,function(r){var o;_.forEach(r,function(r){var i=e[r];if(t.setNode(i),o){var c=e[o],u=t.edge(c,i);t.setEdge(c,i,Math.max(a(n,r,o),u||0))}o=r})}),t}function findSmallestWidthAlignment(n,r){return _.minBy(_.values(r),function(r){var e=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return _.forIn(r,function(r,t){var i=width(n,t)/2;e=Math.max(r+i,e),o=Math.min(r-i,o)}),e-o})}function alignCoordinates(n,r){var e=_.values(r),o=_.min(e),t=_.max(e);_.forEach(["u","d"],function(e){_.forEach(["l","r"],function(i){var a,c=e+i,u=n[c];if(u!==r){var f=_.values(u);a="l"===i?o-_.min(f):t-_.max(f),a&&(n[c]=_.mapValues(u,function(n){return n+a}))}})})}function balance(n,r){return _.mapValues(n.ul,function(e,o){if(r)return n[r.toLowerCase()][o];var t=_.sortBy(_.map(n,o));return(t[1]+t[2])/2})}function positionX(n){var r,e=util.buildLayerMatrix(n),o=_.merge(findType1Conflicts(n,e),findType2Conflicts(n,e)),t={};_.forEach(["u","d"],function(i){r="u"===i?e:_.values(e).reverse(),_.forEach(["l","r"],function(e){"r"===e&&(r=_.map(r,function(n){return _.values(n).reverse()}));var a=_.bind("u"===i?n.predecessors:n.successors,n),c=verticalAlignment(n,r,o,a),u=horizontalCompaction(n,r,c.root,c.align,"r"===e);"r"===e&&(u=_.mapValues(u,function(n){return-n})),t[i+e]=u})});var i=findSmallestWidthAlignment(n,t);return alignCoordinates(t,i),balance(t,n.graph().align)}function sep(n,r,e){return function(o,t,i){var a,c=o.node(t),u=o.node(i),f=0;if(f+=c.width/2,_.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":a=-c.width/2;break;case"r":a=c.width/2}if(a&&(f+=e?a:-a),a=0,f+=(c.dummy?r:n)/2,f+=(u.dummy?r:n)/2,f+=u.width/2,_.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":a=u.width/2;break;case"r":a=-u.width/2}return a&&(f+=e?a:-a),a=0,f}}function width(n,r){return n.node(r).width}var _=require("../lodash"),Graph=require("../graphlib").Graph,util=require("../util");module.exports={positionX:positionX,findType1Conflicts:findType1Conflicts,findType2Conflicts:findType2Conflicts,addConflict:addConflict,hasConflict:hasConflict,verticalAlignment:verticalAlignment,horizontalCompaction:horizontalCompaction,alignCoordinates:alignCoordinates,findSmallestWidthAlignment:findSmallestWidthAlignment,balance:balance};
},{"../graphlib":38,"../lodash":41,"../util":60}],55:[function(require,module,exports){
"use strict";function position(o){o=util.asNonCompoundGraph(o),positionY(o),_.forEach(positionX(o),function(i,n){o.node(n).x=i})}function positionY(o){var i=util.buildLayerMatrix(o),n=o.graph().ranksep,t=0;_.forEach(i,function(i){var r=_.max(_.map(i,function(i){return o.node(i).height}));_.forEach(i,function(i){o.node(i).y=t+r/2}),t+=r+n})}var _=require("../lodash"),util=require("../util"),positionX=require("./bk").positionX;module.exports=position;
},{"../lodash":41,"../util":60,"./bk":54}],56:[function(require,module,exports){
"use strict";function feasibleTree(e){var n=new Graph({directed:!1}),r=e.nodes()[0],o=e.nodeCount();n.setNode(r,{});for(var a,s;tightTree(n,e)<o;)a=findMinSlackEdge(n,e),s=n.hasNode(a.v)?slack(e,a):-slack(e,a),shiftRanks(n,e,s);return n}function tightTree(e,n){function r(o){_.forEach(n.nodeEdges(o),function(a){var s=a.v,t=o===s?a.w:s;e.hasNode(t)||slack(n,a)||(e.setNode(t,{}),e.setEdge(o,t,{}),r(t))})}return _.forEach(e.nodes(),r),e.nodeCount()}function findMinSlackEdge(e,n){return _.minBy(n.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return slack(n,r)})}function shiftRanks(e,n,r){_.forEach(e.nodes(),function(e){n.node(e).rank+=r})}var _=require("../lodash"),Graph=require("../graphlib").Graph,slack=require("./util").slack;module.exports=feasibleTree;
},{"../graphlib":38,"../lodash":41,"./util":59}],57:[function(require,module,exports){
"use strict";function rank(e){switch(e.graph().ranker){case"network-simplex":networkSimplexRanker(e);break;case"tight-tree":tightTreeRanker(e);break;case"longest-path":longestPathRanker(e);break;default:networkSimplexRanker(e)}}function tightTreeRanker(e){longestPath(e),feasibleTree(e)}function networkSimplexRanker(e){networkSimplex(e)}var rankUtil=require("./util"),longestPath=rankUtil.longestPath,feasibleTree=require("./feasible-tree"),networkSimplex=require("./network-simplex");module.exports=rank;var longestPathRanker=longestPath;
},{"./feasible-tree":56,"./network-simplex":58,"./util":59}],58:[function(require,module,exports){
"use strict";function networkSimplex(e){e=simplify(e),initRank(e);var n=feasibleTree(e);initLowLimValues(n),initCutValues(n,e);for(var i,r;i=leaveEdge(n);)r=enterEdge(n,e,i),exchangeEdges(n,e,i,r)}function initCutValues(e,n){var i=postorder(e,e.nodes());i=i.slice(0,i.length-1),_.forEach(i,function(i){assignCutValue(e,n,i)})}function assignCutValue(e,n,i){var r=e.node(i),t=r.parent;e.edge(i,t).cutvalue=calcCutValue(e,n,i)}function calcCutValue(e,n,i){var r=e.node(i),t=r.parent,a=!0,u=n.edge(i,t),o=0;return u||(a=!1,u=n.edge(t,i)),o=u.weight,_.forEach(n.nodeEdges(i),function(r){var u=r.v===i,l=u?r.w:r.v;if(l!==t){var s=u===a,d=n.edge(r).weight;if(o+=s?d:-d,isTreeEdge(e,i,l)){var c=e.edge(i,l).cutvalue;o+=s?-c:c}}}),o}function initLowLimValues(e,n){arguments.length<2&&(n=e.nodes()[0]),dfsAssignLowLim(e,{},1,n)}function dfsAssignLowLim(e,n,i,r,t){var a=i,u=e.node(r);return n[r]=!0,_.forEach(e.neighbors(r),function(t){_.has(n,t)||(i=dfsAssignLowLim(e,n,i,t,r))}),u.low=a,u.lim=i++,t?u.parent=t:delete u.parent,i}function leaveEdge(e){return _.find(e.edges(),function(n){return e.edge(n).cutvalue<0})}function enterEdge(e,n,i){var r=i.v,t=i.w;n.hasEdge(r,t)||(r=i.w,t=i.v);var a=e.node(r),u=e.node(t),o=a,l=!1;a.lim>u.lim&&(o=u,l=!0);var s=_.filter(n.edges(),function(n){return l===isDescendant(e,e.node(n.v),o)&&l!==isDescendant(e,e.node(n.w),o)});return _.minBy(s,function(e){return slack(n,e)})}function exchangeEdges(e,n,i,r){var t=i.v,a=i.w;e.removeEdge(t,a),e.setEdge(r.v,r.w,{}),initLowLimValues(e),initCutValues(e,n),updateRanks(e,n)}function updateRanks(e,n){var i=_.find(e.nodes(),function(e){return!n.node(e).parent}),r=preorder(e,i);r=r.slice(1),_.forEach(r,function(i){var r=e.node(i).parent,t=n.edge(i,r),a=!1;t||(t=n.edge(r,i),a=!0),n.node(i).rank=n.node(r).rank+(a?t.minlen:-t.minlen)})}function isTreeEdge(e,n,i){return e.hasEdge(n,i)}function isDescendant(e,n,i){return i.low<=n.lim&&n.lim<=i.lim}var _=require("../lodash"),feasibleTree=require("./feasible-tree"),slack=require("./util").slack,initRank=require("./util").longestPath,preorder=require("../graphlib").alg.preorder,postorder=require("../graphlib").alg.postorder,simplify=require("../util").simplify;module.exports=networkSimplex,networkSimplex.initLowLimValues=initLowLimValues,networkSimplex.initCutValues=initCutValues,networkSimplex.calcCutValue=calcCutValue,networkSimplex.leaveEdge=leaveEdge,networkSimplex.enterEdge=enterEdge,networkSimplex.exchangeEdges=exchangeEdges;
},{"../graphlib":38,"../lodash":41,"../util":60,"./feasible-tree":56,"./util":59}],59:[function(require,module,exports){
"use strict";function longestPath(n){function e(a){var t=n.node(a);if(_.has(r,a))return t.rank;r[a]=!0;var o=_.minBy(_.map(n.outEdges(a),function(r){return e(r.w)-n.edge(r).minlen}));return o!==Number.POSITIVE_INFINITY&&void 0!==o&&null!==o||(o=0),t.rank=o}var r={};_.forEach(n.sources(),e)}function slack(n,e){return n.node(e.w).rank-n.node(e.v).rank-n.edge(e).minlen}var _=require("../lodash");module.exports={longestPath:longestPath,slack:slack};
},{"../lodash":41}],60:[function(require,module,exports){
"use strict";function addDummyNode(n,e,r,o){var t;do{t=_.uniqueId(o)}while(n.hasNode(t));return r.dummy=e,n.setNode(t,r),t}function simplify(n){var e=(new Graph).setGraph(n.graph());return _.forEach(n.nodes(),function(r){e.setNode(r,n.node(r))}),_.forEach(n.edges(),function(r){var o=e.edge(r.v,r.w)||{weight:0,minlen:1},t=n.edge(r);e.setEdge(r.v,r.w,{weight:o.weight+t.weight,minlen:Math.max(o.minlen,t.minlen)})}),e}function asNonCompoundGraph(n){var e=new Graph({multigraph:n.isMultigraph()}).setGraph(n.graph());return _.forEach(n.nodes(),function(r){n.children(r).length||e.setNode(r,n.node(r))}),_.forEach(n.edges(),function(r){e.setEdge(r,n.edge(r))}),e}function successorWeights(n){var e=_.map(n.nodes(),function(e){var r={};return _.forEach(n.outEdges(e),function(e){r[e.w]=(r[e.w]||0)+n.edge(e).weight}),r});return _.zipObject(n.nodes(),e)}function predecessorWeights(n){var e=_.map(n.nodes(),function(e){var r={};return _.forEach(n.inEdges(e),function(e){r[e.v]=(r[e.v]||0)+n.edge(e).weight}),r});return _.zipObject(n.nodes(),e)}function intersectRect(n,e){var r=n.x,o=n.y,t=e.x-r,a=e.y-o,i=n.width/2,d=n.height/2;if(!t&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var s,u;return Math.abs(a)*i>Math.abs(t)*d?(a<0&&(d=-d),s=d*t/a,u=d):(t<0&&(i=-i),s=i,u=i*a/t),{x:r+s,y:o+u}}function buildLayerMatrix(n){var e=_.map(_.range(maxRank(n)+1),function(){return[]});return _.forEach(n.nodes(),function(r){var o=n.node(r),t=o.rank;_.isUndefined(t)||(e[t][o.order]=r)}),e}function normalizeRanks(n){var e=_.minBy(_.map(n.nodes(),function(e){return n.node(e).rank}));_.forEach(n.nodes(),function(r){var o=n.node(r);_.has(o,"rank")&&(o.rank-=e)})}function removeEmptyRanks(n){var e=_.minBy(_.map(n.nodes(),function(e){return n.node(e).rank})),r=[];_.forEach(n.nodes(),function(o){var t=n.node(o).rank-e;r[t]||(r[t]=[]),r[t].push(o)});var o=0,t=n.graph().nodeRankFactor;_.forEach(r,function(e,r){_.isUndefined(e)&&r%t!=0?--o:o&&_.forEach(e,function(e){n.node(e).rank+=o})})}function addBorderNode(n,e,r,o){var t={width:0,height:0};return arguments.length>=4&&(t.rank=r,t.order=o),addDummyNode(n,"border",t,e)}function maxRank(n){return _.max(_.map(n.nodes(),function(e){var r=n.node(e).rank;if(!_.isUndefined(r))return r}))}function partition(n,e){var r={lhs:[],rhs:[]};return _.forEach(n,function(n){e(n)?r.lhs.push(n):r.rhs.push(n)}),r}function time(n,e){var r=_.now();try{return e()}finally{console.log(n+" time: "+(_.now()-r)+"ms")}}function notime(n,e){return e()}var _=require("./lodash"),Graph=require("./graphlib").Graph;module.exports={addDummyNode:addDummyNode,simplify:simplify,asNonCompoundGraph:asNonCompoundGraph,successorWeights:successorWeights,predecessorWeights:predecessorWeights,intersectRect:intersectRect,buildLayerMatrix:buildLayerMatrix,normalizeRanks:normalizeRanks,removeEmptyRanks:removeEmptyRanks,addBorderNode:addBorderNode,maxRank:maxRank,partition:partition,time:time,notime:notime};
},{"./graphlib":38,"./lodash":41}],61:[function(require,module,exports){
module.exports="0.8.2";
},{}],62:[function(require,module,exports){
"use strict";function dotsplit(t){for(var o=-1,r=compact(normalize(t).split(".")),n=r.length,e=[];++o<n;)e.push(todots(r[o]));return e}function normalize(t){return("[object String]"===toString.call(t)?t:"").replace(/\\\./g,"￿")}function compact(t){for(var o=-1,r=t.length,n=[];++o<r;)t[o]&&n.push(t[o]);return n}function todots(t){return t.replace(/\uffff/g,".")}var toString=Object.prototype.toString;module.exports=dotsplit;
},{}],63:[function(require,module,exports){
"use strict";module.exports=function(t){var r,e=this;if(arguments.length<2)r=function(){if(this instanceof r){var n=e.apply(this,arguments);return Object(n)===n?n:this}return e.apply(t,arguments)};else{for(var n=new Array(arguments.length-1),i=1;i<arguments.length;i++)n[i-1]=arguments[i];r=function(){var i,o=n.length,a=new Array(o+arguments.length);for(i=0;i<o;i++)a[i]=n[i];for(i=0;i<arguments.length;i++)a[o+i]=arguments[i];if(this instanceof r){var h=e.apply(this,a);return Object(h)===h?h:this}return e.apply(t,a)}}return r.prototype=e.prototype,r};
},{}],64:[function(require,module,exports){
var lib=require("./lib");module.exports={Graph:lib.Graph,json:require("./lib/json"),alg:require("./lib/alg"),version:lib.version};
},{"./lib":80,"./lib/alg":71,"./lib/json":81}],65:[function(require,module,exports){
function components(e){function s(c){_.has(o,c)||(o[c]=!0,n.push(c),_.each(e.successors(c),s),_.each(e.predecessors(c),s))}var n,o={},c=[];return _.each(e.nodes(),function(e){n=[],s(e),n.length&&c.push(n)}),c}var _=require("../lodash");module.exports=components;
},{"../lodash":82}],66:[function(require,module,exports){
function dfs(s,o,r){_.isArray(o)||(o=[o]);var e=(s.isDirected()?s.successors:s.neighbors).bind(s),n=[],d={};return _.each(o,function(o){if(!s.hasNode(o))throw new Error("Graph does not have node: "+o);doDfs(s,o,"post"===r,d,e,n)}),n}function doDfs(s,o,r,e,n,d){_.has(e,o)||(e[o]=!0,r||d.push(o),_.each(n(o),function(o){doDfs(s,o,r,e,n,d)}),r&&d.push(o))}var _=require("../lodash");module.exports=dfs;
},{"../lodash":82}],67:[function(require,module,exports){
function dijkstraAll(r,t,i){return _.transform(r.nodes(),function(s,a){s[a]=dijkstra(r,a,t,i)},{})}var dijkstra=require("./dijkstra"),_=require("../lodash");module.exports=dijkstraAll;
},{"../lodash":82,"./dijkstra":68}],68:[function(require,module,exports){
function dijkstra(e,r,t,i){return runDijkstra(e,String(r),t||DEFAULT_WEIGHT_FUNC,i||function(r){return e.outEdges(r)})}function runDijkstra(e,r,t,i){var n,a,o={},u=new PriorityQueue,d=function(e){var r=e.v!==n?e.v:e.w,i=o[r],d=t(e),s=a.distance+d;if(d<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+d);s<i.distance&&(i.distance=s,i.predecessor=n,u.decrease(r,s))};for(e.nodes().forEach(function(e){var t=e===r?0:Number.POSITIVE_INFINITY;o[e]={distance:t},u.add(e,t)});u.size()>0&&(n=u.removeMin(),a=o[n],a.distance!==Number.POSITIVE_INFINITY);)i(n).forEach(d);return o}var _=require("../lodash"),PriorityQueue=require("../data/priority-queue");module.exports=dijkstra;var DEFAULT_WEIGHT_FUNC=_.constant(1);
},{"../data/priority-queue":78,"../lodash":82}],69:[function(require,module,exports){
function findCycles(e){return _.filter(tarjan(e),function(r){return r.length>1||1===r.length&&e.hasEdge(r[0],r[0])})}var _=require("../lodash"),tarjan=require("./tarjan");module.exports=findCycles;
},{"../lodash":82,"./tarjan":76}],70:[function(require,module,exports){
function floydWarshall(r,n,a){return runFloydWarshall(r,n||DEFAULT_WEIGHT_FUNC,a||function(n){return r.outEdges(n)})}function runFloydWarshall(r,n,a){var o={},c=r.nodes();return c.forEach(function(r){o[r]={},o[r][r]={distance:0},c.forEach(function(n){r!==n&&(o[r][n]={distance:Number.POSITIVE_INFINITY})}),a(r).forEach(function(a){var c=a.v===r?a.w:a.v,e=n(a);o[r][c]={distance:e,predecessor:r}})}),c.forEach(function(r){var n=o[r];c.forEach(function(a){var e=o[a];c.forEach(function(a){var o=e[r],c=n[a],t=e[a],s=o.distance+c.distance;s<t.distance&&(t.distance=s,t.predecessor=c.predecessor)})})}),o}var _=require("../lodash");module.exports=floydWarshall;var DEFAULT_WEIGHT_FUNC=_.constant(1);
},{"../lodash":82}],71:[function(require,module,exports){
module.exports={components:require("./components"),dijkstra:require("./dijkstra"),dijkstraAll:require("./dijkstra-all"),findCycles:require("./find-cycles"),floydWarshall:require("./floyd-warshall"),isAcyclic:require("./is-acyclic"),postorder:require("./postorder"),preorder:require("./preorder"),prim:require("./prim"),tarjan:require("./tarjan"),topsort:require("./topsort")};
},{"./components":65,"./dijkstra":68,"./dijkstra-all":67,"./find-cycles":69,"./floyd-warshall":70,"./is-acyclic":72,"./postorder":73,"./preorder":74,"./prim":75,"./tarjan":76,"./topsort":77}],72:[function(require,module,exports){
function isAcyclic(t){try{topsort(t)}catch(t){if(t instanceof topsort.CycleException)return!1;throw t}return!0}var topsort=require("./topsort");module.exports=isAcyclic;
},{"./topsort":77}],73:[function(require,module,exports){
function postorder(r,o){return dfs(r,o,"post")}var dfs=require("./dfs");module.exports=postorder;
},{"./dfs":66}],74:[function(require,module,exports){
function preorder(r,e){return dfs(r,e,"pre")}var dfs=require("./dfs");module.exports=preorder;
},{"./dfs":66}],75:[function(require,module,exports){
function prim(e,r){function i(e){var i=e.v===o?e.w:e.v,n=t.priority(i);if(void 0!==n){var u=r(e);u<n&&(a[i]=o,t.decrease(i,u))}}var o,n=new Graph,a={},t=new PriorityQueue;if(0===e.nodeCount())return n;_.each(e.nodes(),function(e){t.add(e,Number.POSITIVE_INFINITY),n.setNode(e)}),t.decrease(e.nodes()[0],0);for(var u=!1;t.size()>0;){if(o=t.removeMin(),_.has(a,o))n.setEdge(o,a[o]);else{if(u)throw new Error("Input graph is not connected: "+e);u=!0}e.nodeEdges(o).forEach(i)}return n}var _=require("../lodash"),Graph=require("../graph"),PriorityQueue=require("../data/priority-queue");module.exports=prim;
},{"../data/priority-queue":78,"../graph":79,"../lodash":82}],76:[function(require,module,exports){
function tarjan(n){function o(t){var s=l[t]={onStack:!0,lowlink:i,index:i++};if(a.push(t),n.successors(t).forEach(function(n){_.has(l,n)?l[n].onStack&&(s.lowlink=Math.min(s.lowlink,l[n].index)):(o(n),s.lowlink=Math.min(s.lowlink,l[n].lowlink))}),s.lowlink===s.index){var c,e=[];do{c=a.pop(),l[c].onStack=!1,e.push(c)}while(t!==c);r.push(e)}}var i=0,a=[],l={},r=[];return n.nodes().forEach(function(n){_.has(l,n)||o(n)}),r}var _=require("../lodash");module.exports=tarjan;
},{"../lodash":82}],77:[function(require,module,exports){
function topsort(e){function o(r){if(_.has(n,r))throw new CycleException;_.has(t,r)||(n[r]=!0,t[r]=!0,_.each(e.predecessors(r),o),delete n[r],c.push(r))}var t={},n={},c=[];if(_.each(e.sinks(),o),_.size(t)!==e.nodeCount())throw new CycleException;return c}function CycleException(){}var _=require("../lodash");module.exports=topsort,topsort.CycleException=CycleException;
},{"../lodash":82}],78:[function(require,module,exports){
function PriorityQueue(){this._arr=[],this._keyIndices={}}var _=require("../lodash");module.exports=PriorityQueue,PriorityQueue.prototype.size=function(){return this._arr.length},PriorityQueue.prototype.keys=function(){return this._arr.map(function(r){return r.key})},PriorityQueue.prototype.has=function(r){return _.has(this._keyIndices,r)},PriorityQueue.prototype.priority=function(r){var i=this._keyIndices[r];if(void 0!==i)return this._arr[i].priority},PriorityQueue.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},PriorityQueue.prototype.add=function(r,i){var t=this._keyIndices;if(r=String(r),!_.has(t,r)){var e=this._arr,o=e.length;return t[r]=o,e.push({key:r,priority:i}),this._decrease(o),!0}return!1},PriorityQueue.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var r=this._arr.pop();return delete this._keyIndices[r.key],this._heapify(0),r.key},PriorityQueue.prototype.decrease=function(r,i){var t=this._keyIndices[r];if(i>this._arr[t].priority)throw new Error("New priority is greater than current priority. Key: "+r+" Old: "+this._arr[t].priority+" New: "+i);this._arr[t].priority=i,this._decrease(t)},PriorityQueue.prototype._heapify=function(r){var i=this._arr,t=2*r,e=t+1,o=r;t<i.length&&(o=i[t].priority<i[o].priority?t:o,e<i.length&&(o=i[e].priority<i[o].priority?e:o),o!==r&&(this._swap(r,o),this._heapify(o)))},PriorityQueue.prototype._decrease=function(r){for(var i,t=this._arr,e=t[r].priority;0!==r&&(i=r>>1,!(t[i].priority<e));)this._swap(r,i),r=i},PriorityQueue.prototype._swap=function(r,i){var t=this._arr,e=this._keyIndices,o=t[r],y=t[i];t[r]=y,t[i]=o,e[y.key]=r,e[o.key]=i};
},{"../lodash":82}],79:[function(require,module,exports){
"use strict";function Graph(e){this._isDirected=!_.has(e,"directed")||e.directed,this._isMultigraph=!!_.has(e,"multigraph")&&e.multigraph,this._isCompound=!!_.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=_.constant(void 0),this._defaultEdgeLabelFn=_.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[GRAPH_NODE]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function incrementOrInitEntry(e,t){e[t]?e[t]++:e[t]=1}function decrementOrRemoveEntry(e,t){--e[t]||delete e[t]}function edgeArgsToId(e,t,i,r){var s=""+t,n=""+i;if(!e&&s>n){var o=s;s=n,n=o}return s+EDGE_KEY_DELIM+n+EDGE_KEY_DELIM+(_.isUndefined(r)?DEFAULT_EDGE_NAME:r)}function edgeArgsToObj(e,t,i,r){var s=""+t,n=""+i;if(!e&&s>n){var o=s;s=n,n=o}var h={v:s,w:n};return r&&(h.name=r),h}function edgeObjToId(e,t){return edgeArgsToId(e,t.v,t.w,t.name)}var _=require("./lodash");module.exports=Graph;var DEFAULT_EDGE_NAME="\0",GRAPH_NODE="\0",EDGE_KEY_DELIM="";Graph.prototype._nodeCount=0,Graph.prototype._edgeCount=0,Graph.prototype.isDirected=function(){return this._isDirected},Graph.prototype.isMultigraph=function(){return this._isMultigraph},Graph.prototype.isCompound=function(){return this._isCompound},Graph.prototype.setGraph=function(e){return this._label=e,this},Graph.prototype.graph=function(){return this._label},Graph.prototype.setDefaultNodeLabel=function(e){return _.isFunction(e)||(e=_.constant(e)),this._defaultNodeLabelFn=e,this},Graph.prototype.nodeCount=function(){return this._nodeCount},Graph.prototype.nodes=function(){return _.keys(this._nodes)},Graph.prototype.sources=function(){var e=this;return _.filter(this.nodes(),function(t){return _.isEmpty(e._in[t])})},Graph.prototype.sinks=function(){var e=this;return _.filter(this.nodes(),function(t){return _.isEmpty(e._out[t])})},Graph.prototype.setNodes=function(e,t){var i=arguments,r=this;return _.each(e,function(e){i.length>1?r.setNode(e,t):r.setNode(e)}),this},Graph.prototype.setNode=function(e,t){return _.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=GRAPH_NODE,this._children[e]={},this._children[GRAPH_NODE][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},Graph.prototype.node=function(e){return this._nodes[e]},Graph.prototype.hasNode=function(e){return _.has(this._nodes,e)},Graph.prototype.removeNode=function(e){var t=this;if(_.has(this._nodes,e)){var i=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],_.each(this.children(e),function(e){t.setParent(e)}),delete this._children[e]),_.each(_.keys(this._in[e]),i),delete this._in[e],delete this._preds[e],_.each(_.keys(this._out[e]),i),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},Graph.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(_.isUndefined(t))t=GRAPH_NODE;else{t+="";for(var i=t;!_.isUndefined(i);i=this.parent(i))if(i===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},Graph.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},Graph.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==GRAPH_NODE)return t}},Graph.prototype.children=function(e){if(_.isUndefined(e)&&(e=GRAPH_NODE),this._isCompound){var t=this._children[e];if(t)return _.keys(t)}else{if(e===GRAPH_NODE)return this.nodes();if(this.hasNode(e))return[]}},Graph.prototype.predecessors=function(e){var t=this._preds[e];if(t)return _.keys(t)},Graph.prototype.successors=function(e){var t=this._sucs[e];if(t)return _.keys(t)},Graph.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return _.union(t,this.successors(e))},Graph.prototype.isLeaf=function(e){var t;return t=this.isDirected()?this.successors(e):this.neighbors(e),0===t.length},Graph.prototype.filterNodes=function(e){function t(e){var n=r.parent(e);return void 0===n||i.hasNode(n)?(s[e]=n,n):n in s?s[n]:t(n)}var i=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});i.setGraph(this.graph());var r=this;_.each(this._nodes,function(t,r){e(r)&&i.setNode(r,t)}),_.each(this._edgeObjs,function(e){i.hasNode(e.v)&&i.hasNode(e.w)&&i.setEdge(e,r.edge(e))});var s={};return this._isCompound&&_.each(i.nodes(),function(e){i.setParent(e,t(e))}),i},Graph.prototype.setDefaultEdgeLabel=function(e){return _.isFunction(e)||(e=_.constant(e)),this._defaultEdgeLabelFn=e,this},Graph.prototype.edgeCount=function(){return this._edgeCount},Graph.prototype.edges=function(){return _.values(this._edgeObjs)},Graph.prototype.setPath=function(e,t){var i=this,r=arguments;return _.reduce(e,function(e,s){return r.length>1?i.setEdge(e,s,t):i.setEdge(e,s),s}),this},Graph.prototype.setEdge=function(){var e,t,i,r,s=!1,n=arguments[0];"object"==typeof n&&null!==n&&"v"in n?(e=n.v,t=n.w,i=n.name,2===arguments.length&&(r=arguments[1],s=!0)):(e=n,t=arguments[1],i=arguments[3],arguments.length>2&&(r=arguments[2],s=!0)),e=""+e,t=""+t,_.isUndefined(i)||(i=""+i);var o=edgeArgsToId(this._isDirected,e,t,i);if(_.has(this._edgeLabels,o))return s&&(this._edgeLabels[o]=r),this;if(!_.isUndefined(i)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[o]=s?r:this._defaultEdgeLabelFn(e,t,i);var h=edgeArgsToObj(this._isDirected,e,t,i);return e=h.v,t=h.w,Object.freeze(h),this._edgeObjs[o]=h,incrementOrInitEntry(this._preds[t],e),incrementOrInitEntry(this._sucs[e],t),this._in[t][o]=h,this._out[e][o]=h,this._edgeCount++,this},Graph.prototype.edge=function(e,t,i){var r=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,e,t,i);return this._edgeLabels[r]},Graph.prototype.hasEdge=function(e,t,i){var r=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,e,t,i);return _.has(this._edgeLabels,r)},Graph.prototype.removeEdge=function(e,t,i){var r=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,e,t,i),s=this._edgeObjs[r];return s&&(e=s.v,t=s.w,delete this._edgeLabels[r],delete this._edgeObjs[r],decrementOrRemoveEntry(this._preds[t],e),decrementOrRemoveEntry(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},Graph.prototype.inEdges=function(e,t){var i=this._in[e];if(i){var r=_.values(i);return t?_.filter(r,function(e){return e.v===t}):r}},Graph.prototype.outEdges=function(e,t){var i=this._out[e];if(i){var r=_.values(i);return t?_.filter(r,function(e){return e.w===t}):r}},Graph.prototype.nodeEdges=function(e,t){var i=this.inEdges(e,t);if(i)return i.concat(this.outEdges(e,t))};
},{"./lodash":82}],80:[function(require,module,exports){
module.exports={Graph:require("./graph"),version:require("./version")};
},{"./graph":79,"./version":83}],81:[function(require,module,exports){
function write(e){var n={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:writeNodes(e),edges:writeEdges(e)};return _.isUndefined(e.graph())||(n.value=_.clone(e.graph())),n}function writeNodes(e){return _.map(e.nodes(),function(n){var r=e.node(n),a=e.parent(n),t={v:n};return _.isUndefined(r)||(t.value=r),_.isUndefined(a)||(t.parent=a),t})}function writeEdges(e){return _.map(e.edges(),function(n){var r=e.edge(n),a={v:n.v,w:n.w};return _.isUndefined(n.name)||(a.name=n.name),_.isUndefined(r)||(a.value=r),a})}function read(e){var n=new Graph(e.options).setGraph(e.value);return _.each(e.nodes,function(e){n.setNode(e.v,e.value),e.parent&&n.setParent(e.v,e.parent)}),_.each(e.edges,function(e){n.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),n}var _=require("./lodash"),Graph=require("./graph");module.exports={write:write,read:read};
},{"./graph":79,"./lodash":82}],82:[function(require,module,exports){
arguments[4][41][0].apply(exports,arguments)
},{"dup":41,"lodash":109}],83:[function(require,module,exports){
module.exports="2.1.5";
},{}],84:[function(require,module,exports){
(function (Buffer){
"use strict";exports.__esModule=!0,exports.UNPARSEABLE_TAGS=exports.TYPEDARRAY_TAGS=exports.TOSTRING_TAGS=exports.SELF_TAGS=exports.PRIMITIVE_TAGS=exports.ITERABLE_TAGS=exports.OBJECT_CLASS_TYPE_MAP=exports.OBJECT_CLASS_MAP=exports.OBJECT_CLASSES=exports.SVG_ELEMENT_REGEXP=exports.HTML_ELEMENT_REGEXP=exports.HAS_UINT16ARRAY_SUPPORT=exports.HAS_BUFFER_FROM_SUPPORT=exports.CIRCULAR_VALUE=void 0;var _SELF_TAGS,_TOSTRING_TAGS,_TYPEDARRAY_TAGS,_UNPARSEABLE_TAGS,CIRCULAR_VALUE="~";exports.CIRCULAR_VALUE=CIRCULAR_VALUE;var HAS_BUFFER_FROM_SUPPORT="undefined"!=typeof Buffer&&"function"==typeof Buffer.from;exports.HAS_BUFFER_FROM_SUPPORT=HAS_BUFFER_FROM_SUPPORT;var HAS_UINT16ARRAY_SUPPORT="function"==typeof Uint16Array;exports.HAS_UINT16ARRAY_SUPPORT=HAS_UINT16ARRAY_SUPPORT;var HTML_ELEMENT_REGEXP=/\[object (HTML(.*)Element)\]/;exports.HTML_ELEMENT_REGEXP=HTML_ELEMENT_REGEXP;var SVG_ELEMENT_REGEXP=/\[object (SVG(.*)Element)\]/;exports.SVG_ELEMENT_REGEXP=SVG_ELEMENT_REGEXP;var OBJECT_CLASSES=["Arguments","Array","ArrayBuffer","Boolean","DataView","Date","DocumentFragment","Error","Event","Float32Array","Float64Array","Function","Generator","GeneratorFunction","HTMLElement","Int8Array","Int16Array","Int32Array","Map","Null","Number","Object","Promise","RegExp","Set","String","Symbol","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","Undefined","WeakMap","WeakSet","Window"];exports.OBJECT_CLASSES=OBJECT_CLASSES;var OBJECT_CLASS_MAP=OBJECT_CLASSES.reduce(function(A,_){return A["[object "+_+"]"]=_,A},{});exports.OBJECT_CLASS_MAP=OBJECT_CLASS_MAP;var OBJECT_CLASS_TYPE_MAP=Object.keys(OBJECT_CLASS_MAP).reduce(function(A,_){return A[OBJECT_CLASS_MAP[_].toUpperCase()]=_,A},{});exports.OBJECT_CLASS_TYPE_MAP=OBJECT_CLASS_TYPE_MAP;var ITERABLE_TAGS={"[object Map]":!0,"[object Set]":!0};exports.ITERABLE_TAGS=ITERABLE_TAGS;var PRIMITIVE_TAGS={boolean:!0,function:!0,number:!0,string:!0,undefined:!0};exports.PRIMITIVE_TAGS=PRIMITIVE_TAGS;var SELF_TAGS=(_SELF_TAGS={},_SELF_TAGS[OBJECT_CLASS_TYPE_MAP.ARGUMENTS]=!0,_SELF_TAGS[OBJECT_CLASS_TYPE_MAP.ARRAY]=!0,_SELF_TAGS);exports.SELF_TAGS=SELF_TAGS;var TOSTRING_TAGS=(_TOSTRING_TAGS={},_TOSTRING_TAGS[OBJECT_CLASS_TYPE_MAP.REGEXP]=!0,_TOSTRING_TAGS[OBJECT_CLASS_TYPE_MAP.SYMBOL]=!0,_TOSTRING_TAGS);exports.TOSTRING_TAGS=TOSTRING_TAGS;var TYPEDARRAY_TAGS=(_TYPEDARRAY_TAGS={},_TYPEDARRAY_TAGS[OBJECT_CLASS_TYPE_MAP.FLOAT32ARRAY]=!0,_TYPEDARRAY_TAGS[OBJECT_CLASS_TYPE_MAP.FLOAT64ARRAY]=!0,_TYPEDARRAY_TAGS[OBJECT_CLASS_TYPE_MAP.INT8ARRAY]=!0,_TYPEDARRAY_TAGS[OBJECT_CLASS_TYPE_MAP.INT16ARRAY]=!0,_TYPEDARRAY_TAGS[OBJECT_CLASS_TYPE_MAP.INT32ARRAY]=!0,_TYPEDARRAY_TAGS[OBJECT_CLASS_TYPE_MAP.UINT8ARRAY]=!0,_TYPEDARRAY_TAGS[OBJECT_CLASS_TYPE_MAP.UINT8CLAMPEDARRAY]=!0,_TYPEDARRAY_TAGS[OBJECT_CLASS_TYPE_MAP.UINT16ARRAY]=!0,_TYPEDARRAY_TAGS[OBJECT_CLASS_TYPE_MAP.UINT32ARRAY]=!0,_TYPEDARRAY_TAGS);exports.TYPEDARRAY_TAGS=TYPEDARRAY_TAGS;var UNPARSEABLE_TAGS=(_UNPARSEABLE_TAGS={},_UNPARSEABLE_TAGS[OBJECT_CLASS_TYPE_MAP.GENERATOR]=!0,_UNPARSEABLE_TAGS[OBJECT_CLASS_TYPE_MAP.PROMISE]=!0,_UNPARSEABLE_TAGS[OBJECT_CLASS_TYPE_MAP.WEAKMAP]=!0,_UNPARSEABLE_TAGS[OBJECT_CLASS_TYPE_MAP.WEAKSET]=!0,_UNPARSEABLE_TAGS);exports.UNPARSEABLE_TAGS=UNPARSEABLE_TAGS;
}).call(this,require("buffer").Buffer)

},{"buffer":27}],85:[function(require,module,exports){
"use strict";function hash(r){return(0,_utils.getIntegerHashValue)((0,_utils.stringify)(r))}exports.__esModule=!0,exports.hash=hash,exports.default=void 0;var _curriable=require("curriable"),_utils=require("./utils");hash.is=(0,_curriable.curry)(function(r,e){return hash(r)===hash(e)}),hash.is.all=(0,_curriable.curry)(function(){for(var r=arguments.length,e=new Array(r),a=0;a<r;a++)e[a]=arguments[a];for(var t=hash.is(e.shift()),h=0;h<e.length;h++)if(!t(e[h]))return!1;return!0},2),hash.is.any=(0,_curriable.curry)(function(){for(var r=arguments.length,e=new Array(r),a=0;a<r;a++)e[a]=arguments[a];for(var t=hash.is(e.shift()),h=0;h<e.length;h++)if(t(e[h]))return!0;return!1},2),hash.is.not=(0,_curriable.curry)(function(r,e){return hash(r)!==hash(e)});var _default=hash;exports.default=_default;
},{"./utils":86,"curriable":30}],86:[function(require,module,exports){
(function (Buffer){
"use strict";function getFunctionName(t){return t.name||(t.toString().match(/^\s*function\s*([^\(]*)/i)||[])[1]||"anonymous"}function getIntegerHashValue(t){for(var e,r=t.length,n=5381,o=52711;r--;)e=charCodeAt.call(t,r),n=33*n^e,o=33*o^e;return 4096*(n>>>0)+(o>>>0)}function getSortedEvent(t){return{bubbles:t.bubbles,cancelBubble:t.cancelBubble,cancelable:t.cancelable,composed:t.composed,currentTarget:t.currentTarget,defaultPrevented:t.defaultPrevented,eventPhase:t.eventPhase,isTrusted:t.isTrusted,returnValue:t.returnValue,target:t.target,type:t.type}}function shouldSort(t,e){return t>e}function shouldSortPair(t,e){return shouldSort(t[0],e[0])}function sort(t,e){for(var r,n,o=0;o<t.length;o++){for(n=t[o],r=o-1;~r&&e(t[r],n);r--)t[r+1]=t[r];t[r+1]=n}return t}function getSortedIterablePairs(t,e,r){var n="function"==typeof t.get,o=[];n?t.forEach(function(t,n){o.push([stringify(n,e,r),stringify(t,e,r)])}):t.forEach(function(t){o.push([stringify(t,e,r)])}),sort(o,shouldSortPair);for(var i,a=o.length,s=a-1,u="[",f=0;f<a;f++)i=o[f],u+=n?"["+i[0]+","+i[1]+"]":i[0],u+=f===s?"]":",";return getFunctionName(t.constructor)+SEPARATOR+u}function getSortedObject(t){for(var e,r=sort(keys(t),shouldSort),n={},o=0;o<r.length;o++)e=r[o],n[e]=t[e];return n}function getStringifiedArrayBufferFallback(t){return String.fromCharCode.apply(null,new Uint16Array(t))}function getStringifiedArrayBufferModern(t){return Buffer.from(t).toString("utf8")}function getStringifiedArrayBufferNoSupport(){return""}function getStringifiedDocumentFragment(t){for(var e=t.children,r="",n=0;n<e.length;n++)r+=e[n].outerHTML;return r}function getCutoffIndex(t,e){for(var r=0;r<t.length;r++)if(t[r]===e)return r+1;return 0}function getNormalizedValue(t,e,r,n){if(void 0===n){var o=typeof t;if("string"===o||_constants.PRIMITIVE_TAGS[o])return o+SEPARATOR+t;if(null===t)return"null"+SEPARATOR+t}var i=n||toString.call(t);return _constants.SELF_TAGS[i]?t:i===_constants.OBJECT_CLASS_TYPE_MAP.OBJECT?getSortedObject(t):_constants.TOSTRING_TAGS[i]?_constants.OBJECT_CLASS_MAP[i]+SEPARATOR+t.toString():_constants.ITERABLE_TAGS[i]?getSortedIterablePairs(t,e,r):i===_constants.OBJECT_CLASS_TYPE_MAP.DATE?_constants.OBJECT_CLASS_MAP[i]+SEPARATOR+t.getTime():i===_constants.OBJECT_CLASS_TYPE_MAP.ERROR?_constants.OBJECT_CLASS_MAP[i]+SEPARATOR+t.stack:i===_constants.OBJECT_CLASS_TYPE_MAP.EVENT?getSortedEvent(t):_constants.UNPARSEABLE_TAGS[i]?_constants.OBJECT_CLASS_MAP[i]+SEPARATOR+"NOT_ENUMERABLE":_constants.HTML_ELEMENT_REGEXP.test(i)||_constants.SVG_ELEMENT_REGEXP.test(i)?i.slice(8,-1)+SEPARATOR+t.outerHTML:i===_constants.OBJECT_CLASS_TYPE_MAP.DOCUMENTFRAGMENT?_constants.OBJECT_CLASS_MAP[i]+SEPARATOR+getStringifiedDocumentFragment(t):_constants.TYPEDARRAY_TAGS[i]?_constants.OBJECT_CLASS_MAP[i]+SEPARATOR+t.join(","):i===_constants.OBJECT_CLASS_TYPE_MAP.ARRAYBUFFER?_constants.OBJECT_CLASS_MAP[i]+SEPARATOR+getStringifiedArrayBuffer(t):i===_constants.OBJECT_CLASS_TYPE_MAP.DATAVIEW?_constants.OBJECT_CLASS_MAP[i]+SEPARATOR+getStringifiedArrayBuffer(t.buffer):t}function createReplacer(t,e){return void 0===t&&(t=[]),void 0===e&&(e=[]),function(r,n){if("object"==typeof n)if(t.length){var o=getCutoffIndex(t,this);0===o?t.push(this):(t.splice(o),e.splice(o)),e.push(r);var i=getCutoffIndex(t,n);if(0!==i){var a=e.slice(0,i).join(".")||".";return"[~"+a+"]"}t.push(n)}else t[0]=n,e[0]=r;return r&&this[r]instanceof Date?getNormalizedValue(this[r],t,e,_constants.OBJECT_CLASS_TYPE_MAP.DATE,t,e):getNormalizedValue(n,t,e)}}function stringify(t,e,r){if(!t||"object"!=typeof t)return getNormalizedValue(t,e,r);var n=toString.call(t);return n===_constants.OBJECT_CLASS_TYPE_MAP.DATE||n===_constants.OBJECT_CLASS_TYPE_MAP.REGEXP?getNormalizedValue(t,e,r,n):JSON.stringify(t,createReplacer(e,r))}exports.__esModule=!0,exports.getFunctionName=getFunctionName,exports.getIntegerHashValue=getIntegerHashValue,exports.getSortedEvent=getSortedEvent,exports.shouldSort=shouldSort,exports.shouldSortPair=shouldSortPair,exports.sort=sort,exports.getSortedIterablePairs=getSortedIterablePairs,exports.getSortedObject=getSortedObject,exports.getStringifiedArrayBufferFallback=getStringifiedArrayBufferFallback,exports.getStringifiedArrayBufferModern=getStringifiedArrayBufferModern,exports.getStringifiedArrayBufferNoSupport=getStringifiedArrayBufferNoSupport,exports.getStringifiedDocumentFragment=getStringifiedDocumentFragment,exports.getCutoffIndex=getCutoffIndex,exports.getNormalizedValue=getNormalizedValue,exports.createReplacer=createReplacer,exports.stringify=stringify,exports.getStringifiedArrayBuffer=void 0;var _constants=require("./constants"),SEPARATOR="|",charCodeAt=String.prototype.charCodeAt,toString=Object.prototype.toString,keys=Object.keys,getStringifiedArrayBuffer=function(){return _constants.HAS_BUFFER_FROM_SUPPORT?getStringifiedArrayBufferModern:_constants.HAS_UINT16ARRAY_SUPPORT?getStringifiedArrayBufferFallback:getStringifiedArrayBufferNoSupport}();exports.getStringifiedArrayBuffer=getStringifiedArrayBuffer;
}).call(this,require("buffer").Buffer)

},{"./constants":84,"buffer":27}],87:[function(require,module,exports){
"use strict";function addEvent(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function getMods(e,t){for(var n=t.slice(0,t.length-1),o=0;o<n.length;o++)n[o]=e[n[o].toLowerCase()];return n}function getKeys(e){"string"!=typeof e&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function compareArray(e,t){for(var n=e.length>=t.length?e:t,o=e.length>=t.length?t:e,s=!0,r=0;r<n.length;r++)-1===o.indexOf(n[r])&&(s=!1);return s}function setScope(e){_scope=e||"all"}function getScope(){return _scope||"all"}function getPressedKeyCodes(){return _downKeys.slice(0)}function filter(e){var t=e.target||e.srcElement,n=t.tagName,o=!0;return!t.isContentEditable&&("INPUT"!==n&&"TEXTAREA"!==n&&"SELECT"!==n||t.readOnly)||(o=!1),o}function isPressed(e){return"string"==typeof e&&(e=code(e)),-1!==_downKeys.indexOf(e)}function deleteScope(e,t){var n,o;e||(e=getScope());for(var s in _handlers)if(Object.prototype.hasOwnProperty.call(_handlers,s))for(n=_handlers[s],o=0;o<n.length;)n[o].scope===e?n.splice(o,1):o++;getScope()===e&&setScope(t||"all")}function clearModifier(e){var t=e.keyCode||e.which||e.charCode,n=_downKeys.indexOf(t);if(n>=0&&_downKeys.splice(n,1),e.key&&"meta"===e.key.toLowerCase()&&_downKeys.splice(0,_downKeys.length),93!==t&&224!==t||(t=91),t in _mods){_mods[t]=!1;for(var o in _modifier)_modifier[o]===t&&(hotkeys[o]=!1)}}function unbind(e){if(e){if(Array.isArray(e))e.forEach(function(e){e.key&&eachUnbind(e)});else if("object"==typeof e)e.key&&eachUnbind(e);else if("string"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var s=n[0],r=n[1];"function"==typeof s&&(r=s,s=""),eachUnbind({key:e,scope:s,method:r,splitKey:"+"})}}else Object.keys(_handlers).forEach(function(e){return delete _handlers[e]})}function eventHandler(e,t,n){var o;if(t.scope===n||"all"===t.scope){o=t.mods.length>0;for(var s in _mods)Object.prototype.hasOwnProperty.call(_mods,s)&&(!_mods[s]&&t.mods.indexOf(+s)>-1||_mods[s]&&-1===t.mods.indexOf(+s))&&(o=!1);(0!==t.mods.length||_mods[16]||_mods[18]||_mods[17]||_mods[91])&&!o&&"*"!==t.shortcut||!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function dispatch(e){var t=_handlers["*"],n=e.keyCode||e.which||e.charCode;if(hotkeys.filter.call(this,e)){if(93!==n&&224!==n||(n=91),-1===_downKeys.indexOf(n)&&229!==n&&_downKeys.push(n),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(t){var n=modifierMap[t];e[t]&&-1===_downKeys.indexOf(n)?_downKeys.push(n):!e[t]&&_downKeys.indexOf(n)>-1?_downKeys.splice(_downKeys.indexOf(n),1):"metaKey"===t&&e[t]&&3===_downKeys.length&&(e.ctrlKey||e.shiftKey||e.altKey||(_downKeys=_downKeys.slice(_downKeys.indexOf(n))))}),n in _mods){_mods[n]=!0;for(var o in _modifier)_modifier[o]===n&&(hotkeys[o]=!0);if(!t)return}for(var s in _mods)Object.prototype.hasOwnProperty.call(_mods,s)&&(_mods[s]=e[modifierMap[s]]);e.getModifierState&&(!e.altKey||e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===_downKeys.indexOf(17)&&_downKeys.push(17),-1===_downKeys.indexOf(18)&&_downKeys.push(18),_mods[17]=!0,_mods[18]=!0);var r=getScope();if(t)for(var d=0;d<t.length;d++)t[d].scope===r&&("keydown"===e.type&&t[d].keydown||"keyup"===e.type&&t[d].keyup)&&eventHandler(e,t[d],r);if(n in _handlers)for(var i=0;i<_handlers[n].length;i++)if(("keydown"===e.type&&_handlers[n][i].keydown||"keyup"===e.type&&_handlers[n][i].keyup)&&_handlers[n][i].key){for(var a=_handlers[n][i],c=a.splitKey,l=a.key.split(c),f=[],y=0;y<l.length;y++)f.push(code(l[y]));f.sort().join("")===_downKeys.sort().join("")&&eventHandler(e,a,r)}}}function isElementBind(e){return elementHasBindEvent.indexOf(e)>-1}function hotkeys(e,t,n){_downKeys=[];var o=getKeys(e),s=[],r="all",d=document,i=0,a=!1,c=!0,l="+";for(void 0===n&&"function"==typeof t&&(n=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(r=t.scope),t.element&&(d=t.element),t.keyup&&(a=t.keyup),void 0!==t.keydown&&(c=t.keydown),"string"==typeof t.splitKey&&(l=t.splitKey)),"string"==typeof t&&(r=t);i<o.length;i++)e=o[i].split(l),s=[],e.length>1&&(s=getMods(_modifier,e)),e=e[e.length-1],e="*"===e?"*":code(e),e in _handlers||(_handlers[e]=[]),_handlers[e].push({keyup:a,keydown:c,scope:r,mods:s,shortcut:o[i],method:n,key:o[i],splitKey:l});void 0!==d&&!isElementBind(d)&&window&&(elementHasBindEvent.push(d),addEvent(d,"keydown",function(e){dispatch(e)}),addEvent(window,"focus",function(){_downKeys=[]}),addEvent(d,"keyup",function(e){dispatch(e),clearModifier(e)}))}for(var isff="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0,_keyMap={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,"⇪":20,",":188,".":190,"/":191,"`":192,"-":isff?173:189,"=":isff?61:187,";":isff?59:186,"'":222,"[":219,"]":221,"\\":220},_modifier={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},modifierMap={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},_mods={16:!1,18:!1,17:!1,91:!1},_handlers={},k=1;k<20;k++)_keyMap["f".concat(k)]=111+k;var _downKeys=[],_scope="all",elementHasBindEvent=[],code=function(e){return _keyMap[e.toLowerCase()]||_modifier[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)},eachUnbind=function(e){var t=e.key,n=e.scope,o=e.method,s=e.splitKey,r=void 0===s?"+":s;getKeys(t).forEach(function(e){var t=e.split(r),s=t.length,d=t[s-1],i="*"===d?"*":code(d);if(_handlers[i]){n||(n=getScope());var a=s>1?getMods(_modifier,t):[];_handlers[i]=_handlers[i].map(function(e){return o&&e.method!==o||e.scope!==n||!compareArray(e.mods,a)?e:{}})}})},_api={setScope:setScope,getScope:getScope,deleteScope:deleteScope,getPressedKeyCodes:getPressedKeyCodes,isPressed:isPressed,filter:filter,unbind:unbind};for(var a in _api)Object.prototype.hasOwnProperty.call(_api,a)&&(hotkeys[a]=_api[a]);if("undefined"!=typeof window){var _hotkeys=window.hotkeys;hotkeys.noConflict=function(e){return e&&window.hotkeys===hotkeys&&(window.hotkeys=_hotkeys),hotkeys},window.hotkeys=hotkeys}module.exports=hotkeys;
},{}],88:[function(require,module,exports){
"use strict";function addEvent(e,t,o){e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent&&e.attachEvent("on".concat(t),function(){o(window.event)})}function getMods(e,t){for(var o=t.slice(0,t.length-1),n=0;n<o.length;n++)o[n]=e[o[n].toLowerCase()];return o}function getKeys(e){"string"!=typeof e&&(e="");for(var t=(e=e.replace(/\s/g,"")).split(","),o=t.lastIndexOf("");0<=o;)t[o-1]+=",",t.splice(o,1),o=t.lastIndexOf("");return t}function compareArray(e,t){for(var o=e.length<t.length?t:e,n=e.length<t.length?e:t,s=!0,r=0;r<o.length;r++)~n.indexOf(o[r])||(s=!1);return s}function setScope(e){_scope=e||"all"}function getScope(){return _scope||"all"}function getPressedKeyCodes(){return _downKeys.slice(0)}function filter(e){var t=e.target||e.srcElement,o=t.tagName,n=!0;return!t.isContentEditable&&("INPUT"!==o&&"TEXTAREA"!==o&&"SELECT"!==o||t.readOnly)||(n=!1),n}function isPressed(e){return"string"==typeof e&&(e=code(e)),!!~_downKeys.indexOf(e)}function deleteScope(e,t){var o,n;for(var s in e=e||getScope(),_handlers)if(Object.prototype.hasOwnProperty.call(_handlers,s))for(o=_handlers[s],n=0;n<o.length;)o[n].scope===e?o.splice(n,1):n++;getScope()===e&&setScope(t||"all")}function clearModifier(e){var t=e.keyCode||e.which||e.charCode,o=_downKeys.indexOf(t);if(o<0||_downKeys.splice(o,1),e.key&&"meta"==e.key.toLowerCase()&&_downKeys.splice(0,_downKeys.length),93!==t&&224!==t||(t=91),t in _mods)for(var n in _mods[t]=!1,_modifier)_modifier[n]===t&&(hotkeys[n]=!1)}function unbind(e){if(e){if(Array.isArray(e))e.forEach(function(e){e.key&&eachUnbind(e)});else if("object"==typeof e)e.key&&eachUnbind(e);else if("string"==typeof e){for(var t=arguments.length,o=Array(1<t?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];var s=o[0],r=o[1];"function"==typeof s&&(r=s,s=""),eachUnbind({key:e,scope:s,method:r,splitKey:"+"})}}else Object.keys(_handlers).forEach(function(e){return delete _handlers[e]})}function eventHandler(e,t,o){var n;if(t.scope===o||"all"===t.scope){for(var s in n=0<t.mods.length,_mods)Object.prototype.hasOwnProperty.call(_mods,s)&&(!_mods[s]&&~t.mods.indexOf(+s)||_mods[s]&&!~t.mods.indexOf(+s))&&(n=!1);(0!==t.mods.length||_mods[16]||_mods[18]||_mods[17]||_mods[91])&&!n&&"*"!==t.shortcut||!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function dispatch(e){var t=_handlers["*"],o=e.keyCode||e.which||e.charCode;if(hotkeys.filter.call(this,e)){if(93!==o&&224!==o||(o=91),~_downKeys.indexOf(o)||229===o||_downKeys.push(o),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(t){var o=modifierMap[t];e[t]&&!~_downKeys.indexOf(o)?_downKeys.push(o):!e[t]&&~_downKeys.indexOf(o)?_downKeys.splice(_downKeys.indexOf(o),1):"metaKey"===t&&e[t]&&3===_downKeys.length&&(e.ctrlKey||e.shiftKey||e.altKey||(_downKeys=_downKeys.slice(_downKeys.indexOf(o))))}),o in _mods){for(var n in _mods[o]=!0,_modifier)_modifier[n]===o&&(hotkeys[n]=!0);if(!t)return}for(var s in _mods)Object.prototype.hasOwnProperty.call(_mods,s)&&(_mods[s]=e[modifierMap[s]]);e.getModifierState&&(!e.altKey||e.ctrlKey)&&e.getModifierState("AltGraph")&&(~_downKeys.indexOf(17)||_downKeys.push(17),~_downKeys.indexOf(18)||_downKeys.push(18),_mods[17]=!0,_mods[18]=!0);var r=getScope();if(t)for(var d=0;d<t.length;d++)t[d].scope===r&&("keydown"===e.type&&t[d].keydown||"keyup"===e.type&&t[d].keyup)&&eventHandler(e,t[d],r);if(o in _handlers)for(var i=0;i<_handlers[o].length;i++)if(("keydown"===e.type&&_handlers[o][i].keydown||"keyup"===e.type&&_handlers[o][i].keyup)&&_handlers[o][i].key){for(var a=_handlers[o][i],c=a.key.split(a.splitKey),l=[],f=0;f<c.length;f++)l.push(code(c[f]));l.sort().join("")===_downKeys.sort().join("")&&eventHandler(e,a,r)}}}function isElementBind(e){return!!~elementHasBindEvent.indexOf(e)}function hotkeys(e,t,o){_downKeys=[];var n=getKeys(e),s=[],r="all",d=document,i=0,a=!1,c=!0,l="+";for(void 0===o&&"function"==typeof t&&(o=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(r=t.scope),t.element&&(d=t.element),t.keyup&&(a=t.keyup),void 0!==t.keydown&&(c=t.keydown),"string"==typeof t.splitKey&&(l=t.splitKey)),"string"==typeof t&&(r=t);i<n.length;i++)s=[],1<(e=n[i].split(l)).length&&(s=getMods(_modifier,e)),(e="*"===(e=e[e.length-1])?"*":code(e))in _handlers||(_handlers[e]=[]),_handlers[e].push({keyup:a,keydown:c,scope:r,mods:s,shortcut:n[i],method:o,key:n[i],splitKey:l});void 0!==d&&!isElementBind(d)&&window&&(elementHasBindEvent.push(d),addEvent(d,"keydown",function(e){dispatch(e)}),addEvent(window,"focus",function(){_downKeys=[]}),addEvent(d,"keyup",function(e){dispatch(e),clearModifier(e)}))}for(var isff="undefined"!=typeof navigator&&0<navigator.userAgent.toLowerCase().indexOf("firefox"),_keyMap={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,"⇪":20,",":188,".":190,"/":191,"`":192,"-":isff?173:189,"=":isff?61:187,";":isff?59:186,"'":222,"[":219,"]":221,"\\":220},_modifier={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},modifierMap={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},_mods={16:!1,18:!1,17:!1,91:!1},_handlers={},k=1;k<20;k++)_keyMap["f".concat(k)]=111+k;var _downKeys=[],_scope="all",elementHasBindEvent=[],code=function(e){return _keyMap[e.toLowerCase()]||_modifier[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)},eachUnbind=function(e){var t=e.scope,o=e.method,n=e.splitKey,s=void 0===n?"+":n;getKeys(e.key).forEach(function(e){var n=e.split(s),r=n.length,d=n[r-1],i="*"===d?"*":code(d);if(_handlers[i]){t=t||getScope();var a=1<r?getMods(_modifier,n):[];_handlers[i]=_handlers[i].map(function(e){return o&&e.method!==o||e.scope!==t||!compareArray(e.mods,a)?e:{}})}})},_api={setScope:setScope,getScope:getScope,deleteScope:deleteScope,getPressedKeyCodes:getPressedKeyCodes,isPressed:isPressed,filter:filter,unbind:unbind};for(var a in _api)Object.prototype.hasOwnProperty.call(_api,a)&&(hotkeys[a]=_api[a]);if("undefined"!=typeof window){var _hotkeys=window.hotkeys;hotkeys.noConflict=function(e){return e&&window.hotkeys===hotkeys&&(window.hotkeys=_hotkeys),hotkeys},window.hotkeys=hotkeys}module.exports=hotkeys;
},{}],89:[function(require,module,exports){
(function (process){
"production"===process.env.NODE_ENV?module.exports=require("./dist/hotkeys.common.min.js"):module.exports=require("./dist/hotkeys.common.js");
}).call(this,require('_process'))

},{"./dist/hotkeys.common.js":87,"./dist/hotkeys.common.min.js":88,"_process":133}],90:[function(require,module,exports){
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),o+=p+N>=1?n/f:n*Math.pow(2,1-N),o*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};
},{}],91:[function(require,module,exports){
!function(t,e){if("function"==typeof define&&define.amd)define(["backbone","lodash","jquery"],function(i,n,r){return i.$=r,e(t,i,n,r)});else if("undefined"!=typeof exports){var i=require("backbone"),n=require("lodash"),r=i.$=require("jquery");module.exports=e(t,i,n,r)}else{var i=t.Backbone,n=t._,r=i.$=t.jQuery||t.$;t.joint=e(t,i,n,r),t.g=t.joint.g,t.V=t.Vectorizer=t.joint.V}}(this,function(t,e,i,n){!function(){function t(t){this.message=t}var e="undefined"!=typeof exports?exports:this,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";(t.prototype=new Error).name="InvalidCharacterError",e.btoa||(e.btoa=function(e){for(var n,r,o=String(e),a=0,s=i,l="";o.charAt(0|a)||(s="=",a%1);l+=s.charAt(63&n>>8-a%1*8)){if(255<(r=o.charCodeAt(a+=.75)))throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");n=n<<8|r}return l}),e.atob||(e.atob=function(e){var n=String(e).replace(/=+$/,"");if(n.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,o,a=0,s=0,l="";o=n.charAt(s++);~o&&(r=a%4?64*r+o:o,a++%4)?l+=String.fromCharCode(255&r>>(-2*a&6)):0)o=i.indexOf(o);return l})}(),function(){function t(t,e){return this.slice(t,e)}function e(t,e){arguments.length<2&&(e=0);for(var i=0,n=t.length;i<n;++i,++e)this[e]=255&t[i]}function i(i){var n;if("number"==typeof i){n=new Array(i);for(var r=0;r<i;++r)n[r]=0}else n=i.slice(0);return n.subarray=t,(n.buffer=n).byteLength=n.length,n.set=e,"object"==typeof i&&i.buffer&&(n.buffer=i.buffer),n}"undefined"==typeof Uint8Array&&"undefined"!=typeof window&&(window.Uint8Array=i,window.Uint32Array=i,window.Int32Array=i)}(),"undefined"!=typeof XMLHttpRequest&&("response"in XMLHttpRequest.prototype||"mozResponseArrayBuffer"in XMLHttpRequest.prototype||"mozResponse"in XMLHttpRequest.prototype||"responseArrayBuffer"in XMLHttpRequest.prototype||Object.defineProperty(XMLHttpRequest.prototype,"response",{get:function(){return new Uint8Array(new VBArray(this.responseBody).toArray())}})),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),n=i.length>>>0;if(0===n)return!1;for(var r,o,a=0|e,s=Math.max(0<=a?a:n-Math.abs(a),0);s<n;){if((r=i[s])===(o=t)||"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))return!0;s++}return!1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var n=arguments[1],r=0;r<i;){var o=e[r];if(t.call(n,o,r,e))return o;r++}}}),Array.from||(Array.from=function(){var t=Object.prototype.toString,e=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},i=Math.pow(2,53)-1,n=function(t){var e,n=(e=Number(t),isNaN(e)?0:0!==e&&isFinite(e)?(0<e?1:-1)*Math.floor(Math.abs(e)):e);return Math.min(Math.max(n,0),i)};return function(t){var i=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var r,o=1<arguments.length?arguments[1]:void 0;if(void 0!==o){if(!e(o))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(r=arguments[2])}for(var a,s=n(i.length),l=e(this)?Object(new this(s)):new Array(s),c=0;c<s;)a=i[c],l[c]=o?void 0===r?o(a,c):o.call(r,a,c):a,c+=1;return l.length=s,l}}()),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var n=arguments[1],r=0;r<i;){var o=e[r];if(t.call(n,o,r,e))return r;r++}return-1}}),String.prototype.includes||(String.prototype.includes=function(t,e){"use strict";return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)}),String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return this.substr(e||0,t.length)===t}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isNaN=Number.isNaN||function(t){return t!=t};var r={};!function(t){function e(t,e){return e.unshift(null),new(Function.prototype.bind.apply(t,e))}function i(t){var e,i,n=[];for(i=arguments.length,e=1;e<i;e++)n.push(arguments[e]);if(!t)throw new Error("Missing a parent object.");var r=Object.create(t);for(i=n.length,e=0;e<i;e++){var o,a,s=n[e];for(a in s)s.hasOwnProperty(a)&&(delete r[a],o=Object.getOwnPropertyDescriptor(s,a),Object.defineProperty(r,a,o))}return r}var n=Math,r=n.abs,o=n.cos,a=n.sin,s=n.sqrt,l=n.min,c=n.max,g=n.atan2,h=n.round,u=n.floor,d=n.PI,p=n.random,f=n.pow;t.bezier={curveThroughPoints:function(t){return console.warn("deprecated"),new C(I.throughPoints(t)).serialize()},getCurveControlPoints:function(t){console.warn("deprecated");var e,i=[],n=[],r=t.length-1;if(1==r)return i[0]=new v((2*t[0].x+t[1].x)/3,(2*t[0].y+t[1].y)/3),n[0]=new v(2*i[0].x-t[0].x,2*i[0].y-t[0].y),[i,n];var o=[];for(e=1;e<r-1;e++)o[e]=4*t[e].x+2*t[e+1].x;o[0]=t[0].x+2*t[1].x,o[r-1]=(8*t[r-1].x+t[r].x)/2;var a=this.getFirstControlPoints(o);for(e=1;e<r-1;++e)o[e]=4*t[e].y+2*t[e+1].y;o[0]=t[0].y+2*t[1].y,o[r-1]=(8*t[r-1].y+t[r].y)/2;var s=this.getFirstControlPoints(o);for(e=0;e<r;e++)i.push(new v(a[e],s[e])),e<r-1?n.push(new v(2*t[e+1].x-a[e+1],2*t[e+1].y-s[e+1])):n.push(new v((t[r].x+a[r-1])/2,(t[r].y+s[r-1])/2));return[i,n]},getCurveDivider:function(t,e,i,n){console.warn("deprecated");var r=new I(t,e,i,n);return function(t){var e=r.divide(t);return[{p0:e[0].start,p1:e[0].controlPoint1,p2:e[0].controlPoint2,p3:e[0].end},{p0:e[1].start,p1:e[1].controlPoint1,p2:e[1].controlPoint2,p3:e[1].end}]}},getFirstControlPoints:function(t){console.warn("deprecated");var e=t.length,i=[],n=[],r=2;i[0]=t[0]/r;for(var o=1;o<e;o++)n[o]=1/r,r=(o<e-1?4:3.5)-n[o],i[o]=(t[o]-i[o-1])/r;for(o=1;o<e;o++)i[e-o-1]-=n[e-o]*i[e-o];return i},getInversionSolver:function(t,e,i,n){console.warn("deprecated");var r=new I(t,e,i,n);return function(t){return r.closestPointT(t)}}};var I=t.Curve=function(t,e,i,n){return this instanceof I?t instanceof I?new I(t.start,t.controlPoint1,t.controlPoint2,t.end):(this.start=new v(t),this.controlPoint1=new v(e),this.controlPoint2=new v(i),void(this.end=new v(n))):new I(t,e,i,n)};I.throughPoints=function(){function t(t){var e=t.length,i=[],n=[],r=2;i[0]=t[0]/r;for(var o=1;o<e;o++)n[o]=1/r,r=(o<e-1?4:3.5)-n[o],i[o]=(t[o]-i[o-1])/r;for(o=1;o<e;o++)i[e-o-1]-=n[e-o]*i[e-o];return i}return function(e){if(!e||Array.isArray(e)&&e.length<2)throw new Error("At least 2 points are required");for(var i=function(e){var i,n=[],r=[],o=e.length-1;if(1==o)return n[0]=new v((2*e[0].x+e[1].x)/3,(2*e[0].y+e[1].y)/3),r[0]=new v(2*n[0].x-e[0].x,2*n[0].y-e[0].y),[n,r];var a=[];for(i=1;i<o-1;i++)a[i]=4*e[i].x+2*e[i+1].x;a[0]=e[0].x+2*e[1].x,a[o-1]=(8*e[o-1].x+e[o].x)/2;var s=t(a);for(i=1;i<o-1;++i)a[i]=4*e[i].y+2*e[i+1].y;a[0]=e[0].y+2*e[1].y,a[o-1]=(8*e[o-1].y+e[o].y)/2;var l=t(a);for(i=0;i<o;i++)n.push(new v(s[i],l[i])),i<o-1?r.push(new v(2*e[i+1].x-s[i+1],2*e[i+1].y-l[i+1])):r.push(new v((e[o].x+s[o-1])/2,(e[o].y+l[o-1])/2));return[n,r]}(e),n=[],r=i[0].length,o=0;o<r;o++){var a=new v(i[0][o].x,i[0][o].y),s=new v(i[1][o].x,i[1][o].y);n.push(new I(e[o],a,s,e[o+1]))}return n}}(),I.prototype={bbox:function(){for(var t,e,i,n,o,a,g,h,u=this.start,d=this.controlPoint1,p=this.controlPoint2,f=this.end,I=u.x,m=u.y,A=d.x,C=d.y,v=p.x,w=p.y,y=f.x,N=f.y,M=new Array,x=new Array,k=[new Array,new Array],z=0;z<2;++z)if(i=0===z?(e=6*I-12*A+6*v,t=-3*I+9*A-9*v+3*y,3*A-3*I):(e=6*m-12*C+6*w,t=-3*m+9*C-9*w+3*N,3*C-3*m),r(t)<1e-12){if(r(e)<1e-12)continue;0<(n=-i/e)&&n<1&&x.push(n)}else h=s(g=e*e-4*i*t),g<0||(0<(o=(-e+h)/(2*t))&&o<1&&x.push(o),0<(a=(-e-h)/(2*t))&&a<1&&x.push(a));for(var D,S,j,Z=x.length,G=Z;Z--;)S=(D=1-(n=x[Z]))*D*D*I+3*D*D*n*A+3*D*n*n*v+n*n*n*y,k[0][Z]=S,j=D*D*D*m+3*D*D*n*C+3*D*n*n*w+n*n*n*N,k[1][Z]=j,M[Z]={X:S,Y:j};x[G]=0,x[G+1]=1,M[G]={X:I,Y:m},M[G+1]={X:y,Y:N},k[0][G]=I,k[1][G]=m,k[0][G+1]=y,k[1][G+1]=N,x.length=G+2,k[0].length=G+2,k[1].length=G+2,M.length=G+2;var P=l.apply(null,k[0]),L=l.apply(null,k[1]),T=c.apply(null,k[0]),B=c.apply(null,k[1]);return new b(P,L,T-P,B-L)},clone:function(){return new I(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(t,e){return this.pointAtT(this.closestPointT(t,e))},closestPointLength:function(t,e){var i=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n={precision:i,subdivisions:void 0===e.subdivisions?this.getSubdivisions({precision:i}):e.subdivisions};return this.lengthAtT(this.closestPointT(t,n),n)},closestPointNormalizedLength:function(t,e){var i=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n={precision:i,subdivisions:void 0===e.subdivisions?this.getSubdivisions({precision:i}):e.subdivisions},r=this.closestPointLength(t,n);if(!r)return 0;var o=this.length(n);return 0===o?0:r/o},closestPointT:function(t,e){for(var i,n,o,a,s,l,c=void 0===(e=e||{}).precision?this.PRECISION:e.precision,g=void 0===e.subdivisions?this.getSubdivisions({precision:c}):e.subdivisions,h=g.length,u=h?1/h:0,d=0;d<h;d++){var p=g[d],I=p.start.distance(t),m=p.end.distance(t),A=I+m;(!l||A<l)&&(i=p,n=d*u,o=(d+1)*u,a=I,s=m,l=A)}for(var C=f(10,-c);;){var v,w;if(v=a?r(a-s)/a:0,w=s?r(a-s)/s:0,v<C||w<C)return a<=s?n:o;var b=i.divide(.5);u/=2;var y=b[0].start.distance(t),N=b[0].end.distance(t),M=y+N,x=b[1].start.distance(t),k=b[1].end.distance(t);s=M<=x+k?(i=b[0],o-=u,a=y,N):(i=b[1],n+=u,a=x,k)}},closestPointTangent:function(t,e){return this.tangentAtT(this.closestPointT(t,e))},divide:function(t){var e=this.start,i=this.controlPoint1,n=this.controlPoint2,r=this.end;if(t<=0)return[new I(e,e,e,e),new I(e,i,n,r)];if(1<=t)return[new I(e,i,n,r),new I(r,r,r,r)];var o=this.getSkeletonPoints(t),a=o.startControlPoint1,s=o.startControlPoint2,l=o.divider,c=o.dividerControlPoint1,g=o.dividerControlPoint2;return[new I(e,a,s,l),new I(l,c,g,r)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(t){return!!t&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.controlPoint1.x===t.controlPoint1.x&&this.controlPoint1.y===t.controlPoint1.y&&this.controlPoint2.x===t.controlPoint2.x&&this.controlPoint2.y===t.controlPoint2.y&&this.end.x===t.end.x&&this.end.y===t.end.y},getSkeletonPoints:function(t){var e=this.start,i=this.controlPoint1,n=this.controlPoint2,r=this.end;if(t<=0)return{startControlPoint1:e.clone(),startControlPoint2:e.clone(),divider:e.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:n.clone()};if(1<=t)return{startControlPoint1:i.clone(),startControlPoint2:n.clone(),divider:r.clone(),dividerControlPoint1:r.clone(),dividerControlPoint2:r.clone()};var o=new A(e,i).pointAt(t),a=new A(i,n).pointAt(t),s=new A(n,r).pointAt(t),l=new A(o,a).pointAt(t),c=new A(a,s).pointAt(t);return{startControlPoint1:o,startControlPoint2:l,divider:new A(l,c).pointAt(t),dividerControlPoint1:c,dividerControlPoint2:s}},getSubdivisions:function(t){var e=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i=[new I(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(0===e)return i;for(var n=this.endpointDistance(),r=f(10,-e),o=0;;){o+=1;for(var a=[],s=i.length,l=0;l<s;l++){var c=i[l].divide(.5);a.push(c[0],c[1])}for(var g=0,h=a.length,u=0;u<h;u++)g+=a[u].endpointDistance();if(1<o&&(0!==g?(g-n)/g:0)<r)return a;i=a,n=g}},isDifferentiable:function(){var t=this.start,e=this.controlPoint1,i=this.controlPoint2,n=this.end;return!(t.equals(e)&&e.equals(i)&&i.equals(n))},length:function(t){for(var e=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i=void 0===t.subdivisions?this.getSubdivisions({precision:e}):t.subdivisions,n=0,r=i.length,o=0;o<r;o++)n+=i[o].endpointDistance();return n},lengthAtT:function(t,e){if(t<=0)return 0;var i=void 0===(e=e||{}).precision?this.PRECISION:e.precision;return this.divide(t)[0].length({precision:i})},pointAt:function(t,e){if(t<=0)return this.start.clone();if(1<=t)return this.end.clone();var i=this.tAt(t,e);return this.pointAtT(i)},pointAtLength:function(t,e){var i=this.tAtLength(t,e);return this.pointAtT(i)},pointAtT:function(t){return t<=0?this.start.clone():1<=t?this.end.clone():this.getSkeletonPoints(t).divider},PRECISION:3,scale:function(t,e,i){return this.start.scale(t,e,i),this.controlPoint1.scale(t,e,i),this.controlPoint2.scale(t,e,i),this.end.scale(t,e,i),this},tangentAt:function(t,e){if(!this.isDifferentiable())return null;t<0?t=0:1<t&&(t=1);var i=this.tAt(t,e);return this.tangentAtT(i)},tangentAtLength:function(t,e){if(!this.isDifferentiable())return null;var i=this.tAtLength(t,e);return this.tangentAtT(i)},tangentAtT:function(t){if(!this.isDifferentiable())return null;t<0?t=0:1<t&&(t=1);var e=this.getSkeletonPoints(t),i=e.startControlPoint2,n=e.dividerControlPoint1,r=e.divider,o=new A(i,n);return o.translate(r.x-i.x,r.y-i.y),o},tAt:function(t,e){if(t<=0)return 0;if(1<=t)return 1;var i=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n={precision:i,subdivisions:void 0===e.subdivisions?this.getSubdivisions({precision:i}):e.subdivisions},r=this.length(n)*t;return this.tAtLength(r,n)},tAtLength:function(t,e){var i=!0;t<0&&(i=!1,t=-t);for(var n,r,o,a,s,l=void 0===(e=e||{}).precision?this.PRECISION:e.precision,c=void 0===e.subdivisions?this.getSubdivisions({precision:l}):e.subdivisions,g={precision:l,subdivisions:c},h=0,u=c.length,d=1/u,p=i?0:u-1;i?p<u:0<=p;i?p++:p--){var I=c[p],m=I.endpointDistance();if(t<=h+m){n=I,r=p*d,o=(p+1)*d,a=i?t-h:m+h-t,s=i?m+h-t:t-h;break}h+=m}if(!n)return i?1:0;for(var A=this.length(g),C=f(10,-l);;){var v,w;if((0!==A?a/A:0)<C)return r;if((0!==A?s/A:0)<C)return o;var b=n.divide(.5);d/=2;var y=b[0].endpointDistance(),N=b[1].endpointDistance();w=a<=y?(n=b[0],o-=d,y-(v=a)):(n=b[1],r+=d,N-(v=a-y)),a=v,s=w}},toPoints:function(t){for(var e=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i=void 0===t.subdivisions?this.getSubdivisions({precision:e}):t.subdivisions,n=[i[0].start.clone()],r=i.length,o=0;o<r;o++){var a=i[o];n.push(a.end.clone())}return n},toPolyline:function(t){return new w(this.toPoints(t))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(t,e){return this.start.translate(t,e),this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e),this}};var m=t.Ellipse=function(t,e,i){return this instanceof m?t instanceof m?new m(new v(t.x,t.y),t.a,t.b):(t=new v(t),this.x=t.x,this.y=t.y,this.a=e,void(this.b=i)):new m(t,e,i)};m.fromRect=function(t){return t=new b(t),new m(t.center(),t.width/2,t.height/2)},m.prototype={bbox:function(){return new b(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new v(this.x,this.y)},clone:function(){return new m(this)},containsPoint:function(t){return this.normalizedDistance(t)<=1},equals:function(t){return!!t&&t.x===this.x&&t.y===this.y&&t.a===this.a&&t.b===this.b},inflate:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.a+=2*t,this.b+=2*e,this},intersectionWithLine:function(t){var e=[],i=t.start,n=t.end,r=this.a,o=this.b,a=t.vector(),l=i.difference(new v(this)),c=new v(a.x/(r*r),a.y/(o*o)),g=new v(l.x/(r*r),l.y/(o*o)),h=a.dot(c),u=a.dot(g),d=u*u-h*(l.dot(g)-1);if(d<0)return null;if(0<d){var p=s(d),f=(-u-p)/h,I=(-u+p)/h;if((f<0||1<f)&&(I<0||1<I))return null;0<=f&&f<=1&&e.push(i.lerp(n,f)),0<=I&&I<=1&&e.push(i.lerp(n,I))}else{var m=-u/h;if(!(0<=m&&m<=1))return null;e.push(i.lerp(n,m))}return e},intersectionWithLineFromCenterToPoint:function(t,e){t=new v(t),e&&t.rotate(new v(this.x,this.y),e);var i,n=t.x-this.x,r=t.y-this.y;if(0===n)return i=this.bbox().pointNearestToPoint(t),e?i.rotate(new v(this.x,this.y),-e):i;var o=r/n,a=o*o,l=this.a*this.a,c=this.b*this.b,g=s(1/(1/l+a/c)),h=o*(g=n<0?-g:g);return i=new v(this.x+g,this.y+h),e?i.rotate(new v(this.x,this.y),-e):i},normalizedDistance:function(t){var e=t.x,i=t.y,n=this.a,r=this.b,o=this.x,a=this.y;return(e-o)*(e-o)/(n*n)+(i-a)*(i-a)/(r*r)},tangentTheta:function(t){var e,i,n=t.x,r=t.y,o=this.a,a=this.b,s=this.bbox().center(),l=s.x,c=s.y,g=n>s.x+o/2,h=n<s.x-o/2;return g||h?i=o*o/(n-l)-o*o*(r-c)*((e=n>s.x?r-30:r+30)-c)/(a*a*(n-l))+l:e=a*a/(r-c)-a*a*(n-l)*((i=r>s.y?n+30:n-30)-l)/(o*o*(r-c))+c,new v(i,e).theta(t)},toString:function(){return new v(this.x,this.y).toString()+" "+this.a+" "+this.b}};var A=t.Line=function(t,e){return this instanceof A?t instanceof A?new A(t.start,t.end):(this.start=new v(t),void(this.end=new v(e))):new A(t,e)};A.prototype={bbox:function(){var t=l(this.start.x,this.end.x),e=l(this.start.y,this.end.y),i=c(this.start.x,this.end.x),n=c(this.start.y,this.end.y);return new b(t,e,i-t,n-e)},bearing:function(){var t=x(this.start.y),e=x(this.end.y),i=this.start.x,n=this.end.x,r=x(n-i),s=a(r)*o(e),l=o(t)*a(e)-a(t)*o(e)*o(r),c=M(g(s,l))-22.5;return c<0&&(c+=360),["NE","E","SE","S","SW","W","NW","N"][c=parseInt(c/45)]},clone:function(){return new A(this.start,this.end)},closestPoint:function(t){return this.pointAt(this.closestPointNormalizedLength(t))},closestPointLength:function(t){return this.closestPointNormalizedLength(t)*this.length()},closestPointNormalizedLength:function(t){var e=this.vector().dot(new A(this.start,t).vector()),i=l(1,c(0,e/this.squaredLength()));return i!=i?0:i},closestPointTangent:function(t){return this.tangentAt(this.closestPointNormalizedLength(t))},equals:function(t){return!!t&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.end.x===t.end.x&&this.end.y===t.end.y},intersect:function(t,e){if(t instanceof A||t instanceof b||t instanceof w||t instanceof m||t instanceof C){var i=t.intersectionWithLine(this,e);return i&&t instanceof A&&(i=i[0]),i}return null},intersectionWithLine:function(t){var e=new v(this.end.x-this.start.x,this.end.y-this.start.y),i=new v(t.end.x-t.start.x,t.end.y-t.start.y),n=e.x*i.y-e.y*i.x,r=new v(t.start.x-this.start.x,t.start.y-this.start.y),o=r.x*i.y-r.y*i.x,a=r.x*e.y-r.y*e.x;if(0===n||o*n<0||a*n<0)return null;if(0<n){if(n<o||n<a)return null}else if(o<n||a<n)return null;return[new v(this.start.x+o*e.x/n,this.start.y+o*e.y/n)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return s(this.squaredLength())},midpoint:function(){return new v((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},pointAt:function(t){var e=this.start,i=this.end;return t<=0?e.clone():1<=t?i.clone():e.lerp(i,t)},pointAtLength:function(t){var e=this.start,i=this.end,n=!0;t<0&&(n=!1,t=-t);var r=this.length();return r<=t?n?i.clone():e.clone():this.pointAt((n?t:r-t)/r)},pointOffset:function(e){e=new t.Point(e);var i=this.start,n=this.end;return((n.x-i.x)*(e.y-i.y)-(n.y-i.y)*(e.x-i.x))/this.length()},rotate:function(t,e){return this.start.rotate(t,e),this.end.rotate(t,e),this},round:function(t){var e=f(10,t||0);return this.start.x=h(this.start.x*e)/e,this.start.y=h(this.start.y*e)/e,this.end.x=h(this.end.x*e)/e,this.end.y=h(this.end.y*e)/e,this},scale:function(t,e,i){return this.start.scale(t,e,i),this.end.scale(t,e,i),this},setLength:function(t){var e=this.length();if(!e)return this;var i=t/e;return this.scale(i,i,this.start)},squaredLength:function(){var t=this.start.x,e=this.start.y;return(t-=this.end.x)*t+(e-=this.end.y)*e},tangentAt:function(t){if(!this.isDifferentiable())return null;var e=this.start,i=this.end,n=this.pointAt(t),r=new A(e,i);return r.translate(n.x-e.x,n.y-e.y),r},tangentAtLength:function(t){if(!this.isDifferentiable())return null;var e=this.start,i=this.end,n=this.pointAtLength(t),r=new A(e,i);return r.translate(n.x-e.x,n.y-e.y),r},toString:function(){return this.start.toString()+" "+this.end.toString()},translate:function(t,e){return this.start.translate(t,e),this.end.translate(t,e),this},vector:function(){return new v(this.end.x-this.start.x,this.end.y-this.start.y)}},A.prototype.intersection=A.prototype.intersect;var C=t.Path=function(t){if(!(this instanceof C))return new C(t);if("string"==typeof t)return new C.parse(t);var e,i;if(this.segments=[],t)if(Array.isArray(t)&&0!==t.length)if(i=t.length,t[0].isSegment)for(e=0;e<i;e++){var n=t[e];this.appendSegment(n)}else{var r=null;for(e=0;e<i;e++){var o=t[e];if(!(o instanceof A||o instanceof I))throw new Error("Cannot construct a path segment from the provided object.");0===e&&this.appendSegment(C.createSegment("M",o.start)),r&&!r.end.equals(o.start)&&this.appendSegment(C.createSegment("M",o.start)),o instanceof A?this.appendSegment(C.createSegment("L",o.end)):o instanceof I&&this.appendSegment(C.createSegment("C",o.controlPoint1,o.controlPoint2,o.end)),r=o}}else if(t.isSegment)this.appendSegment(t);else if(t instanceof A)this.appendSegment(C.createSegment("M",t.start)),this.appendSegment(C.createSegment("L",t.end));else if(t instanceof I)this.appendSegment(C.createSegment("M",t.start)),this.appendSegment(C.createSegment("C",t.controlPoint1,t.controlPoint2,t.end));else if(t instanceof w&&t.points&&0!==t.points.length)for(i=t.points.length,e=0;e<i;e++){var a=t.points[e];0===e?this.appendSegment(C.createSegment("M",a)):this.appendSegment(C.createSegment("L",a))}};C.parse=function(t){if(!t)return new C;for(var e=new C,i=t.match(/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g),n=i.length,r=0;r<n;r++){var o=i[r].match(/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?))|(?:(?:-?\.\d+))/g),a=C.createSegment.apply(this,o);e.appendSegment(a)}return e},C.createSegment=function(t){if(!t)throw new Error("Type must be provided.");var i=C.segmentTypes[t];if(!i)throw new Error(t+" is not a recognized path segment type.");for(var n=[],r=arguments.length,o=1;o<r;o++)n.push(arguments[o]);return e(i,n)},C.prototype={appendSegment:function(t){var e,i=this.segments,n=i.length,r=0!==n?i[n-1]:null;if(Array.isArray(t)){if(!t[0].isSegment)throw new Error("Segments required.");for(var o=t.length,a=0;a<o;a++){var s=t[a];e=this.prepareSegment(s,r,null),i.push(e),r=e}}else{if(!t||!t.isSegment)throw new Error("Segment required.");e=this.prepareSegment(t,r,null),i.push(e)}},bbox:function(){var t,e=this.segments,i=e.length;if(0===i)return null;for(var n=0;n<i;n++){var r=e[n];if(r.isVisible){var o=r.bbox();t=t?t.union(o):o}}if(t)return t;var a=e[i-1];return new b(a.end.x,a.end.y,0,0)},clone:function(){for(var t=this.segments,e=t.length,i=new C,n=0;n<e;n++){var r=t[n].clone();i.appendSegment(r)}return i},closestPoint:function(t,e){var i=this.closestPointT(t,e);return i?this.pointAtT(i):null},closestPointLength:function(t,e){var i=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n={precision:i,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions},r=this.closestPointT(t,n);return r?this.lengthAtT(r,n):0},closestPointNormalizedLength:function(t,e){var i=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n={precision:i,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions},r=this.closestPointLength(t,n);if(0===r)return 0;var o=this.length(n);return 0===o?0:r/o},closestPointT:function(t,e){var i=this.segments,n=i.length;if(0===n)return null;for(var r,o=void 0===(e=e||{}).precision?this.PRECISION:e.precision,a=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:o}):e.segmentSubdivisions,s=1/0,l=0;l<n;l++){var c=i[l],g=a[l];if(c.isVisible){var h=c.closestPointT(t,{precision:o,subdivisions:g}),u=c.pointAtT(h),d=new A(u,t).squaredLength();d<s&&(r={segmentIndex:l,value:h},s=d)}}return r||{segmentIndex:n-1,value:1}},closestPointTangent:function(t,e){var i=this.segments,n=i.length;if(0===n)return null;for(var r,o=void 0===(e=e||{}).precision?this.PRECISION:e.precision,a=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:o}):e.segmentSubdivisions,s=1/0,l=0;l<n;l++){var c=i[l],g=a[l];if(c.isDifferentiable()){var h=c.closestPointT(t,{precision:o,subdivisions:g}),u=c.pointAtT(h),d=new A(u,t).squaredLength();d<s&&(r=c.tangentAtT(h),s=d)}}return r||null},equals:function(t){if(!t)return!1;var e=this.segments,i=t.segments,n=e.length;if(i.length!==n)return!1;for(var r=0;r<n;r++){var o=e[r],a=i[r];if(o.type!==a.type||!o.equals(a))return!1}return!0},getSegment:function(t){var e=this.segments,i=e.length;if(0===i)throw new Error("Path has no segments.");if(t<0&&(t=i+t),i<=t||t<0)throw new Error("Index out of range.");return e[t]},getSegmentSubdivisions:function(t){for(var e=this.segments,i=e.length,n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r=[],o=0;o<i;o++){var a=e[o].getSubdivisions({precision:n});r.push(a)}return r},insertSegment:function(t,e){var i,n=this.segments,r=n.length;if(t<0&&(t=r+t+1),r<t||t<0)throw new Error("Index out of range.");var o=null,a=null;if(0!==r&&(a=1<=t?(o=n[t-1]).nextSegment:n[0]),Array.isArray(e)){if(!e[0].isSegment)throw new Error("Segments required.");for(var s=e.length,l=0;l<s;l++){var c=e[l];i=this.prepareSegment(c,o,a),n.splice(t+l,0,i),o=i}}else{if(!e||!e.isSegment)throw new Error("Segment required.");i=this.prepareSegment(e,o,a),n.splice(t,0,i)}},intersectionWithLine:function(t,e){var i=null,n=this.toPolylines(e);if(!n)return null;for(var r=0,o=n.length;r<o;r++){var a=n[r],s=t.intersect(a);s&&(i||(i=[]),Array.isArray(s)?Array.prototype.push.apply(i,s):i.push(s))}return i},isDifferentiable:function(){for(var t=this.segments,e=t.length,i=0;i<e;i++)if(t[i].isDifferentiable())return!0;return!1},isValid:function(){var t=this.segments;return 0===t.length||"M"===t[0].type},length:function(t){var e=this.segments,i=e.length;if(0===i)return 0;for(var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions,o=0,a=0;a<i;a++){var s=e[a],l=r[a];o+=s.length({subdivisions:l})}return o},lengthAtT:function(t,e){var i=this.segments,n=i.length;if(0===n)return 0;var r=t.segmentIndex;if(r<0)return 0;var o=t.value;n<=r?(r=n-1,o=1):o<0?o=0:1<o&&(o=1);for(var a,s=void 0===(e=e||{}).precision?this.PRECISION:e.precision,l=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,c=0,g=0;g<r;g++){var h=i[g];a=l[g],c+=h.length({precisison:s,subdivisions:a})}return h=i[r],a=l[r],c+=h.lengthAtT(o,{precisison:s,subdivisions:a})},pointAt:function(t,e){if(0===this.segments.length)return null;if(t<=0)return this.start.clone();if(1<=t)return this.end.clone();var i=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n={precision:i,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions},r=this.length(n)*t;return this.pointAtLength(r,n)},pointAtLength:function(t,e){var i=this.segments,n=i.length;if(0===n)return null;if(0===t)return this.start.clone();var r=!0;t<0&&(r=!1,t=-t);for(var o,a=void 0===(e=e||{}).precision?this.PRECISION:e.precision,s=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:a}):e.segmentSubdivisions,l=0,c=r?0:n-1;r?c<n:0<=c;r?c++:c--){var g=i[c],h=s[c],u=g.length({precision:a,subdivisions:h});if(g.isVisible){if(t<=l+u)return g.pointAtLength((r?1:-1)*(t-l),{precision:a,subdivisions:h});o=g}l+=u}return o?r?o.end:o.start:i[n-1].end.clone()},pointAtT:function(t){var e=this.segments,i=e.length;if(0===i)return null;var n=t.segmentIndex;if(n<0)return e[0].pointAtT(0);if(i<=n)return e[i-1].pointAtT(1);var r=t.value;return r<0?r=0:1<r&&(r=1),e[n].pointAtT(r)},PRECISION:3,prepareSegment:function(t,e,i){t.previousSegment=e,t.nextSegment=i,e&&(e.nextSegment=t),i&&(i.previousSegment=t);var n=t;return t.isSubpathStart&&(t.subpathStartSegment=t,n=i),n&&this.updateSubpathStartSegment(n),t},removeSegment:function(t){var e=this.segments,i=e.length;if(0===i)throw new Error("Path has no segments.");if(t<0&&(t=i+t),i<=t||t<0)throw new Error("Index out of range.");var n=e.splice(t,1)[0],r=n.previousSegment,o=n.nextSegment;r&&(r.nextSegment=o),o&&(o.previousSegment=r),n.isSubpathStart&&o&&this.updateSubpathStartSegment(o)},replaceSegment:function(t,e){var i,n=this.segments,r=n.length;if(0===r)throw new Error("Path has no segments.");if(t<0&&(t=r+t),r<=t||t<0)throw new Error("Index out of range.");var o=n[t],a=o.previousSegment,s=o.nextSegment,l=o.isSubpathStart;if(Array.isArray(e)){if(!e[0].isSegment)throw new Error("Segments required.");n.splice(t,1);for(var c=e.length,g=0;g<c;g++){var h=e[g];i=this.prepareSegment(h,a,s),n.splice(t+g,0,i),a=i,l&&i.isSubpathStart&&(l=!1)}}else{if(!e||!e.isSegment)throw new Error("Segment required.");i=this.prepareSegment(e,a,s),n.splice(t,1,i),l&&i.isSubpathStart&&(l=!1)}l&&s&&this.updateSubpathStartSegment(s)},scale:function(t,e,i){for(var n=this.segments,r=n.length,o=0;o<r;o++)n[o].scale(t,e,i);return this},segmentAt:function(t,e){var i=this.segmentIndexAt(t,e);return i?this.getSegment(i):null},segmentAtLength:function(t,e){var i=this.segmentIndexAtLength(t,e);return i?this.getSegment(i):null},segmentIndexAt:function(t,e){if(0===this.segments.length)return null;t<0&&(t=0),1<t&&(t=1);var i=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n={precision:i,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions},r=this.length(n)*t;return this.segmentIndexAtLength(r,n)},segmentIndexAtLength:function(t,e){var i=this.segments,n=i.length;if(0===n)return null;var r=!0;t<0&&(r=!1,t=-t);for(var o=void 0===(e=e||{}).precision?this.PRECISION:e.precision,a=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:o}):e.segmentSubdivisions,s=null,l=0,c=r?0:n-1;r?c<n:0<=c;r?c++:c--){var g=i[c],h=a[c],u=g.length({precision:o,subdivisions:h});if(g.isVisible){if(t<=l+u)return c;s=c}l+=u}return s},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(t,e){if(0===this.segments.length)return null;t<0&&(t=0),1<t&&(t=1);var i=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n={precision:i,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions},r=this.length(n)*t;return this.tangentAtLength(r,n)},tangentAtLength:function(t,e){var i=this.segments,n=i.length;if(0===n)return null;var r=!0;t<0&&(r=!1,t=-t);for(var o,a=void 0===(e=e||{}).precision?this.PRECISION:e.precision,s=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:a}):e.segmentSubdivisions,l=0,c=r?0:n-1;r?c<n:0<=c;r?c++:c--){var g=i[c],h=s[c],u=g.length({precision:a,subdivisions:h});if(g.isDifferentiable()){if(t<=l+u)return g.tangentAtLength((r?1:-1)*(t-l),{precision:a,subdivisions:h});o=g}l+=u}if(o){var d=r?1:0;return o.tangentAtT(d)}return null},tangentAtT:function(t){var e=this.segments,i=e.length;if(0===i)return null;var n=t.segmentIndex;if(n<0)return e[0].tangentAtT(0);if(i<=n)return e[i-1].tangentAtT(1);var r=t.value;return r<0?r=0:1<r&&(r=1),e[n].tangentAtT(r)},toPoints:function(t){var e=this.segments,i=e.length;if(0===i)return null;for(var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions,o=[],a=[],s=0;s<i;s++){var l=e[s];if(l.isVisible){var c=r[s];if(0<c.length){var g=c.map(function(t){return t.start});Array.prototype.push.apply(a,g)}else a.push(l.start)}else 0<a.length&&(a.push(e[s-1].end),o.push(a),a=[])}return 0<a.length&&(a.push(this.end),o.push(a)),o},toPolylines:function(t){var e=[],i=this.toPoints(t);if(!i)return null;for(var n=0,r=i.length;n<r;n++)e.push(new w(i[n]));return e},toString:function(){for(var t=this.segments,e=t.length,i="",n=0;n<e;n++)i+=t[n].serialize()+" ";return i.trim()},translate:function(t,e){for(var i=this.segments,n=i.length,r=0;r<n;r++)i[r].translate(t,e);return this},updateSubpathStartSegment:function(t){for(var e=t.previousSegment;t&&!t.isSubpathStart;)t.subpathStartSegment=e?e.subpathStartSegment:null,
t=(e=t).nextSegment}},Object.defineProperty(C.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var t=this.segments,e=t.length;if(0===e)return null;for(var i=0;i<e;i++){var n=t[i];if(n.isVisible)return n.start}return t[e-1].end}}),Object.defineProperty(C.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var t=this.segments,e=t.length;if(0===e)return null;for(var i=e-1;0<=i;i--){var n=t[i];if(n.isVisible)return n.end}return t[e-1].end}});var v=t.Point=function(t,e){if(!(this instanceof v))return new v(t,e);if("string"==typeof t){var i=t.split(-1===t.indexOf("@")?" ":"@");t=parseFloat(i[0]),e=parseFloat(i[1])}else Object(t)===t&&(e=t.y,t=t.x);this.x=void 0===t?0:t,this.y=void 0===e?0:e};v.fromPolar=function(t,e,i){i=i&&new v(i)||new v(0,0);var n=r(t*o(e)),s=r(t*a(e)),l=y(M(e));return l<90?s=-s:l<180?(n=-n,s=-s):l<270&&(n=-n),new v(i.x+n,i.y+s)},v.random=function(t,e,i,n){return new v(u(p()*(e-t+1)+t),u(p()*(n-i+1)+i))},v.prototype={adhereToRect:function(t){return t.containsPoint(this)||(this.x=l(c(this.x,t.x),t.x+t.width),this.y=l(c(this.y,t.y),t.y+t.height)),this},angleBetween:function(t,e){var i=this.equals(t)||this.equals(e)?NaN:this.theta(e)-this.theta(t);return i<0&&(i+=360),i},bearing:function(t){return new A(this,t).bearing()},changeInAngle:function(t,e,i){return this.clone().offset(-t,-e).theta(i)-this.theta(i)},clone:function(){return new v(this)},cross:function(t,e){return t&&e?(e.x-this.x)*(t.y-this.y)-(e.y-this.y)*(t.x-this.x):NaN},difference:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),new v(this.x-(t||0),this.y-(e||0))},distance:function(t){return new A(this,t).length()},dot:function(t){return t?this.x*t.x+this.y*t.y:NaN},equals:function(t){return!!t&&this.x===t.x&&this.y===t.y},lerp:function(t,e){var i=this.x,n=this.y;return new v((1-e)*i+e*t.x,(1-e)*n+e*t.y)},magnitude:function(){return s(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(t){return r(t.x-this.x)+r(t.y-this.y)},move:function(t,e){var i=x(new v(t).theta(this));return this.offset(o(i)*e,-a(i)*e)},normalize:function(t){var e=(t||1)/this.magnitude();return this.scale(e,e)},offset:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),this.x+=t||0,this.y+=e||0,this},reflection:function(t){return new v(t).move(this,this.distance(t))},rotate:function(e,i){e=e||new t.Point(0,0),i=x(y(-i));var n=o(i),r=a(i),s=n*(this.x-e.x)-r*(this.y-e.y)+e.x,l=r*(this.x-e.x)+n*(this.y-e.y)+e.y;return this.x=s,this.y=l,this},round:function(t){var e=f(10,t||0);return this.x=h(this.x*e)/e,this.y=h(this.y*e)/e,this},scale:function(t,e,i){return i=i&&new v(i)||new v(0,0),this.x=i.x+t*(this.x-i.x),this.y=i.y+e*(this.y-i.y),this},snapToGrid:function(t,e){return this.x=N(this.x,t),this.y=N(this.y,e||t),this},squaredDistance:function(t){return new A(this,t).squaredLength()},theta:function(t){var e=-((t=new v(t)).y-this.y),i=t.x-this.x,n=g(e,i);return n<0&&(n=2*d+n),180*n/d},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(t){t=t&&new v(t)||new v(0,0);var e=this.x,i=this.y;return this.x=s((e-t.x)*(e-t.x)+(i-t.y)*(i-t.y)),this.y=x(t.theta(new v(e,i))),this},toString:function(){return this.x+"@"+this.y},update:function(t,e){return this.x=t||0,this.y=e||0,this},vectorAngle:function(t){return new v(0,0).angleBetween(this,t)}},v.prototype.translate=v.prototype.offset;var w=t.Polyline=function(t){return this instanceof w?"string"==typeof t?new w.parse(t):void(this.points=Array.isArray(t)?t.map(v):[]):new w(t)};w.parse=function(t){if(""===(t=t.trim()))return new w;for(var e=[],i=t.split(/\s*,\s*|\s+/),n=i.length,r=0;r<n;r+=2)e.push({x:+i[r],y:+i[r+1]});return new w(e)},w.prototype={bbox:function(){var t=1/0,e=-1/0,i=1/0,n=-1/0,r=this.points,o=r.length;if(0===o)return null;for(var a=0;a<o;a++){var s=r[a],l=s.x,c=s.y;l<t&&(t=l),e<l&&(e=l),c<i&&(i=c),n<c&&(n=c)}return new b(t,i,e-t,n-i)},clone:function(){var t=this.points,e=t.length;if(0===e)return new w;for(var i=[],n=0;n<e;n++){var r=t[n].clone();i.push(r)}return new w(i)},closestPoint:function(t){var e=this.closestPointLength(t);return this.pointAtLength(e)},closestPointLength:function(t){var e,i=this.points,n=i.length;if(0===n)return 0;if(1===n)return 0;for(var r=1/0,o=0,a=n-1,s=0;s<a;s++){var l=new A(i[s],i[s+1]),c=l.length(),g=l.closestPointNormalizedLength(t),h=l.pointAt(g).squaredDistance(t);h<r&&(r=h,e=o+g*c),o+=c}return e},closestPointNormalizedLength:function(t){var e=this.closestPointLength(t);if(0===e)return 0;var i=this.length();return 0===i?0:e/i},closestPointTangent:function(t){var e=this.closestPointLength(t);return this.tangentAtLength(e)},convexHull:function(){var t,e,i,n=this.points,o=n.length;if(0===o)return new w;for(t=0;t<o;t++)void 0===i?i=n[t]:n[t].y<i.y?i=n[t]:n[t].y===i.y&&n[t].x>i.x&&(i=n[t]);var a=[];for(t=0;t<o;t++){var s=i.theta(n[t]);0===s&&(s=360);var l=[n[t],t,s];a.push(l)}if(a.sort(function(t,e){var i=t[2]-e[2];return 0===i&&(i=e[1]-t[1]),i}),2<a.length){var c=a[a.length-1];a.unshift(c)}for(var g,h,u,d,p,f,I,m={},A=[];0!==a.length;)if(h=(g=a.pop())[0],!m.hasOwnProperty(g[0]+"@@"+g[1]))for(var C=!1;!C;)if(A.length<2)A.push(g),C=!0;else{d=(u=A.pop())[0];var v=(f=(p=A.pop())[0]).cross(d,h);if(v<0)A.push(p),A.push(u),A.push(g),C=!0;else if(0===v){var b=d.angleBetween(f,h);r(b-180)<1e-10?(m[u[0]+"@@"+u[1]]=d,A.push(p)):d.equals(h)||f.equals(d)?(m[u[0]+"@@"+u[1]]=d,A.push(p)):r((b+1)%360-1)<1e-10&&(A.push(p),a.push(u))}else m[u[0]+"@@"+u[1]]=d,A.push(p)}2<A.length&&A.pop();var y=-1;for(e=A.length,t=0;t<e;t++){var N=A[t][1];(void 0===I||N<I)&&(I=N,y=t)}var M=[];if(0<y){var x=A.slice(y),k=A.slice(0,y);M=x.concat(k)}else M=A;var z=[];for(e=M.length,t=0;t<e;t++)z.push(M[t][0]);return new w(z)},equals:function(t){if(!t)return!1;var e=this.points,i=t.points,n=e.length;if(i.length!==n)return!1;for(var r=0;r<n;r++){var o=e[r],a=t.points[r];if(!o.equals(a))return!1}return!0},intersectionWithLine:function(t){for(var e=new A(t),i=[],n=this.points,r=0,o=n.length-1;r<o;r++){var a=n[r],s=n[r+1],l=new A(a,s),c=e.intersectionWithLine(l);c&&i.push(c[0])}return 0<i.length?i:null},isDifferentiable:function(){var t=this.points,e=t.length;if(0===e)return!1;for(var i=e-1,n=0;n<i;n++){var r=t[n],o=t[n+1];if(new A(r,o).isDifferentiable())return!0}return!1},length:function(){var t=this.points,e=t.length;if(0===e)return 0;for(var i=0,n=e-1,r=0;r<n;r++)i+=t[r].distance(t[r+1]);return i},pointAt:function(t){var e=this.points,i=e.length;if(0===i)return null;if(1===i)return e[0].clone();if(t<=0)return e[0].clone();if(1<=t)return e[i-1].clone();var n=this.length()*t;return this.pointAtLength(n)},pointAtLength:function(t){var e=this.points,i=e.length;if(0===i)return null;if(1===i)return e[0].clone();var n=!0;t<0&&(n=!1,t=-t);for(var r=0,o=i-1,a=n?0:o-1;n?a<o:0<=a;n?a++:a--){var s=e[a],l=e[a+1],c=new A(s,l),g=s.distance(l);if(t<=r+g)return c.pointAtLength((n?1:-1)*(t-r));r+=g}return(n?e[i-1]:e[0]).clone()},scale:function(t,e,i){var n=this.points,r=n.length;if(0===r)return this;for(var o=0;o<r;o++)n[o].scale(t,e,i);return this},tangentAt:function(t){var e=this.points.length;if(0===e)return null;if(1===e)return null;t<0&&(t=0),1<t&&(t=1);var i=this.length()*t;return this.tangentAtLength(i)},tangentAtLength:function(t){var e=this.points,i=e.length;if(0===i)return null;if(1===i)return null;var n,r=!0;t<0&&(r=!1,t=-t);for(var o=0,a=i-1,s=r?0:a-1;r?s<a:0<=s;r?s++:s--){var l=e[s],c=e[s+1],g=new A(l,c),h=l.distance(c);if(g.isDifferentiable()){if(t<=o+h)return g.tangentAtLength((r?1:-1)*(t-o));n=g}o+=h}if(n){var u=r?1:0;return n.tangentAt(u)}return null},toString:function(){return this.points+""},translate:function(t,e){var i=this.points,n=i.length;if(0===n)return this;for(var r=0;r<n;r++)i[r].translate(t,e);return this},serialize:function(){var t=this.points,e=t.length;if(0===e)return"";for(var i="",n=0;n<e;n++){var r=t[n];i+=r.x+","+r.y+" "}return i.trim()}},Object.defineProperty(w.prototype,"start",{configurable:!0,enumerable:!0,get:function(){return 0===this.points.length?null:this.points[0]}}),Object.defineProperty(w.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var t=this.points.length;return 0===t?null:this.points[t-1]}});var b=t.Rect=function(t,e,i,n){if(!(this instanceof b))return new b(t,e,i,n);Object(t)===t&&(e=t.y,i=t.width,n=t.height,t=t.x),this.x=void 0===t?0:t,this.y=void 0===e?0:e,this.width=void 0===i?0:i,this.height=void 0===n?0:n};b.fromEllipse=function(t){return t=new m(t),new b(t.x-t.a,t.y-t.b,2*t.a,2*t.b)},b.prototype={bbox:function(t){if(!t)return this.clone();var e=x(t),i=r(a(e)),n=r(o(e)),s=this.width*n+this.height*i,l=this.width*i+this.height*n;return new b(this.x+(this.width-s)/2,this.y+(this.height-l)/2,s,l)},bottomLeft:function(){return new v(this.x,this.y+this.height)},bottomLine:function(){return new A(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new v(this.x+this.width/2,this.y+this.height)},center:function(){return new v(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new b(this)},containsPoint:function(t){return(t=new v(t)).x>=this.x&&t.x<=this.x+this.width&&t.y>=this.y&&t.y<=this.y+this.height},containsRect:function(t){var e=new b(this).normalize(),i=new b(t).normalize(),n=e.width,r=e.height,o=i.width,a=i.height;if(!(n&&r&&o&&a))return!1;var s=e.x,l=e.y,c=i.x,g=i.y;return o+=c,n+=s,a+=g,r+=l,s<=c&&o<=n&&l<=g&&a<=r},corner:function(){return new v(this.x+this.width,this.y+this.height)},equals:function(t){var e=new b(this).normalize(),i=new b(t).normalize();return e.x===i.x&&e.y===i.y&&e.width===i.width&&e.height===i.height},inflate:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},intersect:function(t){var e=this.origin(),i=this.corner(),n=t.origin(),r=t.corner();if(r.x<=e.x||r.y<=e.y||n.x>=i.x||n.y>=i.y)return null;var o=c(e.x,n.x),a=c(e.y,n.y);return new b(o,a,l(i.x,r.x)-o,l(i.y,r.y)-a)},intersectionWithLine:function(t){var e,i,n=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],r=[],o=[],a=n.length;for(i=0;i<a;i++)null!==(e=t.intersect(n[i]))&&o.indexOf(e.toString())<0&&(r.push(e),o.push(e.toString()));return 0<r.length?r:null},intersectionWithLineFromCenterToPoint:function(t,e){t=new v(t);var i,n=new v(this.x+this.width/2,this.y+this.height/2);e&&t.rotate(n,e);for(var r=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],o=new A(n,t),a=r.length-1;0<=a;--a){var s=r[a].intersection(o);if(null!==s){i=s;break}}return i&&e&&i.rotate(n,-e),i},leftLine:function(){return new A(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new v(this.x,this.y+this.height/2)},maxRectScaleToFit:function(t,e){var i,n,r,o,a,s,c,g;t=new b(t),e||(e=t.center());var h=e.x,u=e.y;i=n=r=o=a=s=c=g=1/0;var d=t.topLeft();d.x<h&&(i=(this.x-h)/(d.x-h)),d.y<u&&(a=(this.y-u)/(d.y-u));var p=t.bottomRight();p.x>h&&(n=(this.x+this.width-h)/(p.x-h)),p.y>u&&(s=(this.y+this.height-u)/(p.y-u));var f=t.topRight();f.x>h&&(r=(this.x+this.width-h)/(f.x-h)),f.y<u&&(c=(this.y-u)/(f.y-u));var I=t.bottomLeft();return I.x<h&&(o=(this.x-h)/(I.x-h)),I.y>u&&(g=(this.y+this.height-u)/(I.y-u)),{sx:l(i,n,r,o),sy:l(a,s,c,g)}},maxRectUniformScaleToFit:function(t,e){var i=this.maxRectScaleToFit(t,e);return l(i.sx,i.sy)},moveAndExpand:function(t){return this.x+=t.x||0,this.y+=t.y||0,this.width+=t.width||0,this.height+=t.height||0,this},normalize:function(){var t=this.x,e=this.y,i=this.width,n=this.height;return this.width<0&&(t=this.x+this.width,i=-this.width),this.height<0&&(e=this.y+this.height,n=-this.height),this.x=t,this.y=e,this.width=i,this.height=n,this},offset:function(t,e){return v.prototype.offset.call(this,t,e)},origin:function(){return new v(this.x,this.y)},pointNearestToPoint:function(t){if(t=new v(t),this.containsPoint(t))switch(this.sideNearestToPoint(t)){case"right":return new v(this.x+this.width,t.y);case"left":return new v(this.x,t.y);case"bottom":return new v(t.x,this.y+this.height);case"top":return new v(t.x,this.y)}return t.adhereToRect(this)},rightLine:function(){return new A(this.topRight(),this.bottomRight())},rightMiddle:function(){return new v(this.x+this.width,this.y+this.height/2)},round:function(t){var e=f(10,t||0);return this.x=h(this.x*e)/e,this.y=h(this.y*e)/e,this.width=h(this.width*e)/e,this.height=h(this.height*e)/e,this},scale:function(t,e,i){return i=this.origin().scale(t,e,i),this.x=i.x,this.y=i.y,this.width*=t,this.height*=e,this},sideNearestToPoint:function(t){var e=(t=new v(t)).x-this.x,i=this.x+this.width-t.x,n=t.y-this.y,r=e,o="left";return i<r&&(r=i,o="right"),n<r&&(r=n,o="top"),this.y+this.height-t.y<r&&(o="bottom"),o},snapToGrid:function(t,e){var i=this.origin().snapToGrid(t,e),n=this.corner().snapToGrid(t,e);return this.x=i.x,this.y=i.y,this.width=n.x-i.x,this.height=n.y-i.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new A(this.topLeft(),this.topRight())},topMiddle:function(){return new v(this.x+this.width/2,this.y)},topRight:function(){return new v(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(t){t=new b(t);var e=this.origin(),i=this.corner(),n=t.origin(),r=t.corner(),o=l(e.x,n.x),a=l(e.y,n.y),s=c(i.x,r.x),g=c(i.y,r.y);return new b(o,a,s-o,g-a)}},b.prototype.bottomRight=b.prototype.corner,b.prototype.topLeft=b.prototype.origin,b.prototype.translate=b.prototype.offset,t.scale={linear:function(t,e,i){var n=t[1]-t[0],r=e[1]-e[0];return(i-t[0])/n*r+e[0]||0}};var y=t.normalizeAngle=function(t){return t%360+(t<0?360:0)},N=t.snapToGrid=function(t,e){return e*h(t/e)},M=t.toDeg=function(t){return 180*t/d%360},x=t.toRad=function(t,e){return(t=(e=e||!1)?t:t%360)*d/180};t.ellipse=t.Ellipse,t.line=t.Line,t.point=t.Point,t.rect=t.Rect;var k={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(t){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(t);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(t){if(t<=0)return 0;var e=this.length();return 1<=t?e:e*t},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(t){if(this.pointAt)return this.pointAt(t);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(t){if(this.tangentAt)return this.tangentAt(t);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(k,"end",{configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(k,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}}),Object.defineProperty(k,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var z=function(){for(var t,i,n=[],r=arguments.length,o=0;o<r;o++)n.push(arguments[o]);if(!(this instanceof z))return e(z,n);if(0===r)throw new Error("Lineto constructor expects 1 point or 2 coordinates (none provided).");if("string"==typeof n[0]||"number"==typeof n[0]){if(2===r)return this.end=new v(+n[0],+n[1]),this;if(r<2)throw new Error("Lineto constructor expects 1 point or 2 coordinates ("+r+" coordinates provided).");var a;for(t=[],o=0;o<r;o+=2)a=n.slice(o,o+2),t.push(e(z,a));return t}if(1===r)return this.end=new v(n[0]),this;for(t=[],o=0;o<r;o+=1)i=n[o],t.push(new z(i));return t},D={clone:function(){return new z(this.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!!this.previousSegment&&!this.start.equals(this.end)},scale:function(t,e,i){return this.end.scale(t,e,i),this},serialize:function(){var t=this.end;return this.type+" "+t.x+" "+t.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(t,e){return this.end.translate(t,e),this}};Object.defineProperty(D,"type",{configurable:!0,enumerable:!0,value:"L"}),z.prototype=i(k,A.prototype,D);var S=function(){for(var t,i,n=[],r=arguments.length,o=0;o<r;o++)n.push(arguments[o]);if(!(this instanceof S))return e(S,n);if(0===r)throw new Error("Curveto constructor expects 3 points or 6 coordinates (none provided).");if("string"==typeof n[0]||"number"==typeof n[0]){if(6===r)return this.controlPoint1=new v(+n[0],+n[1]),this.controlPoint2=new v(+n[2],+n[3]),this.end=new v(+n[4],+n[5]),this;if(r<6)throw new Error("Curveto constructor expects 3 points or 6 coordinates ("+r+" coordinates provided).");var a;for(t=[],o=0;o<r;o+=6)a=n.slice(o,o+6),t.push(e(S,a));return t}if(3===r)return this.controlPoint1=new v(n[0]),this.controlPoint2=new v(n[1]),this.end=new v(n[2]),this;if(r<3)throw new Error("Curveto constructor expects 3 points or 6 coordinates ("+r+" points provided).");for(t=[],o=0;o<r;o+=3)i=n.slice(o,o+3),t.push(e(S,i));return t},j={clone:function(){return new S(this.controlPoint1,this.controlPoint2,this.end)},isDifferentiable:function(){if(!this.previousSegment)return!1;var t=this.start,e=this.controlPoint1,i=this.controlPoint2,n=this.end;return!(t.equals(e)&&e.equals(i)&&i.equals(n))},scale:function(t,e,i){return this.controlPoint1.scale(t,e,i),this.controlPoint2.scale(t,e,i),this.end.scale(t,e,i),this},serialize:function(){var t=this.controlPoint1,e=this.controlPoint2,i=this.end;return this.type+" "+t.x+" "+t.y+" "+e.x+" "+e.y+" "+i.x+" "+i.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(t,e){return this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e),this}};Object.defineProperty(j,"type",{configurable:!0,enumerable:!0,value:"C"}),S.prototype=i(k,I.prototype,j);var Z=function(){for(var t,i,n=[],r=arguments.length,o=0;o<r;o++)n.push(arguments[o]);if(!(this instanceof Z))return e(Z,n);if(0===r)throw new Error("Moveto constructor expects 1 point or 2 coordinates (none provided).");if("string"==typeof n[0]||"number"==typeof n[0]){if(2===r)return this.end=new v(+n[0],+n[1]),this;if(r<2)throw new Error("Moveto constructor expects 1 point or 2 coordinates ("+r+" coordinates provided).");var a;for(t=[],o=0;o<r;o+=2)a=n.slice(o,o+2),0===o?t.push(e(Z,a)):t.push(e(z,a));return t}if(1===r)return this.end=new v(n[0]),this;for(t=[],o=0;o<r;o+=1)i=n[o],0===o?t.push(new Z(i)):t.push(new z(i));return t},G={bbox:function(){return null},clone:function(){return new Z(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},equals:function(t){return this.end.equals(t.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},scale:function(t,e,i){return this.end.scale(t,e,i),this},serialize:function(){var t=this.end;return this.type+" "+t.x+" "+t.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(t,e){return this.end.translate(t,e),this}};Object.defineProperty(G,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}}),Object.defineProperty(G,"type",{configurable:!0,enumerable:!0,value:"M"}),Z.prototype=i(k,G);var P=function(){for(var t=[],i=arguments.length,n=0;n<i;n++)t.push(arguments[n]);if(!(this instanceof P))return e(P,t);if(0<i)throw new Error("Closepath constructor expects no arguments.");return this},L={clone:function(){return new P},getSubdivisions:function(){return[]},isDifferentiable:function(){return!(!this.previousSegment||!this.subpathStartSegment||this.start.equals(this.end))},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(L,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}}),Object.defineProperty(L,"type",{configurable:!0,enumerable:!0,value:"Z"}),P.prototype=i(k,A.prototype,L);var T=C.segmentTypes={L:z,C:S,M:Z,Z:P,z:P};C.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(T).join("")+",.]*$"),C.isDataSupported=function(t){return"string"==typeof t&&this.regexSupportedData.test(t)}}(r);var o;o=function(){"use strict";function t(t,e,i){i||(i={});for(var n=i.includeAnnotationIndices,r=i.eol,o=i.lineHeight,a=i.baseSize,s=0,l={},c=e.length-1,g=0;g<=c;g++){var h=e[g],d=null;if(u.isObject(h)){var p=h.attrs,f=u("tspan",p),I=f.node,m=h.t;r&&g===c&&(m+=r),I.textContent=m;var A=p.class;A&&f.addClass(A),n&&f.attr("annotations",h.annotations),void 0===(d=parseFloat(p["font-size"]))&&(d=a),d&&s<d&&(s=d)}else r&&g===c&&(h+=r),I=document.createTextNode(h||" "),a&&s<a&&(s=a);t.appendChild(I)}return s&&(l.maxFontSize=s),o?l.lineHeight=o:s&&(l.lineHeight=1.2*s),l}function e(t,e){var i=parseFloat(t);return p.test(t)?i*e:i}if("object"!=typeof window||!window.SVGAngle&&!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"))return function(){throw new Error("SVG is required to use Vectorizer.")};var i={xmlns:"http://www.w3.org/2000/svg",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},n=Math,o=n.PI,a=n.atan2,s=n.sqrt,l=n.min,c=n.max,g=n.cos,h=n.sin,u=function(t,e,n){if(!(this instanceof u))return u.apply(Object.create(u.prototype),arguments);if(t){if(u.isV(t)&&(t=t.node),e=e||{},u.isString(t)){if("svg"===t.toLowerCase())t=u.createSvgDocument();else if("<"===t[0]){var r=u.createSvgDocument(t);if(1<r.childNodes.length){var o,a,s=[];for(o=0,a=r.childNodes.length;o<a;o++){var l=r.childNodes[o];s.push(new u(document.importNode(l,!0)))}return s}t=document.importNode(r.firstChild,!0)}else t=document.createElementNS(i.xmlns,t);u.ensureId(t)}return this.node=t,this.setAttributes(e),n&&this.append(n),this}},d=u.prototype;Object.defineProperty(d,"id",{enumerable:!0,get:function(){return this.node.id},set:function(t){this.node.id=t}}),d.getTransformToElement=function(t){var e=this.node;if(u.isSVGGraphicsElement(t)&&u.isSVGGraphicsElement(e)){var i=u.toNode(t).getScreenCTM(),n=e.getScreenCTM();if(i&&n)return i.inverse().multiply(n)}return u.createSVGMatrix()},d.transform=function(t,e){var i=this.node;if(u.isUndefined(t))return u.transformStringToMatrix(this.attr("transform"));if(e&&e.absolute)return this.attr("transform",u.matrixToTransformString(t));var n=u.createSVGTransform(t);return i.transform.baseVal.appendItem(n),this},d.translate=function(t,e,i){i=i||{},e=e||0;var n=this.attr("transform")||"",r=u.parseTransformString(n);if(n=r.value,u.isUndefined(t))return r.translate;n=n.replace(/translate\([^)]*\)/g,"").trim();var o="translate("+(i.absolute?t:r.translate.tx+t)+","+(i.absolute?e:r.translate.ty+e)+")";return this.attr("transform",(o+" "+n).trim()),this},d.rotate=function(t,e,i,n){n=n||{};var r=this.attr("transform")||"",o=u.parseTransformString(r);if(r=o.value,u.isUndefined(t))return o.rotate;r=r.replace(/rotate\([^)]*\)/g,"").trim(),t%=360;var a="rotate("+(n.absolute?t:o.rotate.angle+t)+(void 0!==e&&void 0!==i?","+e+","+i:"")+")";return this.attr("transform",(r+" "+a).trim()),this},d.scale=function(t,e){e=u.isUndefined(e)?t:e;var i=this.attr("transform")||"",n=u.parseTransformString(i);if(i=n.value,u.isUndefined(t))return n.scale;i=i.replace(/scale\([^)]*\)/g,"").trim();var r="scale("+t+","+e+")";return this.attr("transform",(i+" "+r).trim()),this},d.bbox=function(t,e){var i,n=this.node,o=n.ownerSVGElement;if(!o)return new r.Rect(0,0,0,0);try{i=n.getBBox()}catch(t){i={x:n.clientLeft,y:n.clientTop,width:n.clientWidth,height:n.clientHeight}}if(t)return new r.Rect(i);var a=this.getTransformToElement(e||o);return u.transformRect(i,a)},d.getBBox=function(t){var e,i={},n=this.node;if(!n.ownerSVGElement||!u.isSVGGraphicsElement(n))return new r.Rect(0,0,0,0);if(t&&(t.target&&(i.target=u.toNode(t.target)),t.recursive&&(i.recursive=t.recursive)),i.recursive){var o=this.children(),a=o.length;if(0===a)return this.getBBox({target:i.target,recursive:!1});i.target||(i.target=this);for(var s=0;s<a;s++){var l,c=o[s];l=0===c.children().length?c.getBBox({target:i.target,recursive:!1}):c.getBBox({target:i.target,recursive:!0}),e=e?e.union(l):l}return e}try{e=n.getBBox()}catch(t){e={x:n.clientLeft,y:n.clientTop,width:n.clientWidth,height:n.clientHeight}}if(i.target){var g=this.getTransformToElement(i.target);return u.transformRect(e,g)}return new r.Rect(e)};var p=/em$/;d.text=function(i,n){if(i&&"string"!=typeof i)throw new Error("Vectorizer: text() expects the first argument to be a string.");i=u.sanitizeText(i),n||(n={});var r=n.eol,o=n.textPath,a=n.textVerticalAnchor,s="middle"===a||"bottom"===a||"top"===a,l=n.x;void 0===l&&(l=this.attr("x")||0);var c=n.includeAnnotationIndices,g=n.annotations;g&&!u.isArray(g)&&(g=[g]);var h=n.lineHeight,d="auto"===h,f=d?"1.5em":h||"1em";this.empty(),this.attr({"xml:space":"preserve",display:i?null:"none"});var I=parseFloat(this.attr("font-size"));I||(I=16,(s||g)&&this.attr("font-size",I));var m,A=document;m=o?("string"==typeof o&&(o={d:o}),function(t,e){t||(t={});var i=u("textPath"),n=t.d;if(n&&void 0===t["xlink:href"]){var r=u("path").attr("d",n).appendTo(e.defs());i.attr("xlink:href","#"+r.id)}return u.isObject(t)&&i.attr(t),i.node}(o,this)):A.createDocumentFragment();for(var C,v=0,w=i.split("\n"),b=[],y=0,N=w.length-1;y<=N;y++){var M,x=f,k="v-line",z=A.createElementNS(u.namespace.xmlns,"tspan"),D=w[y];if(D)if(g){var S=(M=t(z,u.annotateString(D,g,{offset:-v,includeAnnotationIndices:c}),{includeAnnotationIndices:c,eol:y!==N&&r,lineHeight:d?null:f,baseSize:I})).lineHeight;S&&d&&0!==y&&(x=S),0===y&&(C=.8*M.maxFontSize)}else r&&y!==N&&(D+=r),z.textContent=D;else{z.textContent="-",k+=" v-empty-line";var j=z.style;j.fillOpacity=0,j.strokeOpacity=0,g&&(M={})}M&&b.push(M),0<y&&z.setAttribute("dy",x),(0<y||o)&&z.setAttribute("x",l),z.className.baseVal=k,m.appendChild(z),v+=D.length+1}if(s)if(g)x=function(t,i,n,r){if(!Array.isArray(i))return 0;var o=i.length;if(!o)return 0;for(var a=i[0],s=e(a.maxFontSize,n)||n,l=0,c=e(r,n),g=1;g<o;g++)l+=e((a=i[g]).lineHeight,n)||c;var h,u=e(a.maxFontSize,n)||n;switch(t){case"middle":h=s/2-.15*u-l/2;break;case"bottom":h=-.25*u-l;break;default:case"top":h=.8*s}return h}(a,b,I,f);else if("top"===a)x="0.8em";else{var Z;switch(0<N?(Z=parseFloat(f)||1,Z*=N,p.test(f)||(Z/=I)):Z=0,a){case"middle":x=.3-Z/2+"em";break;case"bottom":x=-Z-.3+"em"}}else 0===a?x="0em":a?x=a:(x=0,null===this.attr("y")&&this.attr("y",C||"0.8em"));return m.firstChild.setAttribute("dy",x),this.append(m),this},d.removeAttr=function(t){var e=u.qualifyAttr(t),i=this.node;return e.ns?i.hasAttributeNS(e.ns,e.local)&&i.removeAttributeNS(e.ns,e.local):i.hasAttribute(t)&&i.removeAttribute(t),this},d.attr=function(t,e){if(u.isUndefined(t)){for(var i=this.node.attributes,n={},r=0;r<i.length;r++)n[i[r].name]=i[r].value;return n}if(u.isString(t)&&u.isUndefined(e))return this.node.getAttribute(t);if("object"==typeof t)for(var o in t)t.hasOwnProperty(o)&&this.setAttribute(o,t[o]);else this.setAttribute(t,e);return this},d.normalizePath=function(){return"PATH"===this.tagName()&&this.attr("d",u.normalizePathData(this.attr("d"))),this},d.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},d.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},d.setAttributes=function(t){for(var e in t)t.hasOwnProperty(e)&&this.setAttribute(e,t[e]);return this},d.append=function(t){u.isArray(t)||(t=[t]);for(var e=0,i=t.length;e<i;e++)this.node.appendChild(u.toNode(t[e]));return this},d.prepend=function(t){var e=this.node.firstChild;return e?u(e).before(t):this.append(t)},d.before=function(t){var e=this.node,i=e.parentNode;if(i){u.isArray(t)||(t=[t]);for(var n=0,r=t.length;n<r;n++)i.insertBefore(u.toNode(t[n]),e)}return this},d.appendTo=function(t){return u.toNode(t).appendChild(this.node),this},d.svg=function(){return this.node instanceof window.SVGSVGElement?this:u(this.node.ownerSVGElement)},d.tagName=function(){return this.node.tagName.toUpperCase()},d.defs=function(){var t=this.svg()||this,e=t.node.getElementsByTagName("defs")[0];return e?u(e):u("defs").appendTo(t)},d.clone=function(){var t=u(this.node.cloneNode(!0));return t.node.id=u.uniqueId(),t},d.findOne=function(t){var e=this.node.querySelector(t);return e?u(e):void 0},d.find=function(t){var e=[],i=this.node.querySelectorAll(t);if(i)for(var n=0;n<i.length;n++)e.push(u(i[n]));return e},d.children=function(){for(var t=this.node.childNodes,e=[],i=0;i<t.length;i++)1===t[i].nodeType&&e.push(u(t[i]));return e},d.index=function(){for(var t=0,e=this.node.previousSibling;e;)1===e.nodeType&&t++,e=e.previousSibling;return t},d.findParentByClass=function(t,e){for(var i=this.node.ownerSVGElement,n=this.node.parentNode;n&&n!==e&&n!==i;){var r=u(n);if(r.hasClass(t))return r;n=n.parentNode}return null},d.contains=function(t){var e=this.node,i=u.toNode(t),n=i&&i.parentNode;return e===n||!!(n&&1===n.nodeType&&16&e.compareDocumentPosition(n))},d.toLocalPoint=function(t,e){var i=this.svg().node,n=i.createSVGPoint();n.x=t,n.y=e;try{var r=n.matrixTransform(i.getScreenCTM().inverse()),o=this.getTransformToElement(i).inverse()}catch(t){return n}return r.matrixTransform(o)},d.translateCenterToPoint=function(t){var e=this.getBBox({target:this.svg()}).center();return this.translate(t.x-e.x,t.y-e.y),this},d.translateAndAutoOrient=function(t,e,i){var n=this.scale();this.attr("transform",""),this.scale(n.sx,n.sy);var o=this.svg().node,a=this.getBBox({target:i||o}),s=o.createSVGTransform();s.setTranslate(-a.x-a.width/2,-a.y-a.height/2);var l=o.createSVGTransform(),c=new r.Point(t).changeInAngle(t.x-e.x,t.y-e.y,e);l.setRotate(c,0,0);var g=o.createSVGTransform(),h=new r.Point(t).move(e,a.width/2);g.setTranslate(t.x+(t.x-h.x),t.y+(t.y-h.y))
;var d=this.getTransformToElement(i||o),p=o.createSVGTransform();p.setMatrix(g.matrix.multiply(l.matrix.multiply(s.matrix.multiply(d))));var f=u.decomposeMatrix(p.matrix);return this.translate(f.translateX,f.translateY),this.rotate(f.rotation),this},d.animateAlongPath=function(t,e){e=u.toNode(e);var i=u.ensureId(e),n=u("animateMotion",t),r=u("mpath",{"xlink:href":"#"+i});n.append(r),this.append(n);try{n.node.beginElement()}catch(t){if("fake"===document.documentElement.getAttribute("smiling")){var o=n.node;o.animators=[];var a=o.getAttribute("id");a&&(id2anim[a]=o);for(var s=getTargets(o),l=0,c=s.length;l<c;l++){var g=s[l],h=new Animator(o,g,l);animators.push(h),(o.animators[l]=h).register()}}}return this},d.hasClass=function(t){return new RegExp("(\\s|^)"+t+"(\\s|$)").test(this.node.getAttribute("class"))},d.addClass=function(t){if(t&&!this.hasClass(t)){var e=this.node.getAttribute("class")||"";this.node.setAttribute("class",(e+" "+t).trim())}return this},d.removeClass=function(t){if(t&&this.hasClass(t)){var e=this.node.getAttribute("class").replace(new RegExp("(\\s|^)"+t+"(\\s|$)","g"),"$2");this.node.setAttribute("class",e)}return this},d.toggleClass=function(t,e){return(u.isUndefined(e)?this.hasClass(t):!e)?this.removeClass(t):this.addClass(t),this},d.sample=function(t){t=t||1;for(var e,i=this.node,n=i.getTotalLength(),r=[],o=0;o<n;)e=i.getPointAtLength(o),r.push({x:e.x,y:e.y,distance:o}),o+=t;return r},d.convertToPath=function(){var t=u("path");t.attr(this.attr());var e=this.convertToPathData();return e&&t.attr("d",e),t},d.convertToPathData=function(){var t=this.tagName();switch(t){case"PATH":return this.attr("d");case"LINE":return u.convertLineToPathData(this.node);case"POLYGON":return u.convertPolygonToPathData(this.node);case"POLYLINE":return u.convertPolylineToPathData(this.node);case"ELLIPSE":return u.convertEllipseToPathData(this.node);case"CIRCLE":return u.convertCircleToPathData(this.node);case"RECT":return u.convertRectToPathData(this.node)}throw new Error(t+" cannot be converted to PATH.")},u.prototype.toGeometryShape=function(){var t,e,i,n,o,a,s,l,c,g,h,d,p,f,I;switch(this.tagName()){case"RECT":return t=parseFloat(this.attr("x"))||0,e=parseFloat(this.attr("y"))||0,i=parseFloat(this.attr("width"))||0,n=parseFloat(this.attr("height"))||0,new r.Rect(t,e,i,n);case"CIRCLE":return o=parseFloat(this.attr("cx"))||0,a=parseFloat(this.attr("cy"))||0,s=parseFloat(this.attr("r"))||0,new r.Ellipse({x:o,y:a},s,s);case"ELLIPSE":return o=parseFloat(this.attr("cx"))||0,a=parseFloat(this.attr("cy"))||0,l=parseFloat(this.attr("rx"))||0,c=parseFloat(this.attr("ry"))||0,new r.Ellipse({x:o,y:a},l,c);case"POLYLINE":return g=u.getPointsFromSvgNode(this),new r.Polyline(g);case"POLYGON":return 1<(g=u.getPointsFromSvgNode(this)).length&&g.push(g[0]),new r.Polyline(g);case"PATH":return h=this.attr("d"),r.Path.isDataSupported(h)||(h=u.normalizePathData(h)),new r.Path(h);case"LINE":return d=parseFloat(this.attr("x1"))||0,f=parseFloat(this.attr("y1"))||0,p=parseFloat(this.attr("x2"))||0,I=parseFloat(this.attr("y2"))||0,new r.Line({x:d,y:f},{x:p,y:I})}return this.getBBox()},d.findIntersection=function(t,e){var i=this.svg().node;e=e||i;var n=this.getBBox({target:e}),o=n.center();if(n.intersectionWithLineFromCenterToPoint(t)){var a,s=this.tagName();if("RECT"===s){var l=new r.Rect(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),c=this.getTransformToElement(e),g=u.decomposeMatrix(c),h=i.createSVGTransform();h.setRotate(-g.rotation,o.x,o.y);var d=u.transformRect(l,h.matrix.multiply(c));a=new r.Rect(d).intersectionWithLineFromCenterToPoint(t,g.rotation)}else if("PATH"===s||"POLYGON"===s||"POLYLINE"===s||"CIRCLE"===s||"ELLIPSE"===s){var p,f,I,m,A,C=("PATH"===s?this:this.convertToPath()).sample(),v=1/0,w=[];for(p=0;p<C.length;p++)f=C[p],I=(I=u.createSVGPoint(f.x,f.y)).matrixTransform(this.getTransformToElement(e)),(A=(f=new r.Point(I)).distance(o)+(m=1.1*f.distance(t)))<v?(v=A,w=[{sample:f,refDistance:m}]):A<v+1&&w.push({sample:f,refDistance:m});w.sort(function(t,e){return t.refDistance-e.refDistance}),w[0]&&(a=w[0].sample)}return a}},d.setAttribute=function(t,e){var i=this.node;if(null===e)return this.removeAttr(t),this;var n=u.qualifyAttr(t);return n.ns?i.setAttributeNS(n.ns,t,e):"id"===t?i.id=e:i.setAttribute(t,e),this},u.createSvgDocument=function(t){var e='<svg xmlns="'+i.xmlns+'" xmlns:xlink="'+i.xlink+'" version="1.1">'+(t||"")+"</svg>";return u.parseXML(e,{async:!1}).documentElement},u.idCounter=0,u.uniqueId=function(){return"v-"+ ++u.idCounter},u.toNode=function(t){return u.isV(t)?t.node:t.nodeName&&t||t[0]},u.ensureId=function(t){return(t=u.toNode(t)).id||(t.id=u.uniqueId())},u.sanitizeText=function(t){return(t||"").replace(/ /g," ")},u.isUndefined=function(t){return void 0===t},u.isString=function(t){return"string"==typeof t},u.isObject=function(t){return t&&"object"==typeof t},u.isArray=Array.isArray,u.parseXML=function(t,e){var i;e=e||{};try{var n=new DOMParser;u.isUndefined(e.async)||(n.async=e.async),i=n.parseFromString(t,"text/xml")}catch(t){i=void 0}if(!i||i.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+t);return i},u.qualifyAttr=function(t){if(-1===t.indexOf(":"))return{ns:null,local:t};var e=t.split(":");return{ns:i[e[0]],local:e[1]}},u.transformRegex=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,u.transformSeparatorRegex=/[ ,]+/,u.transformationListRegex=/^(\w+)\((.*)\)/,u.transformStringToMatrix=function(t){var e=u.createSVGMatrix(),i=t&&t.match(u.transformRegex);if(!i)return e;for(var n=0,r=i.length;n<r;n++){var o=i[n].match(u.transformationListRegex);if(o){var a,s,l,c,g,h=u.createSVGMatrix(),d=o[2].split(u.transformSeparatorRegex);switch(o[1].toLowerCase()){case"scale":a=parseFloat(d[0]),s=void 0===d[1]?a:parseFloat(d[1]),h=h.scaleNonUniform(a,s);break;case"translate":l=parseFloat(d[0]),c=parseFloat(d[1]),h=h.translate(l,c);break;case"rotate":g=parseFloat(d[0]),l=parseFloat(d[1])||0,c=parseFloat(d[2])||0,h=0!==l||0!==c?h.translate(l,c).rotate(g).translate(-l,-c):h.rotate(g);break;case"skewx":g=parseFloat(d[0]),h=h.skewX(g);break;case"skewy":g=parseFloat(d[0]),h=h.skewY(g);break;case"matrix":h.a=parseFloat(d[0]),h.b=parseFloat(d[1]),h.c=parseFloat(d[2]),h.d=parseFloat(d[3]),h.e=parseFloat(d[4]),h.f=parseFloat(d[5]);break;default:continue}e=e.multiply(h)}}return e},u.matrixToTransformString=function(t){return t||(t=!0),"matrix("+(void 0!==t.a?t.a:1)+","+(void 0!==t.b?t.b:0)+","+(void 0!==t.c?t.c:0)+","+(void 0!==t.d?t.d:1)+","+(void 0!==t.e?t.e:0)+","+(void 0!==t.f?t.f:0)+")"},u.parseTransformString=function(t){var e,i,n;if(t){var r=u.transformSeparatorRegex;if(0<=t.trim().indexOf("matrix")){var o=u.transformStringToMatrix(t),a=u.decomposeMatrix(o);e=[a.translateX,a.translateY],n=[a.scaleX,a.scaleY],i=[a.rotation];var s=[];0===e[0]&&0===e[1]||s.push("translate("+e+")"),1===n[0]&&1===n[1]||s.push("scale("+n+")"),0!==i[0]&&s.push("rotate("+i+")"),t=s.join(" ")}else{var l=t.match(/translate\((.*?)\)/);l&&(e=l[1].split(r));var c=t.match(/rotate\((.*?)\)/);c&&(i=c[1].split(r));var g=t.match(/scale\((.*?)\)/);g&&(n=g[1].split(r))}}var h=n&&n[0]?parseFloat(n[0]):1;return{value:t,translate:{tx:e&&e[0]?parseInt(e[0],10):0,ty:e&&e[1]?parseInt(e[1],10):0},rotate:{angle:i&&i[0]?parseInt(i[0],10):0,cx:i&&i[1]?parseInt(i[1],10):void 0,cy:i&&i[2]?parseInt(i[2],10):void 0},scale:{sx:h,sy:n&&n[1]?parseFloat(n[1]):h}}},u.deltaTransformPoint=function(t,e){return{x:e.x*t.a+e.y*t.c+0,y:e.x*t.b+e.y*t.d+0}},u.decomposeMatrix=function(t){var e=u.deltaTransformPoint(t,{x:0,y:1}),i=u.deltaTransformPoint(t,{x:1,y:0}),n=180/o*a(e.y,e.x)-90,r=180/o*a(i.y,i.x);return{translateX:t.e,translateY:t.f,scaleX:s(t.a*t.a+t.b*t.b),scaleY:s(t.c*t.c+t.d*t.d),skewX:n,skewY:r,rotation:n}},u.matrixToScale=function(t){var e,i,n,r;return t?(e=u.isUndefined(t.a)?1:t.a,r=u.isUndefined(t.d)?1:t.d,i=t.b,n=t.c):e=r=1,{sx:i?s(e*e+i*i):e,sy:n?s(n*n+r*r):r}},u.matrixToRotate=function(t){var e={x:0,y:1};return t&&(e=u.deltaTransformPoint(t,e)),{angle:r.normalizeAngle(r.toDeg(a(e.y,e.x))-90)}},u.matrixToTranslate=function(t){return{tx:t&&t.e||0,ty:t&&t.f||0}},u.isV=function(t){return t instanceof u},u.isVElement=u.isV,u.isSVGGraphicsElement=function(t){return!!t&&(t=u.toNode(t))instanceof SVGElement&&"function"==typeof t.getScreenCTM};var f=u("svg").node;return u.createSVGMatrix=function(t){var e=f.createSVGMatrix();for(var i in t)e[i]=t[i];return e},u.createSVGTransform=function(t){return u.isUndefined(t)?f.createSVGTransform():(t instanceof SVGMatrix||(t=u.createSVGMatrix(t)),f.createSVGTransformFromMatrix(t))},u.createSVGPoint=function(t,e){var i=f.createSVGPoint();return i.x=t,i.y=e,i},u.transformRect=function(t,e){var i=f.createSVGPoint();i.x=t.x,i.y=t.y;var n=i.matrixTransform(e);i.x=t.x+t.width,i.y=t.y;var o=i.matrixTransform(e);i.x=t.x+t.width,i.y=t.y+t.height;var a=i.matrixTransform(e);i.x=t.x,i.y=t.y+t.height;var s=i.matrixTransform(e),g=l(n.x,o.x,a.x,s.x),h=c(n.x,o.x,a.x,s.x),u=l(n.y,o.y,a.y,s.y),d=c(n.y,o.y,a.y,s.y);return new r.Rect(g,u,h-g,d-u)},u.transformPoint=function(t,e){return new r.Point(u.createSVGPoint(t.x,t.y).matrixTransform(e))},u.transformLine=function(t,e){return new r.Line(u.transformPoint(t.start,e),u.transformPoint(t.end,e))},u.transformPolyline=function(t,e){var i=t instanceof r.Polyline?t.points:t;u.isArray(i)||(i=[]);for(var n=[],o=0,a=i.length;o<a;o++)n[o]=u.transformPoint(i[o],e);return new r.Polyline(n)},u.styleToObject=function(t){for(var e={},i=t.split(";"),n=0;n<i.length;n++){var r=i[n].split("=");e[r[0].trim()]=r[1].trim()}return e},u.createSlicePathData=function(t,e,i,n){var r=2*o-1e-6,a=t,s=e,l=i,c=n,u=(c<l&&(u=l,l=c,c=u),c-l),d=u<o?"0":"1",p=g(l),f=h(l),I=g(c),m=h(c);return r<=u?a?"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+-s+"A"+s+","+s+" 0 1,1 0,"+s+"M0,"+a+"A"+a+","+a+" 0 1,0 0,"+-a+"A"+a+","+a+" 0 1,0 0,"+a+"Z":"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+-s+"A"+s+","+s+" 0 1,1 0,"+s+"Z":a?"M"+s*p+","+s*f+"A"+s+","+s+" 0 "+d+",1 "+s*I+","+s*m+"L"+a*I+","+a*m+"A"+a+","+a+" 0 "+d+",0 "+a*p+","+a*f+"Z":"M"+s*p+","+s*f+"A"+s+","+s+" 0 "+d+",1 "+s*I+","+s*m+"L0,0Z"},u.mergeAttrs=function(t,e){for(var i in e)"class"===i?t[i]=t[i]?t[i]+" "+e[i]:e[i]:"style"===i?u.isObject(t[i])&&u.isObject(e[i])?t[i]=u.mergeAttrs(t[i],e[i]):u.isObject(t[i])?t[i]=u.mergeAttrs(t[i],u.styleToObject(e[i])):u.isObject(e[i])?t[i]=u.mergeAttrs(u.styleToObject(t[i]),e[i]):t[i]=u.mergeAttrs(u.styleToObject(t[i]),u.styleToObject(e[i])):t[i]=e[i];return t},u.annotateString=function(t,e,i){e=e||[];for(var n,r,o,a=(i=i||{}).offset||0,s=[],l=[],c=0;c<t.length;c++){r=l[c]=t[c];for(var g=0;g<e.length;g++){var h=e[g],d=h.start+a,p=h.end+a;d<=c&&c<p&&(u.isObject(r)?r.attrs=u.mergeAttrs(u.mergeAttrs({},r.attrs),h.attrs):r=l[c]={t:t[c],attrs:h.attrs},i.includeAnnotationIndices&&(r.annotations||(r.annotations=[])).push(g))}(o=l[c-1])?u.isObject(r)&&u.isObject(o)?JSON.stringify(r.attrs)===JSON.stringify(o.attrs)?n.t+=r.t:(s.push(n),n=r):n=u.isObject(r)?(s.push(n),r):u.isObject(o)?(s.push(n),r):(n||"")+r:n=r}return n&&s.push(n),s},u.findAnnotationsAtIndex=function(t,e){var i=[];return t&&t.forEach(function(t){t.start<e&&e<=t.end&&i.push(t)}),i},u.findAnnotationsBetweenIndexes=function(t,e,i){var n=[];return t&&t.forEach(function(t){(e>=t.start&&e<t.end||i>t.start&&i<=t.end||t.start>=e&&t.end<i)&&n.push(t)}),n},u.shiftAnnotations=function(t,e,i){return t&&t.forEach(function(t){t.start<e&&t.end>=e?t.end+=i:t.start>=e&&(t.start+=i,t.end+=i)}),t},u.convertLineToPathData=function(t){return["M",(t=u(t)).attr("x1"),t.attr("y1"),"L",t.attr("x2"),t.attr("y2")].join(" ")},u.convertPolygonToPathData=function(t){var e=u.getPointsFromSvgNode(t);return 0===e.length?null:u.svgPointsToPath(e)+" Z"},u.convertPolylineToPathData=function(t){var e=u.getPointsFromSvgNode(t);return 0===e.length?null:u.svgPointsToPath(e)},u.svgPointsToPath=function(t){for(var e=0,i=t.length;e<i;e++)t[e]=t[e].x+" "+t[e].y;return"M "+t.join(" L")},u.getPointsFromSvgNode=function(t){var e=[],i=(t=u.toNode(t)).points;if(i)for(var n=0,r=i.numberOfItems;n<r;n++)e.push(i.getItem(n));return e},u.KAPPA=.551784,u.convertCircleToPathData=function(t){t=u(t);var e=parseFloat(t.attr("cx"))||0,i=parseFloat(t.attr("cy"))||0,n=parseFloat(t.attr("r")),r=n*u.KAPPA;return["M",e,i-n,"C",e+r,i-n,e+n,i-r,e+n,i,"C",e+n,i+r,e+r,i+n,e,i+n,"C",e-r,i+n,e-n,i+r,e-n,i,"C",e-n,i-r,e-r,i-n,e,i-n,"Z"].join(" ")},u.convertEllipseToPathData=function(t){t=u(t);var e=parseFloat(t.attr("cx"))||0,i=parseFloat(t.attr("cy"))||0,n=parseFloat(t.attr("rx")),r=parseFloat(t.attr("ry"))||n,o=n*u.KAPPA,a=r*u.KAPPA;return["M",e,i-r,"C",e+o,i-r,e+n,i-a,e+n,i,"C",e+n,i+a,e+o,i+r,e,i+r,"C",e-o,i+r,e-n,i+a,e-n,i,"C",e-n,i-a,e-o,i-r,e,i-r,"Z"].join(" ")},u.convertRectToPathData=function(t){return t=u(t),u.rectToPath({x:parseFloat(t.attr("x"))||0,y:parseFloat(t.attr("y"))||0,width:parseFloat(t.attr("width"))||0,height:parseFloat(t.attr("height"))||0,rx:parseFloat(t.attr("rx"))||0,ry:parseFloat(t.attr("ry"))||0})},u.rectToPath=function(t){var e=t.x,i=t.y,n=t.width,r=t.height,o=l(t.rx||t["top-rx"]||0,n/2),a=l(t.rx||t["bottom-rx"]||0,n/2),s=l(t.ry||t["top-ry"]||0,r/2),c=l(t.ry||t["bottom-ry"]||0,r/2);return(o||a||s||c?["M",e,i+s,"v",r-s-c,"a",a,c,0,0,0,a,c,"h",n-2*a,"a",a,c,0,0,0,a,-c,"v",-(r-c-s),"a",o,s,0,0,0,-o,-s,"h",-(n-2*o),"a",o,s,0,0,0,-o,s,"Z"]:["M",e,i,"H",e+n,"V",i+r,"H",e,"V",i,"Z"]).join(" ")},u.normalizePathData=function(){function t(t,e,i,n,r,o){return[1/3*t+2/3*i,1/3*e+2/3*n,1/3*r+2/3*i,1/3*o+2/3*n,r,o]}function e(t){if(Array.isArray(t)&&Array.isArray(t&&t[0])||(t=function(t){if(!t)return null;var e={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=[];return String(t).replace(r,function(t,n,r){var a=[],s=n.toLowerCase();for(r.replace(o,function(t,e){e&&a.push(+e)}),"m"===s&&2<a.length&&(i.push([n].concat(a.splice(0,2))),s="l",n="m"===n?"l":"L");a.length>=e[s]&&(i.push([n].concat(a.splice(0,e[s]))),e[s]););}),i}(t)),!t||!t.length)return[["M",0,0]];for(var e,i=[],n=0,a=0,s=0,l=0,c=t.length,g=0;g<c;g++){var h=[];i.push(h);var u,d,p=t[g];if((e=p[0])!=e.toUpperCase())switch(h[0]=e.toUpperCase(),h[0]){case"A":h[1]=p[1],h[2]=p[2],h[3]=p[3],h[4]=p[4],h[5]=p[5],h[6]=+p[6]+n,h[7]=+p[7]+a;break;case"V":h[1]=+p[1]+a;break;case"H":h[1]=+p[1]+n;break;case"M":for(s=+p[1]+n,l=+p[2]+a,u=p.length,d=1;d<u;d++)h[d]=+p[d]+(d%2?n:a);break;default:for(u=p.length,d=1;d<u;d++)h[d]=+p[d]+(d%2?n:a)}else for(var f=p.length,I=0;I<f;I++)h[I]=p[I];switch(h[0]){case"Z":n=+s,a=+l;break;case"H":n=h[1];break;case"V":a=h[1];break;case"M":s=h[h.length-2],l=h[h.length-1],n=h[h.length-2],a=h[h.length-1];break;default:n=h[h.length-2],a=h[h.length-1]}}return i}function i(i){for(var n=e(i),r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=[],a="",p="",f=n.length,I=0;I<f;I++){n[I]&&(a=n[I][0]),"C"!==a&&(o[I]=a,0<I&&(p=o[I-1])),n[I]=function(e,i,n){var r,o;if(!e)return["C",i.x,i.y,i.x,i.y,i.x,i.y];switch(e[0]in{T:1,Q:1}||(i.qx=null,i.qy=null),e[0]){case"M":i.X=e[1],i.Y=e[2];break;case"A":e=["C"].concat(function t(e,i,n,r,o,a,p,f,I,m){var A,C=120*s/180,v=s/180*(+o||0),w=[],b=function(t,e,i){return{x:t*c(i)-e*l(i),y:t*l(i)+e*c(i)}};if(m)j=m[0],Z=m[1],D=m[2],S=m[3];else{e=(A=b(e,i,-v)).x,i=A.y;var y=(e-(f=(A=b(f,I,-v)).x))/2,N=(i-(I=A.y))/2,M=y*y/(n*n)+N*N/(r*r);1<M&&(n*=M=u(M),r*=M);var x=n*n,k=r*r,z=(a==p?-1:1)*u(d((x*k-x*N*N-k*y*y)/(x*N*N+k*y*y))),D=z*n*N/r+(e+f)/2,S=z*-r*y/n+(i+I)/2,j=h(((i-S)/r).toFixed(9)),Z=h(((I-S)/r).toFixed(9));(j=e<D?s-j:j)<0&&(j=2*s+j),(Z=f<D?s-Z:Z)<0&&(Z=2*s+Z),Z<(p&&j)&&(j-=2*s),j<(!p&&Z)&&(Z-=2*s)}var G=Z-j;if(d(G)>C){var P=Z,L=f,T=I;w=t(f=D+n*c(Z=j+C*(j<(p&&Z)?1:-1)),I=S+r*l(Z),n,r,o,0,p,L,T,[Z,P,D,S])}G=Z-j;var B=c(j),O=l(j),Y=c(Z),E=l(Z),W=g(G/4),R=4/3*(n*W),X=4/3*(r*W),V=[e,i],U=[e+R*O,i-X*B],F=[f+R*E,I-X*Y],J=[f,I];if(U[0]=2*V[0]-U[0],U[1]=2*V[1]-U[1],m)return[U,F,J].concat(w);for(var H=[],Q=(w=[U,F,J].concat(w).join().split(",")).length,_=0;_<Q;_++)H[_]=_%2?b(w[_-1],w[_],v).y:b(w[_],w[_+1],v).x;return H}.apply(0,[i.x,i.y].concat(e.slice(1))));break;case"S":o="C"===n||"S"===n?(r=2*i.x-i.bx,2*i.y-i.by):(r=i.x,i.y),e=["C",r,o].concat(e.slice(1));break;case"T":i.qy="Q"===n||"T"===n?(i.qx=2*i.x-i.qx,2*i.y-i.qy):(i.qx=i.x,i.y),e=["C"].concat(t(i.x,i.y,i.qx,i.qy,e[1],e[2]));break;case"Q":i.qx=e[1],i.qy=e[2],e=["C"].concat(t(i.x,i.y,e[1],e[2],e[3],e[4]));break;case"H":e=["L"].concat(e[1],i.y);break;case"V":e=["L"].concat(i.x,e[1])}return e}(n[I],r,p),"A"!==o[I]&&"C"===a&&(o[I]="C"),function(t,e){if(7<t[e].length){t[e].shift();for(var i=t[e];i.length;)o[e]="A",t.splice(e++,0,["C"].concat(i.splice(0,6)));t.splice(e,1),f=n.length}}(n,I);var m=n[I],A=m.length;r.x=m[A-2],r.y=m[A-1],r.bx=parseFloat(m[A-4])||r.x,r.by=parseFloat(m[A-3])||r.y}return n[0][0]&&"M"===n[0][0]||n.unshift(["M",0,0]),n}var n="\t\n\v\f\r   ᠎             　\u2028\u2029",r=new RegExp("([a-z])["+n+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+n+"]*,?["+n+"]*)+)","ig"),o=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+n+"]*,?["+n+"]*","ig"),a=Math,s=a.PI,l=a.sin,c=a.cos,g=a.tan,h=a.asin,u=a.sqrt,d=a.abs;return function(t){return i(t).join(",").split(",").join(" ")}}(),u.namespace=i,u}();var a={version:"2.2.1",config:{classNamePrefix:"joint-",defaultTheme:"default"},dia:{},ui:{},layout:{},shapes:{},format:{},connectors:{},highlighters:{},routers:{},anchors:{},connectionPoints:{},connectionStrategies:{},linkTools:{},mvc:{views:{}},setTheme:function(t,e){e=e||{},a.util.invoke(a.mvc.views,"setTheme",t,e),a.mvc.View.prototype.defaultTheme=t},env:{_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(t,e){return a.env._tests[t]=e},test:function(t){var e=a.env._tests[t];if(!e)throw new Error('Test not defined ("'+t+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var i=a.env._results[t];if(void 0!==i)return i;try{i=e()}catch(t){i=!1}return a.env._results[t]=i}},util:{hashCode:function(t){var e=0;if(0==t.length)return e;for(var i=0;i<t.length;i++)e=(e<<5)-e+t.charCodeAt(i),e&=e;return e},getByPath:function(t,e,i){for(var n,r=Array.isArray(e)?e.slice():e.split(i||"/");r.length;){if(n=r.shift(),!(Object(t)===t&&n in t))return;t=t[n]}return t},setByPath:function(t,e,i,n){for(var r=Array.isArray(e)?e:e.split(n||"/"),o=t,a=0,s=r.length;a<s-1;a++)o=o[r[a]]||(o[r[a]]={});return o[r[s-1]]=i,t},unsetByPath:function(t,e,i){i=i||"/";var n=Array.isArray(e)?e.slice():e.split(i),r=n.pop();if(0<n.length){var o=a.util.getByPath(t,n,i);o&&delete o[r]}else delete t[r];return t},flattenObject:function(t,e,i){e=e||"/";var n={};for(var r in t)if(t.hasOwnProperty(r)){var o="object"==typeof t[r];if(o&&i&&i(t[r])&&(o=!1),o){var a=this.flattenObject(t[r],e,i);for(var s in a)a.hasOwnProperty(s)&&(n[r+e+s]=a[s])}else n[r]=t[r]}return n},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},guid:function(t){return this.guid.id=this.guid.id||1,t.id=void 0===t.id?"j_"+this.guid.id++:t.id,t.id},toKebabCase:function(t){return t.replace(/[A-Z]/g,"-$&").toLowerCase()},normalizeEvent:function(t){var e=t,i=t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0];if(i){for(var n in t)void 0===i[n]&&(i[n]=t[n]);e=i}var r=e.target;if(r){var o=r.correspondingUseElement;o&&(e.target=o)}return e},nextFrame:function(){var t;if("undefined"!=typeof window&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!t){var e=0;t=function(t){var i=(new Date).getTime(),n=Math.max(0,16-(i-e)),r=setTimeout(function(){t(i+n)},n);return e=i+n,r}}return function(e,i){return t(i?e.bind(i):e)}}(),cancelFrame:function(){var t,e="undefined"!=typeof window;return e&&(t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),t=t||clearTimeout,e?t.bind(window):t}(),shapePerimeterConnectionPoint:function(t,e,i,n){var r,a;if(!i){var s=e.$(".scalable")[0],l=e.$(".rotatable")[0];s&&s.firstChild?i=s.firstChild:l&&l.firstChild&&(i=l.firstChild)}return i?(a=o(i).findIntersection(n,t.paper.viewport))||(r=o(i).getBBox({target:t.paper.viewport})):a=(r=e.model.getBBox()).intersectionWithLineFromCenterToPoint(n),a||r.center()},isPercentage:function(t){return a.util.isString(t)&&"%"===t.slice(-1)},parseCssNumeric:function(t,e){var i=parseFloat(t);if(Number.isNaN(i))return null;var n,r={};if(r.value=i,null==e)n="[A-Za-z]*";else if(Array.isArray(e)){if(0===e.length)return null;n=e.join("|")}else a.util.isString(e)&&(n=e);var o,s=(o=new RegExp("(?:\\d+(?:\\.\\d+)*)("+n+")$").exec(t))?o[1]:null;return null===s?null:(r.unit=s,r)},breakText:function(t,e,i,n){n=n||{},i=i||{};var r=e.width,s=e.height,l=n.svgDocument||o("svg").node,c=o("tspan").node,g=o("text").attr(i).append(c).node,h=document.createTextNode("");g.style.opacity=0,g.style.display="block",c.style.display="block",c.appendChild(h),l.appendChild(g),n.svgDocument||document.body.appendChild(l);for(var u,d,p=n.separator||" ",f=n.eol||"\n",I=t.split(p),m=[],A=[],C=0,v=0,w=I.length;C<w;C++){var b=I[C];if(b)if(f&&0<=b.indexOf(f))if(1<b.length){for(var y=b.split(f),N=0,M=y.length-1;N<M;N++)y.splice(2*N+1,0,f);Array.prototype.splice.apply(I,[C,1].concat(y)),C--,w+=y.length-1}else v++;else{if(h.data=A[v]?A[v]+" "+b:b,c.getComputedTextLength()<=r)A[v]=h.data,u&&(m[v++]=!0,u=0);else{if(!A[v]||u){var x=!!u;if(u=b.length-1,x||!u){if(!u){if(!A[v]){A=[];break}I.splice(C,2,b+I[C+1]),w--,m[v++]=!0,C--;continue}I[C]=b.substring(0,u),I[C+1]=b.substring(u)+I[C+1]}else I.splice(C,1,b.substring(0,u),b.substring(u)),w++,v&&!m[v-1]&&v--;C--;continue}v++,C--}if(void 0!==s){var k;if(void 0===d&&(d=(k="auto"===i.lineHeight?{value:1.5,unit:"em"}:a.util.parseCssNumeric(i.lineHeight,["em"])||{value:1,unit:"em"}).value,"em"===k.unit&&(d*=g.getBBox().height)),d*A.length>s){var z=Math.floor(s/d)-1;A.splice(z+1);var D=n.ellipsis;if(!D||z<0)break;"string"!=typeof D&&(D="…");var S,j,Z=A[z],G=Z.length;do{if(j=Z[G],S=Z.substring(0,G),j?j.match(p)&&(S+=j):S+="string"==typeof p?p:" ",S+=D,h.data=S,c.getComputedTextLength()<=r){A[z]=S;break}G--}while(0<=G);break}}}}return n.svgDocument?l.removeChild(g):document.body.removeChild(l),A.join(f)},sanitizeHTML:function(t){var e=n(n.parseHTML("<div>"+t+"</div>",null,!1));return e.find("*").each(function(){var t=this;n.each(t.attributes,function(){var e=this.name,i=this.value;0!==e.indexOf("on")&&0!==i.indexOf("javascript:")||n(t).removeAttr(e)})}),e.html()},downloadBlob:function(t,e){if(window.navigator.msSaveBlob)window.navigator.msSaveBlob(t,e);else{var i=window.URL.createObjectURL(t),n=document.createElement("a");n.href=i,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i)}},downloadDataUri:function(t,e){var i=a.util.dataUriToBlob(t);a.util.downloadBlob(i,e)},dataUriToBlob:function(t){t=t.replace(/\s/g,"");var e,i=(t=decodeURIComponent(t)).indexOf(","),n=t.slice(0,i),r=n.split(":")[1].split(";")[0],o=t.slice(i+1);e=0<=n.indexOf("base64")?atob(o):unescape(encodeURIComponent(o));for(var a=new Uint8Array(e.length),s=0;s<e.length;s++)a[s]=e.charCodeAt(s);return new Blob([a],{type:r})},imageToDataUri:function(t,e){if(!t||"data:"===t.substr(0,"data:".length))return setTimeout(function(){e(null,t)},0);var i=new XMLHttpRequest;i.open("GET",t,!0),i.addEventListener("error",function(){e(new Error("Failed to load image "+t))}),i.responseType=window.FileReader?"blob":"arraybuffer",i.addEventListener("load",function(){window.FileReader?function(e,i){if(200===e.status){var n=new FileReader;n.onload=function(t){var e=t.target.result;i(null,e)},n.onerror=function(){i(new Error("Failed to load image "+t))},n.readAsDataURL(e.response)}else i(new Error("Failed to load image "+t))}(i,e):function(e,i){if(200===e.status){var n=new Uint8Array(e.response),r=t.split(".").pop()||"png";i(null,"data:image/"+({svg:"svg+xml"}[r]||r)+";base64,"+btoa(function(t){for(var e=[],i=0;i<t.length;i+=32768)e.push(String.fromCharCode.apply(null,t.subarray(i,i+32768)));return e.join("")}(n)))}else i(new Error("Failed to load image "+t))}(i,e)}),i.send()},getElementBBox:function(t){var e=n(t);if(0===e.length)throw new Error("Element not found");var i=e[0],r=i.ownerDocument,a=i.getBoundingClientRect(),s=0,l=0;if(i.ownerSVGElement){var c=o(i),g=c.getBBox({target:c.svg()});s=a.width-g.width,l=a.height-g.height}return{x:a.left+window.pageXOffset-r.documentElement.offsetLeft+s/2,y:a.top+window.pageYOffset-r.documentElement.offsetTop+l/2,width:a.width-s,height:a.height-l}},sortElements:function(t,e){var i=n(t),r=i.map(function(){var t=this.parentNode,e=t.insertBefore(document.createTextNode(""),this.nextSibling);return function(){if(t===this)throw new Error("You can't sort elements if any one is a descendant of another.");t.insertBefore(this,e),t.removeChild(e)}});return Array.prototype.sort.call(i,e).each(function(t){r[t].call(this)})},setAttributesBySelector:function(t,e){var i=n(t);a.util.forIn(e,function(t,e){var n=i.find(e).addBack().filter(e);a.util.has(t,"class")&&(n.addClass(t.class),t=a.util.omit(t,"class")),n.attr(t)})},normalizeSides:function(t){if(Object(t)===t)return e=i=n=r=0,isFinite(t.vertical)&&(e=n=+t.vertical),isFinite(t.horizontal)&&(i=r=+t.horizontal),isFinite(t.top)&&(e=+t.top),isFinite(t.right)&&(i=+t.right),isFinite(t.bottom)&&(n=+t.bottom),isFinite(t.left)&&(r=+t.left),{top:e,right:i,bottom:n,left:r};var e,i,n,r,o=0;return isFinite(t)&&(o=+t),{top:o,right:o,bottom:o,left:o}},timing:{linear:function(t){return t},quad:function(t){return t*t},cubic:function(t){return t*t*t},inout:function(t){if(t<=0)return 0;if(1<=t)return 1;var e=t*t,i=e*t;return 4*(t<.5?i:3*(t-e)+i-.75)},exponential:function(t){return Math.pow(2,10*(t-1))},bounce:function(t){for(var e=0,i=1;;e+=i,i/=2)if((7-4*e)/11<=t){var n=(11-6*e-11*t)/4;return-n*n+i*i}},reverse:function(t){return function(e){return 1-t(1-e)}},reflect:function(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}},clamp:function(t,e,i){return e=e||0,i=i||1,function(n){var r=t(n);return r<e?e:i<r?i:r}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},elastic:function(t){return t||(t=1.5),function(e){return Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}}},interpolate:{number:function(t,e){var i=e-t;return function(e){return t+i*e}},object:function(t,e){var i=Object.keys(t);return function(n){var r,o,a={};for(r=i.length-1;-1!=r;r--)a[o=i[r]]=t[o]+(e[o]-t[o])*n;return a}},hexColor:function(t,e){var i=parseInt(t.slice(1),16),n=parseInt(e.slice(1),16),r=255&i,o=(255&n)-r,a=65280&i,s=(65280&n)-a,l=16711680&i,c=(16711680&n)-l;return function(t){return"#"+(1<<24|r+o*t&255|a+s*t&65280|l+c*t&16711680).toString(16).slice(1)}},unit:function(t,e){var i=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,n=i.exec(t),r=i.exec(e),o=r[1].indexOf("."),a=0<o?r[1].length-o-1:0;t=+n[1];var s=+r[1]-t,l=n[2];return function(e){return(t+s*e).toFixed(a)+l}}},filter:{outline:function(t){var e=Number.isFinite(t.margin)?t.margin:2,i=Number.isFinite(t.width)?t.width:1;return a.util.template('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>')({color:t.color||"blue",opacity:Number.isFinite(t.opacity)?t.opacity:1,outerRadius:e+i,innerRadius:e})},highlight:function(t){return a.util.template('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>')({color:t.color||"red",width:Number.isFinite(t.width)?t.width:1,blur:Number.isFinite(t.blur)?t.blur:0,opacity:Number.isFinite(t.opacity)?t.opacity:1})},blur:function(t){var e=Number.isFinite(t.x)?t.x:2;return a.util.template('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(t.y)?[e,t.y]:e})},dropShadow:function(t){var e="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return a.util.template(e)({dx:t.dx||0,dy:t.dy||0,opacity:Number.isFinite(t.opacity)?t.opacity:1,color:t.color||"black",blur:Number.isFinite(t.blur)?t.blur:4})},grayscale:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return a.util.template('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})},sepia:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return a.util.template('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})},saturate:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return a.util.template('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-e})},hueRotate:function(t){return a.util.template('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:t.angle||0})},invert:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return a.util.template('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:1-e})},brightness:function(t){return a.util.template('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(t.amount)?t.amount:1})},contrast:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return a.util.template('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:.5-e/2})}},format:{number:function(t,e,i){function n(t){for(var e=t.length,n=[],r=0,o=i.grouping[0];0<e&&0<o;)n.push(t.substring(e-=o,e+o)),o=i.grouping[r=(r+1)%i.grouping.length];return n.reverse().join(i.thousands)}i=i||{currency:["$",""],decimal:".",thousands:",",grouping:[3]}
;var r=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i.exec(t),o=r[1]||" ",a=r[2]||">",s=r[3]||"",l=r[4]||"",c=r[5],g=+r[6],h=r[7],u=r[8],d=r[9],p=1,f="",I="",m=!1;switch(u&&(u=+u.substring(1)),(c||"0"===o&&"="===a)&&(c=o="0",a="=",h&&(g-=Math.floor((g-1)/4))),d){case"n":h=!0,d="g";break;case"%":p=100,I="%",d="f";break;case"p":p=100,I="%",d="r";break;case"b":case"o":case"x":case"X":"#"===l&&(f="0"+d.toLowerCase());break;case"c":case"d":m=!0,u=0;break;case"s":p=-1,d="r"}"$"===l&&(f=i.currency[0],I=i.currency[1]),"r"!=d||u||(d="g"),null!=u&&("g"==d?u=Math.max(1,Math.min(21,u)):"e"!=d&&"f"!=d||(u=Math.max(0,Math.min(20,u))));var A=c&&h;if(m&&e%1)return"";var C=e<0||0===e&&1/e<0?(e=-e,"-"):s,v=I;if(p<0){var w=this.prefix(e,u);e=w.scale(e),v=w.symbol+I}else e*=p;var b=(e=this.convert(d,e,u)).lastIndexOf("."),y=b<0?e:e.substring(0,b),N=b<0?"":i.decimal+e.substring(b+1);!c&&h&&i.grouping&&(y=n(y));var M=f.length+y.length+N.length+(A?0:C.length),x=M<g?new Array(M=g-M+1).join(o):"";return A&&(y=n(x+y)),C+=f,e=y+N,("<"===a?C+e+x:">"===a?x+C+e:"^"===a?x.substring(0,M>>=1)+C+e+x.substring(M):C+(A?e:x+e))+v},string:function(t,e){for(var i,n="{",r=!1,o=[];-1!==(i=t.indexOf(n));){var a,s,l;if(a=t.slice(0,i),r){l=(s=a.split(":")).shift().split("."),a=e;for(var c=0;c<l.length;c++)a=a[l[c]];s.length&&(a=this.number(s,a))}o.push(a),t=t.slice(i+1),n=(r=!r)?"}":"{"}return o.push(t),o.join("")},convert:function(t,e,i){switch(t){case"b":return e.toString(2);case"c":return String.fromCharCode(e);case"o":return e.toString(8);case"x":return e.toString(16);case"X":return e.toString(16).toUpperCase();case"g":return e.toPrecision(i);case"e":return e.toExponential(i);case"f":return e.toFixed(i);case"r":return(e=this.round(e,this.precision(e,i))).toFixed(Math.max(0,Math.min(20,this.precision(e*(1+1e-15),i))));default:return e+""}},round:function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)},precision:function(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)},prefix:function(t,e){var i=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var i=Math.pow(10,3*Math.abs(8-e));return{scale:8<e?function(t){return t/i}:function(t){return t*i},symbol:t}}),n=0;return t&&(t<0&&(t*=-1),e&&(t=this.round(t,this.precision(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n<=0?n+1:n-1)/3)))),i[8+n/3]}},template:function(t){var e=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(i){return i=i||{},t.replace(e,function(t){for(var e=Array.from(arguments).slice(1,4).find(function(t){return!!t}).split("."),n=i[e.shift()];void 0!==n&&e.length;)n=n[e.shift()];return void 0!==n?n:""})}},toggleFullScreen:function(t){function e(t,e){for(var i=["webkit","moz","ms","o",""],n=0;n<i.length;n++){var r=i[n],o=r?r+e:e.substr(0,1).toLowerCase()+e.substr(1);if(void 0!==t[o])return a.util.isFunction(t[o])?t[o]():t[o]}}var i=window.top.document;t=t||i.body,e(i,"FullscreenElement")||e(i,"FullScreenElement")?e(i,"ExitFullscreen")||e(i,"CancelFullScreen"):e(t,"RequestFullscreen")||e(t,"RequestFullScreen")},addClassNamePrefix:function(t){return t?t.toString().split(" ").map(function(t){return t.substr(0,a.config.classNamePrefix.length)!==a.config.classNamePrefix&&(t=a.config.classNamePrefix+t),t}).join(" "):t},removeClassNamePrefix:function(t){return t?t.toString().split(" ").map(function(t){return t.substr(0,a.config.classNamePrefix.length)===a.config.classNamePrefix&&(t=t.substr(a.config.classNamePrefix.length)),t}).join(" "):t},wrapWith:function(t,e,i){if(a.util.isString(i)){if(!a.util.wrappers[i])throw new Error('Unknown wrapper: "'+i+'"');i=a.util.wrappers[i]}if(!a.util.isFunction(i))throw new Error("Wrapper must be a function.");this.toArray(e).forEach(function(e){t[e]=i(t[e])})},wrappers:{cells:function(t){return function(){var e=Array.from(arguments),i=e.length,n=0<i&&e[0]||[],r=1<i&&e[i-1]||{};return Array.isArray(n)||(r instanceof a.dia.Cell?n=e:n instanceof a.dia.Cell&&(1<e.length&&e.pop(),n=e)),r instanceof a.dia.Cell&&(r={}),t.call(this,n,r)}}},parseDOMJSON:function(t,e){for(var i={},r={},a=o.namespace.xmlns,s=e||a,l=document.createDocumentFragment(),c=[t,l,s];0<c.length;){s=c.pop();for(var g=c.pop(),h=c.pop(),u=0,d=h.length;u<d;u++){var p=h[u];if(!p.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");var f=p.tagName;p.hasOwnProperty("namespaceURI")&&(s=p.namespaceURI);var I=document.createElementNS(s,f),m=s===a,A=m?o:n,C=p.attributes;C&&A(I).attr(C);var v=p.style;if(v&&n(I).css(v),p.hasOwnProperty("className")){var w=p.className;m?I.className.baseVal=w:I.className=w}if(p.hasOwnProperty("textContent")&&(I.textContent=p.textContent),p.hasOwnProperty("selector")){var b=p.selector;if(i[b])throw new Error("json-dom-parser: selector must be unique");A(i[b]=I).attr("joint-selector",b)}if(p.hasOwnProperty("groupSelector")){var y=p.groupSelector;Array.isArray(y)||(y=[y]);for(var N=0,M=y.length;N<M;N++){var x=y[N],k=r[x];k||(k=r[x]=[]),k.push(I)}}g.appendChild(I);var z=p.children;Array.isArray(z)&&c.push(z,I,s)}}return{fragment:l,selectors:i,groupSelectors:r}},mixin:i.assign,supplement:i.defaults,deepMixin:i.mixin,deepSupplement:i.defaultsDeep,assign:i.assign,defaults:i.defaults,defaultsDeep:i.defaultsDeep,invoke:i.invokeMap||i.invoke,sortedIndex:i.sortedIndexBy||i.sortedIndex,uniq:i.uniqBy||i.uniq,clone:i.clone,cloneDeep:i.cloneDeep,isEmpty:i.isEmpty,isEqual:i.isEqual,isFunction:i.isFunction,isPlainObject:i.isPlainObject,toArray:i.toArray,debounce:i.debounce,groupBy:i.groupBy,sortBy:i.sortBy,flattenDeep:i.flattenDeep,without:i.without,difference:i.difference,intersection:i.intersection,union:i.union,has:i.has,result:i.result,omit:i.omit,pick:i.pick,bindAll:i.bindAll,forIn:i.forIn,camelCase:i.camelCase,uniqueId:i.uniqueId,merge:function(){if(i.mergeWith){var t=Array.from(arguments),e=t[t.length-1],n=this.isFunction(e)?e:this.noop;return t.push(function(t,e){var i=n(t,e);return void 0!==i?i:Array.isArray(t)&&!Array.isArray(e)?e:void 0}),i.mergeWith.apply(this,t)}return i.merge.apply(this,arguments)},isBoolean:function(t){var e=Object.prototype.toString;return!0===t||!1===t||!!t&&"object"==typeof t&&"[object Boolean]"===e.call(t)},isObject:function(t){return!!t&&("object"==typeof t||"function"==typeof t)},isNumber:function(t){var e=Object.prototype.toString;return"number"==typeof t||!!t&&"object"==typeof t&&"[object Number]"===e.call(t)},isString:function(t){var e=Object.prototype.toString;return"string"==typeof t||!!t&&"object"==typeof t&&"[object String]"===e.call(t)},noop:function(){}}};if(a.mvc.View=e.View.extend({options:{},theme:null,themeClassNamePrefix:a.util.addClassNamePrefix("theme-"),requireSetThemeOverride:!1,defaultTheme:a.config.defaultTheme,children:null,childNodes:null,constructor:function(t){this.requireSetThemeOverride=t&&!!t.theme,this.options=a.util.assign({},this.options,t),e.View.call(this,t)},initialize:function(t){a.util.bindAll(this,"setTheme","onSetTheme","remove","onRemove"),(a.mvc.views[this.cid]=this).setTheme(this.options.theme||this.defaultTheme),this.init()},renderChildren:function(t){if(t||(t=this.children),t){var e=o.namespace[this.svgElement?"xmlns":"xhtml"],i=a.util.parseDOMJSON(t,e);this.vel.empty().append(i.fragment),this.childNodes=i.selectors}return this},findAttribute:function(t,e){for(var i=e;i&&1===i.nodeType;){var n=i.getAttribute(t);if(n)return n;if(i===this.el)return null;i=i.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(a.util.result(this,"el"));else{var t=a.util.result(this,"tagName"),e=a.util.assign({},a.util.result(this,"attributes"));this.id&&(e.id=a.util.result(this,"id")),this.setElement(this._createElement(t)),this._setAttributes(e)}this._ensureElClassName()},_setAttributes:function(t){this.svgElement?this.vel.attr(t):this.$el.attr(t)},_createElement:function(t){return this.svgElement?document.createElementNS(o.namespace.xmlns,t):document.createElement(t)},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],this.svgElement&&(this.vel=o(this.el))},_ensureElClassName:function(){var t=a.util.result(this,"className");if(t){var e=a.util.addClassNamePrefix(t);this.svgElement?this.vel.removeClass(t).addClass(e):this.$el.removeClass(t).addClass(e)}},init:function(){},onRender:function(){},setTheme:function(t,e){return e=e||{},this.theme&&this.requireSetThemeOverride&&!e.override||(this.removeThemeClassName(),this.addThemeClassName(t),this.onSetTheme(this.theme,t),this.theme=t),this},addThemeClassName:function(t){t=t||this.theme;var e=this.themeClassNamePrefix+t;return this.svgElement?this.vel.addClass(e):this.$el.addClass(e),this},removeThemeClassName:function(t){t=t||this.theme;var e=this.themeClassNamePrefix+t;return this.svgElement?this.vel.removeClass(e):this.$el.removeClass(e),this},onSetTheme:function(t,e){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),a.mvc.views[this.cid]=null,e.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(t,e,i){if(!e)return this;i||(i={});var r=this.getEventNamespace();for(var o in e){var a=e[o];"function"!=typeof a&&(a=this[a]),a&&n(t).on(o+r,i,a.bind(this))}return this},undelegateElementEvents:function(t){return n(t).off(this.getEventNamespace()),this},delegateDocumentEvents:function(t,e){return t||(t=a.util.result(this,"documentEvents")),this.delegateElementEvents(document,t,e)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(t,e){if(!t)throw new Error("eventData(): event object required.");var i=t.data,n="__"+this.cid+"__";return void 0===e?i&&i[n]||{}:(i||(i=t.data={}),i[n]||(i[n]={}),a.util.assign(i[n],e),this)},stopPropagation:function(t){return this.eventData(t,{propagationStopped:!0}),this},isPropagationStopped:function(t){return!!this.eventData(t).propagationStopped}},{extend:function(){var t=Array.from(arguments),i=t[0]&&a.util.assign({},t[0])||{},n=t[1]&&a.util.assign({},t[1])||{},r=i.render||this.prototype&&this.prototype.render||null;return i.render=function(){return"function"==typeof r&&r.apply(this,arguments),this.render.__render__===r&&this.onRender(),this},i.render.__render__=r,e.View.extend.call(this,i,n)}}),a.dia.GraphCells=e.Collection.extend({cellNamespace:a.shapes,initialize:function(t,e){e.cellNamespace&&(this.cellNamespace=e.cellNamespace),this.graph=e.graph},model:function(t,e){var i=e.collection,n=i.cellNamespace,r=new("link"===t.type?a.dia.Link:a.util.getByPath(n,t.type,".")||a.dia.Element)(t,e);return e.dry||(r.graph=i.graph),r},comparator:function(t){return t.get("z")||0}}),a.dia.Graph=e.Model.extend({_batches:{},initialize:function(t,i){i=i||{};var n=new a.dia.GraphCells([],{model:i.cellModel,cellNamespace:i.cellNamespace,graph:this});e.Model.prototype.set.call(this,"cells",n),n.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},n.on("add",this._restructureOnAdd,this),n.on("remove",this._restructureOnRemove,this),n.on("reset",this._restructureOnReset,this),n.on("change:source",this._restructureOnChangeSource,this),n.on("change:target",this._restructureOnChangeTarget,this),n.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(t){if(t.isLink()){this._edges[t.id]=!0;var e=t.source(),i=t.target();e.id&&((this._out[e.id]||(this._out[e.id]={}))[t.id]=!0),i.id&&((this._in[i.id]||(this._in[i.id]={}))[t.id]=!0)}else this._nodes[t.id]=!0},_restructureOnRemove:function(t){if(t.isLink()){delete this._edges[t.id];var e=t.source(),i=t.target();e.id&&this._out[e.id]&&this._out[e.id][t.id]&&delete this._out[e.id][t.id],i.id&&this._in[i.id]&&this._in[i.id][t.id]&&delete this._in[i.id][t.id]}else delete this._nodes[t.id]},_restructureOnReset:function(t){t=t.models,this._out={},this._in={},this._nodes={},this._edges={},t.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(t){var e=t.previous("source");e.id&&this._out[e.id]&&delete this._out[e.id][t.id];var i=t.source();i.id&&((this._out[i.id]||(this._out[i.id]={}))[t.id]=!0)},_restructureOnChangeTarget:function(t){var e=t.previous("target");e.id&&this._in[e.id]&&delete this._in[e.id][t.id];var i=t.get("target");i.id&&((this._in[i.id]||(this._in[i.id]={}))[t.id]=!0)},getOutboundEdges:function(t){return this._out&&this._out[t]||{}},getInboundEdges:function(t){return this._in&&this._in[t]||{}},toJSON:function(){var t=e.Model.prototype.toJSON.apply(this,arguments);return t.cells=this.get("cells").toJSON(),t},fromJSON:function(t,e){if(!t.cells)throw new Error("Graph JSON must contain cells array.");return this.set(t,e)},set:function(t,i,n){var r;return"object"==typeof t?(r=t,n=i):(r={})[t]=i,r.hasOwnProperty("cells")&&(this.resetCells(r.cells,n),r=a.util.omit(r,"cells")),e.Model.prototype.set.call(this,r,n)},clear:function(t){t=a.util.assign({},t,{clear:!0});var e=this.get("cells");if(0===e.length)return this;this.startBatch("clear",t);for(var i=e.sortBy(function(t){return t.isLink()?1:2});i.shift().remove(t),0<i.length;);return this.stopBatch("clear"),this},_prepareCell:function(t,i){var n;if(t instanceof e.Model?(n=t.attributes,t.graph||i&&i.dry||(t.graph=this)):n=t,!a.util.isString(n.type))throw new TypeError("dia.Graph: cell type must be a string.");return t},minZIndex:function(){var t=this.get("cells").first();return t&&t.get("z")||0},maxZIndex:function(){var t=this.get("cells").last();return t&&t.get("z")||0},addCell:function(t,i){return Array.isArray(t)?this.addCells(t,i):(t instanceof e.Model?t.has("z")||t.set("z",this.maxZIndex()+1):void 0===t.z&&(t.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(t,i),i||{}),this)},addCells:function(t,e){return t.length&&(t=a.util.flattenDeep(t),e.position=t.length,this.startBatch("add"),t.forEach(function(t){e.position--,this.addCell(t,e)},this),this.stopBatch("add")),this},resetCells:function(t,e){var i=a.util.toArray(t).map(function(t){return this._prepareCell(t,e)},this);return this.get("cells").reset(i,e),this},removeCells:function(t,e){return t.length&&(this.startBatch("remove"),a.util.invoke(t,"remove",e),this.stopBatch("remove")),this},_removeCell:function(t,e,i){(i=i||{}).clear||(i.disconnectLinks?this.disconnectLinks(t,i):this.removeLinks(t,i)),this.get("cells").remove(t,{silent:!0}),t.graph===this&&(t.graph=null)},getCell:function(t){return this.get("cells").get(t)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return Object.keys(this._nodes).map(this.getCell,this)},getLinks:function(){return Object.keys(this._edges).map(this.getCell,this)},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(t,e){var i=(e=e||{}).inbound,n=e.outbound;void 0===i&&void 0===n&&(i=n=!0);var r=[],o={};if(n&&a.util.forIn(this.getOutboundEdges(t.id),function(t,e){o[e]||(r.push(this.getCell(e)),o[e]=!0)}.bind(this)),i&&a.util.forIn(this.getInboundEdges(t.id),function(t,e){o[e]||(r.push(this.getCell(e)),o[e]=!0)}.bind(this)),e.deep){var s=t.getEmbeddedCells({deep:!0}),l={};s.forEach(function(t){t.isElement()&&(l[t.id]=!0)}),s.forEach(function(t){t.isLink()||(n&&a.util.forIn(this.getOutboundEdges(t.id),function(t,i){if(!o[i]){var n=this.getCell(i),a=n.source().id,s=n.target().id;if(!e.includeEnclosed&&a&&l[a]&&s&&l[s])return;r.push(this.getCell(i)),o[i]=!0}}.bind(this)),i&&a.util.forIn(this.getInboundEdges(t.id),function(t,i){if(!o[i]){var n=this.getCell(i),a=n.source().id,s=n.target().id;if(!e.includeEnclosed&&a&&l[a]&&s&&l[s])return;r.push(this.getCell(i)),o[i]=!0}}.bind(this)))},this)}return r},getNeighbors:function(t,e){var i=(e=e||{}).inbound,n=e.outbound;void 0===i&&void 0===n&&(i=n=!0);var r=this.getConnectedLinks(t,e).reduce(function(r,o){var s=o.source(),l=o.target(),c=o.hasLoop(e);if(i&&a.util.has(s,"id")&&!r[s.id]){var g=this.getCell(s.id);!c&&(!g||g===t||e.deep&&g.isEmbeddedIn(t))||(r[s.id]=g)}if(n&&a.util.has(l,"id")&&!r[l.id]){var h=this.getCell(l.id);!c&&(!h||h===t||e.deep&&h.isEmbeddedIn(t))||(r[l.id]=h)}return r}.bind(this),{});return a.util.toArray(r)},getCommonAncestor:function(){var t=Array.from(arguments).map(function(t){for(var e=[],i=t.get("parent");i;)e.push(i),i=this.getCell(i).get("parent");return e},this);t=t.sort(function(t,e){return t.length-e.length});var e=a.util.toArray(t.shift()).find(function(e){return t.every(function(t){return t.includes(e)})});return this.getCell(e)},getSuccessors:function(t,e){e=e||{};var i=[];return this.search(t,function(e){e!==t&&i.push(e)},a.util.assign({},e,{outbound:!0})),i},cloneCells:function(t){t=a.util.uniq(t);var e=a.util.toArray(t).reduce(function(t,e){return t[e.id]=e.clone(),t},{});return a.util.toArray(t).forEach(function(t){var i=e[t.id];if(i.isLink()){var n=i.source(),r=i.target();n.id&&e[n.id]&&i.prop("source/id",e[n.id].id),r.id&&e[r.id]&&i.prop("target/id",e[r.id].id)}var o=t.get("parent");o&&e[o]&&i.set("parent",e[o].id);var s=a.util.toArray(t.get("embeds")).reduce(function(t,i){return e[i]&&t.push(e[i].id),t},[]);a.util.isEmpty(s)||i.set("embeds",s)}),e},cloneSubgraph:function(t,e){var i=this.getSubgraph(t,e);return this.cloneCells(i)},getSubgraph:function(t,e){e=e||{};var i=[],n={},r=[],o=[];return a.util.toArray(t).forEach(function(t){n[t.id]||(i.push(t),(n[t.id]=t).isLink()?o.push(t):r.push(t)),e.deep&&t.getEmbeddedCells({deep:!0}).forEach(function(t){n[t.id]||(i.push(t),(n[t.id]=t).isLink()?o.push(t):r.push(t))})}),o.forEach(function(t){var e=t.source(),o=t.target();if(e.id&&!n[e.id]){var a=this.getCell(e.id);i.push(a),n[a.id]=a,r.push(a)}if(o.id&&!n[o.id]){var s=this.getCell(o.id);i.push(this.getCell(o.id)),n[s.id]=s,r.push(s)}},this),r.forEach(function(t){this.getConnectedLinks(t,e).forEach(function(t){var e=t.source(),r=t.target();!n[t.id]&&e.id&&n[e.id]&&r.id&&n[r.id]&&(i.push(t),n[t.id]=t)})},this),i},getPredecessors:function(t,e){e=e||{};var i=[];return this.search(t,function(e){e!==t&&i.push(e)},a.util.assign({},e,{inbound:!0})),i},search:function(t,e,i){(i=i||{}).breadthFirst?this.bfs(t,e,i):this.dfs(t,e,i)},bfs:function(t,e,i){i=i||{};var n={},r={},o=[];for(o.push(t),r[t.id]=0;0<o.length;){var a=o.shift();if(!n[a.id]){if(!(n[a.id]=!0)===e(a,r[a.id]))return;this.getNeighbors(a,i).forEach(function(t){r[t.id]=r[a.id]+1,o.push(t)})}}},dfs:function(t,e,i,n,r){i=i||{};var o=n||{},a=r||0;!1!==e(t,a)&&(o[t.id]=!0,this.getNeighbors(t,i).forEach(function(t){o[t.id]||this.dfs(t,e,i,o,a+1)},this))},getSources:function(){var t=[];return a.util.forIn(this._nodes,function(e,i){this._in[i]&&!a.util.isEmpty(this._in[i])||t.push(this.getCell(i))}.bind(this)),t},getSinks:function(){var t=[];return a.util.forIn(this._nodes,function(e,i){this._out[i]&&!a.util.isEmpty(this._out[i])||t.push(this.getCell(i))}.bind(this)),t},isSource:function(t){return!this._in[t.id]||a.util.isEmpty(this._in[t.id])},isSink:function(t){return!this._out[t.id]||a.util.isEmpty(this._out[t.id])},isSuccessor:function(t,e){var i=!1;return this.search(t,function(n){if(n===e&&n!==t)return!(i=!0)},{outbound:!0}),i},isPredecessor:function(t,e){var i=!1;return this.search(t,function(n){if(n===e&&n!==t)return!(i=!0)},{inbound:!0}),i},isNeighbor:function(t,e,i){var n=(i=i||{}).inbound,r=i.outbound;void 0===n&&void 0===r&&(n=r=!0);var o=!1;return this.getConnectedLinks(t,i).forEach(function(t){var i=t.source(),s=t.target();return n&&a.util.has(i,"id")&&i.id===e.id?!(o=!0):r&&a.util.has(s,"id")&&s.id===e.id?!(o=!0):void 0}),o},disconnectLinks:function(t,e){this.getConnectedLinks(t).forEach(function(i){i.set(i.source().id===t.id?"source":"target",{x:0,y:0},e)})},removeLinks:function(t,e){a.util.invoke(this.getConnectedLinks(t),"remove",e)},findModelsFromPoint:function(t){return this.getElements().filter(function(e){return e.getBBox().containsPoint(t)})},findModelsInArea:function(t,e){t=r.rect(t);var i=(e=a.util.defaults(e||{},{strict:!1})).strict?"containsRect":"intersect";return this.getElements().filter(function(e){return t[i](e.getBBox())})},findModelsUnderElement:function(t,e){e=a.util.defaults(e||{},{searchBy:"bbox"});var i=t.getBBox();return("bbox"===e.searchBy?this.findModelsInArea(i):this.findModelsFromPoint(i[e.searchBy]())).filter(function(e){return t.id!==e.id&&!e.isEmbeddedIn(t)})},getBBox:function(t,e){return this.getCellsBBox(t||this.getElements(),e)},getCellsBBox:function(t,e){return a.util.toArray(t).reduce(function(t,i){if(i.isLink())return t;var n=i.getBBox(e),r=i.angle();return r&&(n=n.bbox(r)),t?t.union(n):n},null)},translate:function(t,e,i){var n=this.getCells().filter(function(t){return!t.isEmbedded()});return a.util.invoke(n,"translate",t,e,i),this},resize:function(t,e,i){return this.resizeCells(t,e,this.getCells(),i)},resizeCells:function(t,e,i,n){var r=this.getCellsBBox(i);if(r){var o=Math.max(t/r.width,0),s=Math.max(e/r.height,0);a.util.invoke(i,"scale",o,s,r.origin(),n)}return this},startBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)+1,this.trigger("batch:start",a.util.assign({},e,{batchName:t}))},stopBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)-1,this.trigger("batch:stop",a.util.assign({},e,{batchName:t}))},hasActiveBatch:function(t){return 0===arguments.length?a.util.toArray(this._batches).some(function(t){return 0<t}):Array.isArray(t)?t.some(function(t){return!!this._batches[t]},this):!!this._batches[t]}},{validations:{multiLinks:function(t,e){var i=e.source(),n=e.target();if(i.id&&n.id){var r=e.getSourceElement();if(r&&1<t.getConnectedLinks(r,{outbound:!0}).filter(function(t){var e=t.source(),r=t.target();return e&&e.id===i.id&&(!e.port||e.port===i.port)&&r&&r.id===n.id&&(!r.port||r.port===n.port)}).length)return!1}return!0},linkPinning:function(t,e){return e.source().id&&e.target().id}}}),a.util.wrapWith(a.dia.Graph.prototype,["resetCells","addCells","removeCells"],"cells"),function(t,e,i,n,r){function o(t,e){return function(i,n){var o=r.isPercentage(i);i=parseFloat(i),o&&(i/=100);var a={};if(isFinite(i)){var s=o||0<=i&&i<=1?i*n[e]:Math.max(i+n[e],0);a[t]=s}return a}}function a(t,e,n){return function(o,a){var s,l=r.isPercentage(o);if(o=parseFloat(o),l&&(o/=100),isFinite(o)){var c=a[n]();s=l||0<o&&o<1?c[t]+a[e]*o:c[t]+o}var g=i.Point();return g[t]=s||0,g}}function s(t,e,n){return function(o,a){var s;s="middle"===o?a[e]/2:o===n?a[e]:isFinite(o)?-1<o&&o<1?-a[e]*o:-o:r.isPercentage(o)?a[e]*parseFloat(o)/100:0;var l=i.Point();return l[t]=-(a[t]+s),l}}function l(t,e){var i="joint-shape",r=e&&e.resetOffset;return function(e,o,a){var s=n(a),l=s.data(i);if(!l||l.value!==e){var c=t(e);l={value:e,shape:c,shapeBBox:c.bbox()},s.data(i,l)}var g=l.shape.clone(),h=l.shapeBBox.clone(),u=h.origin(),d=o.origin();h.x=d.x,h.y=d.y;var p=o.maxRectScaleToFit(h,d),f=0===h.width||0===o.width?1:p.sx,I=0===h.height||0===o.height?1:p.sy;return g.scale(f,I,u),r&&g.translate(-u.x,-u.y),g}}function c(t){var n=l(function(t){return new i.Path(e.normalizePathData(t))},t);return function(t,e,i){return{d:n(t,e,i).serialize()}}}function g(t){var e=l(i.Polyline,t);return function(t,i,n){return{points:e(t,i,n).serialize()}}}function h(t,e){var n=new i.Point(1,0);return function(i){var r,o,a=this[t](i);return a?(o=e.rotate?a.vector().vectorAngle(n):0,r=a.start):(r=this.path.start,o=0),0===o?{transform:"translate("+r.x+","+r.y+")"}:{transform:"translate("+r.x+","+r.y+") rotate("+o+")"}}}function u(t,e,i){return void 0!==i.text}function d(){return this instanceof t.dia.LinkView}function p(t){var e={},i=t.stroke;"string"==typeof i&&(e.stroke=i,e.fill=i);var n=t.strokeOpacity;return void 0===n&&(n=t["stroke-opacity"]),void 0===n&&(n=t.opacity),void 0!==n&&(e["stroke-opacity"]=n,e["fill-opacity"]=n),e}var f,I,m=t.dia.attributes={xlinkHref:{set:"xlink:href"},xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},filter:{qualify:r.isPlainObject,set:function(t){return"url(#"+this.paper.defineFilter(t)+")"}},fill:{qualify:r.isPlainObject,set:function(t){return"url(#"+this.paper.defineGradient(t)+")"}},stroke:{qualify:r.isPlainObject,set:function(t){return"url(#"+this.paper.defineGradient(t)+")"}},sourceMarker:{qualify:r.isPlainObject,set:function(t,e,i,n){return t=r.assign(p(n),t),{"marker-start":"url(#"+this.paper.defineMarker(t)+")"}}},targetMarker:{qualify:r.isPlainObject,set:function(t,e,i,n){return t=r.assign(p(n),{transform:"rotate(180)"},t),{"marker-end":"url(#"+this.paper.defineMarker(t)+")"}}},vertexMarker:{qualify:r.isPlainObject,set:function(t,e,i,n){return t=r.assign(p(n),t),{"marker-mid":"url(#"+this.paper.defineMarker(t)+")"}}},text:{qualify:function(t,e,i){return!i.textWrap||!r.isPlainObject(i.textWrap)},set:function(t,i,o,a){var s=n(o),l="joint-text",c=s.data(l),g=r.pick(a,"lineHeight","annotations","textPath","x","textVerticalAnchor","eol"),h=g.fontSize=a["font-size"]||a.fontSize,u=JSON.stringify([t,g]);if(void 0===c||c!==u){h&&o.setAttribute("font-size",h);var d=g.textPath;if(r.isObject(d)){var p=d.selector;if("string"==typeof p){var f=this.findBySelector(p)[0];f instanceof SVGPathElement&&(g.textPath=r.assign({"xlink:href":"#"+f.id},d))}}e(o).text(""+t,g),s.data(l,u)}}},textWrap:{qualify:r.isPlainObject,set:function(e,i,n,o){var a=e.width||0;r.isPercentage(a)?i.width*=parseFloat(a)/100:a<=0?i.width+=a:i.width=a;var s,l=e.height||0;r.isPercentage(l)?i.height*=parseFloat(l)/100:l<=0?i.height+=l:i.height=l;var c=e.text;void 0===c&&(c=o.text),s=void 0!==c?r.breakText(""+c,i,{"font-weight":o["font-weight"]||o.fontWeight,"font-size":o["font-size"]||o.fontSize,"font-family":o["font-family"]||o.fontFamily,lineHeight:o.lineHeight},{svgDocument:this.paper.svg,ellipsis:e.ellipsis}):"",t.dia.attributes.text.set.call(this,s,i,n,o)}},title:{qualify:function(t,e){return e instanceof SVGElement},set:function(t,e,i){var r=n(i),o="joint-title",a=r.data(o);if(void 0===a||a!==t){r.data(o,t);var s=i.firstChild;if(s&&"TITLE"===s.tagName.toUpperCase())s.textContent=t;else{var l=document.createElementNS(i.namespaceURI,"title");l.textContent=t,i.insertBefore(l,s)}}}},lineHeight:{qualify:u},textVerticalAnchor:{qualify:u},textPath:{qualify:u},annotations:{qualify:u},port:{set:function(t){return null===t||void 0===t.id?t:t.id}},style:{qualify:r.isPlainObject,set:function(t,e,i){n(i).css(t)}},html:{set:function(t,e,i){n(i).html(t+"")}},ref:{},refX:{position:a("x","width","origin")},refY:{position:a("y","height","origin")},refDx:{position:a("x","width","corner")},refDy:{position:a("y","height","corner")},refWidth:{set:o("width","width")},refHeight:{set:o("height","height")},refRx:{set:o("rx","width")},refRy:{set:o("ry","height")},refRInscribed:{set:(f=o("r","width"),I=o("r","height"),function(t,e){return(e.height>e.width?f:I)(t,e)})},refRCircumscribed:{set:function(t,e){var i=r.isPercentage(t);t=parseFloat(t),i&&(t/=100);var n,o=Math.sqrt(e.height*e.height+e.width*e.width);return isFinite(t)&&(n=i||0<=t&&t<=1?t*o:Math.max(t+o,0)),{r:n}}},refCx:{set:o("cx","width")},refCy:{set:o("cy","height")},xAlignment:{offset:s("x","width","right")},yAlignment:{offset:s("y","height","bottom")},resetOffset:{offset:function(t,e){return t?{x:-e.x,y:-e.y}:{x:0,y:0}}},refDResetOffset:{set:c({resetOffset:!0})},refDKeepOffset:{set:c({resetOffset:!1})},refPointsResetOffset:{set:g({resetOffset:!0})},refPointsKeepOffset:{set:g({resetOffset:!1})},connection:{qualify:d,set:function(){return{d:this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:d,set:h("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:d,set:h("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:d,set:h("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:d,set:h("getTangentAtRatio",{rotate:!1})}};m.refR=m.refRInscribed,m.refD=m.refDResetOffset,m.refPoints=m.refPointsResetOffset,m.atConnectionLength=m.atConnectionLengthKeepGradient,m.atConnectionRatio=m.atConnectionRatioKeepGradient,m.refX2=m.refX,m.refY2=m.refY,m.refWidth2=m.refWidth,m.refHeight2=m.refHeight,m["ref-x"]=m.refX,m["ref-y"]=m.refY,m["ref-dy"]=m.refDy,m["ref-dx"]=m.refDx,m["ref-width"]=m.refWidth,m["ref-height"]=m.refHeight,m["x-alignment"]=m.xAlignment,m["y-alignment"]=m.yAlignment}(a,o,r,n,a.util),function(t,e){var i=t.mvc.View.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,init:function(){var t=this.name;t&&this.vel.attr("data-tool-name",t)},configure:function(t,e){return this.relatedView=t,this.paper=t.paper,this.parentView=e,this.simulateRelatedView(this.el),this},simulateRelatedView:function(t){t&&t.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},show:function(){this.el.style.display="",this._visible=!0},hide:function(){this.el.style.display="none",this._visible=!1},isVisible:function(){return!!this._visible},focus:function(){var t=this.options.focusOpacity;isFinite(t)&&(this.el.style.opacity=t),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){}}),n=t.mvc.View.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,options:{tools:null,relatedView:null,name:null,component:!1},configure:function(n){var r=(n=e.assign(this.options,n)).tools;if(!Array.isArray(r))return this;var o=n.relatedView;if(!(o instanceof t.dia.CellView))return this;for(var a=this.tools=[],s=0,l=r.length;s<l;s++){var c=r[s];c instanceof i&&(c.configure(o,this),c.render(),this.vel.append(c.el),a.push(c))}return this},getName:function(){return this.options.name},update:function(t){t||(t={});var e=this.tools;if(e){for(var i=0,n=e.length;i<n;i++){var r=e[i];t.tool!==r.cid&&r.isVisible()&&r.update()}return this}},focusTool:function(t){var e=this.tools;if(!e)return this;for(var i=0,n=e.length;i<n;i++){var r=e[i];t===r?r.show():r.hide()}return this},blurTool:function(t){var e=this.tools;if(!e)return this;for(var i=0,n=e.length;i<n;i++){var r=e[i];r===t||r.isVisible()||(r.show(),r.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null)},onRemove:function(){var t=this.tools;if(!t)return this;for(var e=0,i=t.length;e<i;e++)t[e].remove();this.tools=null},mount:function(){var t=this.options,e=t.relatedView;return e&&(t.component?e.el:e.paper.tools).appendChild(this.el),this}});t.dia.ToolsView=n,t.dia.ToolView=i}(a,a.util),a.dia.Cell=e.Model.extend({constructor:function(t,e){var i,n=t||{};this.cid=a.util.uniqueId("c"),this.attributes={},e&&e.collection&&(this.collection=e.collection),e&&e.parse&&(n=this.parse(n,e)||{}),(i=a.util.result(this,"defaults"))&&(n=a.util.merge({},i,n)),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)},translate:function(t,e,i){throw new Error("Must define a translate() method.")},toJSON:function(){var t=this.constructor.prototype.defaults.attrs||{},e=this.attributes.attrs,i={};a.util.forIn(e,function(e,n){var r=t[n];a.util.forIn(e,function(t,e){a.util.isObject(t)&&!Array.isArray(t)?a.util.forIn(t,function(t,o){r&&r[e]&&a.util.isEqual(r[e][o],t)||(i[n]=i[n]||{},(i[n][e]||(i[n][e]={}))[o]=t)}):r&&a.util.isEqual(r[e],t)||(i[n]=i[n]||{},i[n][e]=t)})});var n=a.util.cloneDeep(a.util.omit(this.attributes,"attrs"));return n.attrs=i,n},initialize:function(t){t&&t.id||this.set("id",a.util.uuid(),{silent:!0}),this._transitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},processPorts:function(){var t=this.ports,e={};a.util.forIn(this.get("attrs"),function(t,i){
t&&t.port&&(void 0!==t.port.id?e[t.port.id]=t.port:e[t.port]={id:t.port})});var i={};a.util.forIn(t,function(t,n){e[n]||(i[n]=!0)}),this.graph&&!a.util.isEmpty(i)&&(this.graph.getConnectedLinks(this,{inbound:!0}).forEach(function(t){i[t.get("target").port]&&t.remove()}),this.graph.getConnectedLinks(this,{outbound:!0}).forEach(function(t){i[t.get("source").port]&&t.remove()})),this.ports=e},remove:function(t){t=t||{};var e=this.graph;if(!e)return this.collection&&this.collection.remove(this,t),this;e.startBatch("remove");var i=this.getParentCell();i&&i.unembed(this);for(var n=this.getEmbeddedCells(),r=0,o=n.length;r<o;r++){var a=n[r];a&&a.remove(t)}return this.trigger("remove",this,e.attributes.cells,t),e.stopBatch("remove"),this},toFront:function(t){var e=this.graph;if(e){t=t||{};var i,n=e.maxZIndex();t.deep?(i=this.getEmbeddedCells({deep:!0,breadthFirst:!0})).unshift(this):i=[this],n=n-i.length+1;var r=e.get("cells"),o=r.indexOf(this)!==r.length-i.length;o||(o=i.some(function(t,e){return t.get("z")!==n+e})),o&&(this.startBatch("to-front"),n+=i.length,i.forEach(function(e,i){e.set("z",n+i,t)}),this.stopBatch("to-front"))}return this},toBack:function(t){var e=this.graph;if(e){t=t||{};var i,n=e.minZIndex();t.deep?(i=this.getEmbeddedCells({deep:!0,breadthFirst:!0})).unshift(this):i=[this];var r=0!==e.get("cells").indexOf(this);r||(r=i.some(function(t,e){return t.get("z")!==n+e})),r&&(this.startBatch("to-back"),n-=i.length,i.forEach(function(e,i){e.set("z",n+i,t)}),this.stopBatch("to-back"))}return this},parent:function(t,e){return void 0===t?this.get("parent"):this.set("parent",t,e)},embed:function(t,e){if(this===t||this.isEmbeddedIn(t))throw new Error("Recursive embedding not allowed.");this.startBatch("embed");var i=a.util.assign([],this.get("embeds"));return i[t.isLink()?"unshift":"push"](t.id),t.parent(this.id,e),this.set("embeds",a.util.uniq(i),e),this.stopBatch("embed"),this},unembed:function(t,e){return this.startBatch("unembed"),t.unset("parent",e),this.set("embeds",a.util.without(this.get("embeds"),t.id),e),this.stopBatch("unembed"),this},getParentCell:function(){var t=this.parent(),e=this.graph;return t&&e&&e.getCell(t)||null},getAncestors:function(){var t=[];if(!this.graph)return t;for(var e=this.getParentCell();e;)t.push(e),e=e.getParentCell();return t},getEmbeddedCells:function(t){if(t=t||{},this.graph){var e;if(t.deep)if(t.breadthFirst){e=[];for(var i=this.getEmbeddedCells();0<i.length;){var n=i.shift();e.push(n),i.push.apply(i,n.getEmbeddedCells())}}else(e=this.getEmbeddedCells()).forEach(function(i){e.push.apply(e,i.getEmbeddedCells(t))});else e=a.util.toArray(this.get("embeds")).map(this.graph.getCell,this.graph);return e}return[]},isEmbeddedIn:function(t,e){var i=a.util.isString(t)?t:t.id,n=this.parent();if(e=a.util.defaults({deep:!0},e),this.graph&&e.deep){for(;n;){if(n===i)return!0;n=this.graph.getCell(n).parent()}return!1}return n===i},isEmbedded:function(){return!!this.parent()},clone:function(t){if((t=t||{}).deep)return a.util.toArray(a.dia.Graph.prototype.cloneCells.call(null,[this].concat(this.getEmbeddedCells({deep:!0}))));var i=e.Model.prototype.clone.apply(this,arguments);return i.set("id",a.util.uuid()),i.unset("embeds"),i.unset("parent"),i},prop:function(t,e,i){var n=a.util.isString(t);if(n||Array.isArray(t)){if(1<arguments.length){var r,o,s=(o=n?(r=t).split("/"):(r=t.join("/"),t.slice()))[0],l=o.length;if((i=i||{}).propertyPath=r,i.propertyValue=e,i.propertyPathArray=o,1===l)return this.set(s,e,i);for(var c={},g=c,h=s,u=1;u<l;u++){var d=o[u],p=Number.isFinite(n?Number(d):d);g=g[h]=p?[]:{},h=d}c=a.util.setByPath(c,o,e,"/");var f=a.util.merge({},this.attributes);i.rewrite&&a.util.unsetByPath(f,r,"/");var I=a.util.merge(f,c);return this.set(s,I[s],i)}return a.util.getByPath(this.attributes,t,"/")}return this.set(a.util.merge({},this.attributes,t),e)},removeProp:function(t,e){(e=e||{}).dirty=!0;var i=Array.isArray(t)?t:t.split("/");if(1===i.length)return this.unset(t,e);var n=i[0],r=i.slice(1),o=a.util.cloneDeep(this.get(n));return a.util.unsetByPath(o,r,"/"),this.set(n,o,e)},attr:function(t,e,i){var n=Array.from(arguments);return 0===n.length?this.get("attrs"):(Array.isArray(t)?n[0]=["attrs"].concat(t):a.util.isString(t)?n[0]="attrs/"+t:n[0]={attrs:t},this.prop.apply(this,n))},removeAttr:function(t,e){return Array.isArray(t)?this.removeProp(["attrs"].concat(t)):this.removeProp("attrs/"+t,e)},transition:function(t,e,i,n){n=n||"/";var r={duration:100,delay:10,timingFunction:a.util.timing.linear,valueFunction:a.util.interpolate.number};i=a.util.assign(r,i);var o,s=0,l=function(e){var n,r,c;(r=(e-=s=s||e)/i.duration)<1?this._transitionIds[t]=n=a.util.nextFrame(l):(r=1,delete this._transitionIds[t]),c=o(i.timingFunction(r)),i.transitionId=n,this.prop(t,c,i),n||this.trigger("transition:end",this,t)}.bind(this),c=function(r){this.stopTransitions(t),o=i.valueFunction(a.util.getByPath(this.attributes,t,n),e),this._transitionIds[t]=a.util.nextFrame(r),this.trigger("transition:start",this,t)}.bind(this);return setTimeout(c,i.delay,l)},getTransitions:function(){return Object.keys(this._transitionIds)},stopTransitions:function(t,e){e=e||"/";var i=t&&t.split(e);return Object.keys(this._transitionIds).filter(i&&function(t){return a.util.isEqual(i,t.split(e).slice(0,i.length))}).forEach(function(t){a.util.cancelFrame(this._transitionIds[t]),delete this._transitionIds[t],this.trigger("transition:end",this,t)},this),this},addTo:function(t,e){return t.addCell(this,e),this},findView:function(t){return t.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(t,e){return this.graph&&this.graph.startBatch(t,a.util.assign({},e,{cell:this})),this},stopBatch:function(t,e){return this.graph&&this.graph.stopBatch(t,a.util.assign({},e,{cell:this})),this}},{getAttributeDefinition:function(t){var e=this.attributes,i=a.dia.attributes;return e&&e[t]||i[t]},define:function(t,e,i,n){i=a.util.assign({defaults:a.util.defaultsDeep({type:t},e,this.prototype.defaults)},i);var r=this.extend(i,n);return a.util.setByPath(a.shapes,t,r,"."),r}}),a.dia.CellView=a.mvc.View.extend({tagName:"g",svgElement:!0,selector:"root",className:function(){var t=["cell"],e=this.model.get("type");return e&&e.toLowerCase().split(".").forEach(function(e,i,n){t.push("type-"+n.slice(0,i+1).join("-"))}),t.join(" ")},attributes:function(){return{"model-id":this.model.id}},constructor:function(t){t.id=t.id||a.util.guid(this),a.mvc.View.call(this,t)},init:function(){a.util.bindAll(this,"remove","update"),this.$el.data("view",this),this.$el.attr("data-type",this.model.get("type")),this.listenTo(this.model,"change:attrs",this.onChangeAttrs)},parseDOMJSON:function(t,e){var i=a.util.parseDOMJSON(t),n=i.selectors,r=i.groupSelectors;for(var o in r){if(n[o])throw new Error("dia.CellView: ambigious group selector");n[o]=r[o]}if(e){var s=this.selector;if(n[s])throw new Error("dia.CellView: ambiguous root selector.");n[s]=e}return{fragment:i.fragment,selectors:n}},onChangeAttrs:function(t,e,i){return i.dirty?this.render():this.update(t,e,i)},can:function(t){var e=a.util.isFunction(this.options.interactive)?this.options.interactive(this):this.options.interactive;return a.util.isObject(e)&&!1!==e[t]||a.util.isBoolean(e)&&!1!==e},findBySelector:function(t,e,i){if(e||(e=this.el),i||(i=this.selectors),!t||"."===t)return[e];if(i){var r=i[t];if(r)return Array.isArray(r)?r:[r]}return n(e).find(t).toArray()},notify:function(t){if(this.paper){var e=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[t].concat(e)),this.paper.trigger.apply(this.paper,[t,this].concat(e))}},getStrokeBBox:function(t){var e=!!t;t=t||this.el;var i,n=o(t).getBBox({target:this.paper.viewport});return i=e?o(t).attr("stroke-width"):this.model.attr("rect/stroke-width")||this.model.attr("circle/stroke-width")||this.model.attr("ellipse/stroke-width")||this.model.attr("path/stroke-width"),i=parseFloat(i)||0,r.rect(n).moveAndExpand({x:-i/2,y:-i/2,width:i,height:i})},getBBox:function(){return this.vel.getBBox({target:this.paper.svg})},highlight:function(t,e){return t=t&&this.$(t)[0]||this.el,(e=e||{}).partial=t!==this.el,this.notify("cell:highlight",t,e),this},unhighlight:function(t,e){return t=t&&this.$(t)[0]||this.el,(e=e||{}).partial=t!=this.el,this.notify("cell:unhighlight",t,e),this},findMagnet:function(t){var e=this.$(t),i=this.$el;0===e.length&&(e=i);do{var n=e.attr("magnet");if((n||e.is(i))&&"false"!==n)return e[0];e=e.parent()}while(0<e.length)},getSelector:function(t,e){var i;if(t===this.el)return"string"==typeof e&&(i="> "+e),i;if(t){var n=o(t).index()+1;i=t.tagName+":nth-child("+n+")",e&&(i+=" > "+e),i=this.getSelector(t.parentNode,i)}return i},getLinkEnd:function(t,e,i,n,o){var a=this.model,s=a.id,l=this.findAttribute("port",t),c=t.getAttribute("joint-selector"),g={id:s};null!=c&&(g.magnet=c),null!=l?(g.port=l,a.hasPort(l)||c||(g.selector=this.getSelector(t))):null==c&&this.el!==t&&(g.selector=this.getSelector(t));var h=this.paper,u=h.options.connectionStrategy;if("function"==typeof u){var d=u.call(h,g,this,t,new r.Point(e,i),n,o);d&&(g=d)}return g},getMagnetFromLinkEnd:function(t){var e=this.el,i=t.port,n=t.magnet;return null!=i&&this.model.hasPort(i)?this.findPortNode(i,n)||e:(n||(n=t.selector),n||null==i||(n='[port="'+i+'"]'),this.findBySelector(n,e,this.selectors)[0])},getAttributeDefinition:function(t){return this.model.constructor.getAttributeDefinition(t)},setNodeAttributes:function(t,e){a.util.isEmpty(e)||(t instanceof SVGElement?o(t).attr(e):n(t).attr(e))},processNodeAttributes:function(t,e){var i,n,r,o,s,l,c,g,h,u=[];for(i in e)e.hasOwnProperty(i)&&(n=e[i],!(r=this.getAttributeDefinition(i))||a.util.isFunction(r.qualify)&&!r.qualify.call(this,n,t,e)?(l||(l={}),l[a.util.toKebabCase(i)]=n):(a.util.isString(r.set)&&(l||(l={}),l[r.set]=n),null!==n&&u.push(i,r)));for(o=0,s=u.length;o<s;o+=2)i=u[o],r=u[o+1],n=e[i],a.util.isFunction(r.set)&&(c||(c={}),c[i]=n),a.util.isFunction(r.position)&&(g||(g={}),g[i]=n),a.util.isFunction(r.offset)&&(h||(h={}),h[i]=n);return{raw:e,normal:l,set:c,position:g,offset:h}},updateRelativeAttributes:function(t,e,i,n){var s,l;n||(n={});var c=e.raw||{},g=e.normal||{},h=e.set,u=e.position,d=e.offset;for(s in h){l=h[s];var p=this.getAttributeDefinition(s).set.call(this,l,i.clone(),t,c);a.util.isObject(p)?a.util.assign(g,p):void 0!==p&&(g[s]=p)}if(t instanceof HTMLElement)this.setNodeAttributes(t,g);else{var f,I,m,A=g.transform,C=o.transformStringToMatrix(A),v=r.Point(C.e,C.f);if(A&&(g=a.util.omit(g,"transform"),C.e=C.f=0),u||d){var w=this.getNodeScale(t,n.scalableNode);f=w.sx,I=w.sy}var b=!1;for(s in u)l=u[s],(m=this.getAttributeDefinition(s).position.call(this,l,i.clone(),t,c))&&(v.offset(r.Point(m).scale(f,I)),b||(b=!0));this.setNodeAttributes(t,g);var y=!1;if(d){var N=t.getBoundingClientRect();if(0<N.width&&0<N.height){var M=o.transformRect(t.getBBox(),C).scale(1/f,1/I);for(s in d)l=d[s],(m=this.getAttributeDefinition(s).offset.call(this,l,M,t,c))&&(v.offset(r.Point(m).scale(f,I)),y||(y=!0))}}(void 0!==A||b||y)&&(v.round(1),C.e=v.x,C.f=v.y,t.setAttribute("transform",o.matrixToTransformString(C)))}},getNodeScale:function(t,e){var i,n;if(e&&e.contains(t)){var r=e.scale();i=1/r.sx,n=1/r.sy}else n=i=1;return{sx:i,sy:n}},findNodesAttributes:function(t,e,i,n){var r,s,l,c,g=a.util,h={},u=[];for(var d in t)if(t.hasOwnProperty(d)){var p=i[d]=this.findBySelector(d,e,n);for(r=0,s=p.length;r<s;r++){var f=p[r];c=o.ensureId(f),l=t[d];var I=n&&n[d]===f,m=h[c];if(m){m.array||(u.push(c),m.array=!0,m.attributes=[m.attributes],m.selectedLength=[m.selectedLength]);var A=m.attributes,C=m.selectedLength;if(I)A.unshift(l),C.unshift(-1);else{var v=g.sortedIndex(C,s);A.splice(v,0,l),C.splice(v,0,s)}}else h[c]={attributes:l,selectedLength:I?-1:s,node:f,array:!1}}}for(r=0,s=u.length;r<s;r++)(l=h[c=u[r]]).attributes=g.merge.apply(g,[{}].concat(l.attributes.reverse()));return h},getEventTarget:function(t){var e=t.type;return"touchmove"===e||"touchend"===e?document.elementFromPoint(t.clientX,t.clientY):t.target},updateDOMSubtreeAttributes:function(t,e,i){i||(i={}),i.rootBBox||(i.rootBBox=r.Rect()),i.selectors||(i.selectors=this.selectors);var n,a,s,l,c,g={},h={},u=[],d=i.roAttributes,p=this.findNodesAttributes(d||e,t,g,i.selectors),f=d?this.findNodesAttributes(e,t,g,i.selectors):p;for(var I in p)if(s=(l=p[I]).attributes,a=l.node,(c=this.processNodeAttributes(a,s)).set||c.position||c.offset){var m,A=f[I]&&f[I].attributes,C=A&&void 0===s.ref?A.ref:s.ref;if(C){if(!(m=(g[C]||this.findBySelector(C,t,i.selectors))[0]))throw new Error('dia.ElementView: "'+C+'" reference does not exist.')}else m=null;n={node:a,refNode:m,processedAttributes:c,allAttributes:A};var v=u.findIndex(function(t){return t.refNode===a});-1<v?u.splice(v,0,n):u.push(n)}else this.setNodeAttributes(a,c.normal);for(var w=0,b=u.length;w<b;w++){n=u[w],a=n.node;var y=(m=n.refNode)?o.ensureId(m):"",N=h[y];N||(N=h[y]=m?o(m).getBBox({target:i.rotatableNode||t}):i.rootBBox),d?(c=this.processNodeAttributes(a,n.allAttributes),this.mergeProcessedAttributes(c,n.processedAttributes)):c=n.processedAttributes,this.updateRelativeAttributes(a,c,N,i)}},mergeProcessedAttributes:function(t,e){t.set||(t.set={}),t.position||(t.position={}),t.offset||(t.offset={}),a.util.assign(t.set,e.set),a.util.assign(t.position,e.position),a.util.assign(t.offset,e.offset);var i=t.normal&&t.normal.transform;void 0!==i&&e.normal&&(e.normal.transform=i),t.normal=e.normal},onRemove:function(){this.removeTools()},_toolsView:null,hasTools:function(t){var e=this._toolsView;return!(!e||t&&e.getName()!==t)},addTools:function(t){return this.removeTools(),t instanceof a.dia.ToolsView&&((this._toolsView=t).configure({relatedView:this}),t.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this)),t.mount()),this},updateTools:function(t){var e=this._toolsView;return e&&e.update(t),this},removeTools:function(){var t=this._toolsView;return t&&(t.remove(),this._toolsView=null),this},hideTools:function(){var t=this._toolsView;return t&&t.hide(),this},showTools:function(){var t=this._toolsView;return t&&t.show(),this},onToolEvent:function(t){switch(t){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools()}},pointerdblclick:function(t,e,i){this.notify("cell:pointerdblclick",t,e,i)},pointerclick:function(t,e,i){this.notify("cell:pointerclick",t,e,i)},contextmenu:function(t,e,i){this.notify("cell:contextmenu",t,e,i)},pointerdown:function(t,e,i){this.model.graph&&(this.model.startBatch("pointer"),this._graph=this.model.graph),this.notify("cell:pointerdown",t,e,i)},pointermove:function(t,e,i){this.notify("cell:pointermove",t,e,i)},pointerup:function(t,e,i){this.notify("cell:pointerup",t,e,i),this._graph&&(this._graph.stopBatch("pointer",{cell:this.model}),delete this._graph)},mouseover:function(t){this.notify("cell:mouseover",t)},mouseout:function(t){this.notify("cell:mouseout",t)},mouseenter:function(t){this.notify("cell:mouseenter",t)},mouseleave:function(t){this.notify("cell:mouseleave",t)},mousewheel:function(t,e,i,n){this.notify("cell:mousewheel",t,e,i,n)},onevent:function(t,e,i,n){this.notify(e,t,i,n)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},setInteractivity:function(t){this.options.interactive=t}},{dispatchToolsEvent:function(t,e){"string"==typeof e&&t instanceof a.dia.Paper&&t.trigger("tools:event",e)}}),a.dia.Element=a.dia.Cell.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),a.dia.Cell.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},isElement:function(){return!0},position:function(t,e,i){var n=a.util.isNumber(e);if((i=(n?i:t)||{}).parentRelative){if(!this.graph)throw new Error("Element must be part of a graph.");var o=this.getParentCell(),s=o&&!o.isLink()?o.get("position"):{x:0,y:0}}if(n){if(i.parentRelative&&(t+=s.x,e+=s.y),i.deep){var l=this.get("position");this.translate(t-l.x,e-l.y,i)}else this.set("position",{x:t,y:e},i);return this}var c=r.point(this.get("position"));return i.parentRelative?c.difference(s):c},translate:function(t,e,i){if(e=e||0,0===(t=t||0)&&0===e)return this;(i=i||{}).translateBy=i.translateBy||this.id;var n=this.get("position")||{x:0,y:0};if(i.restrictedArea&&i.translateBy===this.id){var r=this.getBBox({deep:!0}),o=i.restrictedArea,s=n.x-r.x,l=n.y-r.y,c=Math.max(o.x+s,Math.min(o.x+o.width+s-r.width,n.x+t)),g=Math.max(o.y+l,Math.min(o.y+o.height+l-r.height,n.y+e));t=c-n.x,e=g-n.y}var h={x:n.x+t,y:n.y+e};return i.tx=t,i.ty=e,i.transition?(a.util.isObject(i.transition)||(i.transition={}),this.transition("position",h,a.util.assign({},i.transition,{valueFunction:a.util.interpolate.object}))):this.set("position",h,i),a.util.invoke(this.getEmbeddedCells(),"translate",t,e,i),this},size:function(t,e,i){var n=this.get("size");return void 0===t?{width:n.width,height:n.height}:(a.util.isObject(t)&&(i=e,e=a.util.isNumber(t.height)?t.height:n.height,t=a.util.isNumber(t.width)?t.width:n.width),this.resize(t,e,i))},resize:function(t,e,i){if(i=i||{},this.startBatch("resize",i),i.direction){var n=this.get("size");switch(i.direction){case"left":case"right":e=n.height;break;case"top":case"bottom":t=n.width}var o=r.normalizeAngle(this.get("angle")||0),a={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[i.direction];i.absolute&&(a+=Math.floor((o+45)/90),a%=4);var s=this.getBBox(),l=s[["bottomLeft","corner","topRight","origin"][a]](),c=r.point(l).rotate(s.center(),-o),g=Math.sqrt(t*t+e*e)/2,h=a*Math.PI/2;h+=Math.atan(a%2==0?e/t:t/e),h-=r.toRad(o);var u=r.point.fromPolar(g,h,c),d=r.point(u).offset(t/-2,e/-2);this.set("size",{width:t,height:e},i),this.position(d.x,d.y,i)}else this.set("size",{width:t,height:e},i);return this.stopBatch("resize",i),this},scale:function(t,e,i,n){var r=this.getBBox().scale(t,e,i);return this.startBatch("scale",n),this.position(r.x,r.y,n),this.resize(r.width,r.height,n),this.stopBatch("scale"),this},fitEmbeds:function(t){if(t=t||{},!this.graph)throw new Error("Element must be part of a graph.");var e=this.getEmbeddedCells();if(0<e.length){this.startBatch("fit-embeds",t),t.deep&&a.util.invoke(e,"fitEmbeds",t);var i=this.graph.getCellsBBox(e),n=a.util.normalizeSides(t.padding);i.moveAndExpand({x:-n.left,y:-n.top,width:n.right+n.left,height:n.bottom+n.top}),this.set({position:{x:i.x,y:i.y},size:{width:i.width,height:i.height}},t),this.stopBatch("fit-embeds")}return this},rotate:function(t,e,i,n){if(i){var r=this.getBBox().center(),o=this.get("size"),a=this.get("position");r.rotate(i,this.get("angle")-t);var s=r.x-o.width/2-a.x,l=r.y-o.height/2-a.y;this.startBatch("rotate",{angle:t,absolute:e,origin:i}),this.position(a.x+s,a.y+l,n),this.rotate(t,e,null,n),this.stopBatch("rotate")}else this.set("angle",e?t:(this.get("angle")+t)%360,n);return this},angle:function(){return r.normalizeAngle(this.get("angle")||0)},getBBox:function(t){if((t=t||{}).deep&&this.graph){var e=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return e.push(this),this.graph.getCellsBBox(e)}var i=this.get("position"),n=this.get("size");return new r.Rect(i.x,i.y,n.width,n.height)}}),a.dia.ElementView=a.dia.CellView.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var t=a.dia.CellView.prototype.className.apply(this).split(" ");return t.push("element"),t.join(" ")},metrics:null,initialize:function(){a.dia.CellView.prototype.initialize.apply(this,arguments);var t=this.model;this.listenTo(t,"change:position",this.translate),this.listenTo(t,"change:size",this.resize),this.listenTo(t,"change:angle",this.rotate),this.listenTo(t,"change:markup",this.render),this._initializePorts(),this.metrics={}},_initializePorts:function(){},update:function(t,e){this.metrics={},this._removePorts();var i=this.model,n=i.attr();this.updateDOMSubtreeAttributes(this.el,n,{rootBBox:new r.Rect(i.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:e===n?null:e}),this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var t=this.model,e=t.get("markup")||t.markup;if(!e)throw new Error("dia.ElementView: markup required");if(Array.isArray(e))return this.renderJSONMarkup(e);if("string"==typeof e)return this.renderStringMarkup(e);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(t){var e=this.parseDOMJSON(t,this.el),i=this.selectors=e.selectors;this.rotatableNode=o(i[this.rotatableSelector])||null,this.scalableNode=o(i[this.scalableSelector])||null,this.vel.append(e.fragment)},renderStringMarkup:function(t){var e=this.vel;e.append(o(t)),this.rotatableNode=e.findOne(".rotatable"),this.scalableNode=e.findOne(".scalable"),(this.selectors={})[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),this},resize:function(){if(this.scalableNode)return this.sgResize.apply(this,arguments);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode)return this.rgRotate();this.updateTransformation()},updateTransformation:function(){var t=this.getTranslateString(),e=this.getRotateString();e&&(t+=" "+e),this.vel.attr("transform",t)},getTranslateString:function(){var t=this.model.attributes.position;return"translate("+t.x+","+t.y+")"},getRotateString:function(){var t=this.model.attributes,e=t.angle;if(!e)return null;var i=t.size;return"rotate("+e+","+i.width/2+","+i.height/2+")"},getBBox:function(t){var e;if(t&&t.useModelGeometry){var i=this.model;e=i.getBBox().bbox(i.angle())}else e=this.getNodeBBox(this.el);return this.paper.localToPaperRect(e)},nodeCache:function(t){var e=this.metrics;if(!e)return{};var i=o.ensureId(t),n=e[i];return n||(n=e[i]={}),n},getNodeData:function(t){var e=this.nodeCache(t);return e.data||(e.data={}),e.data},getNodeBBox:function(t){var e=this.getNodeBoundingRect(t),i=this.getNodeMatrix(t),n=this.getRootTranslateMatrix(),r=this.getRootRotateMatrix();return o.transformRect(e,n.multiply(r).multiply(i))},getNodeBoundingRect:function(t){var e=this.nodeCache(t);return void 0===e.boundingRect&&(e.boundingRect=o(t).getBBox()),new r.Rect(e.boundingRect)},getNodeUnrotatedBBox:function(t){var e=this.getNodeBoundingRect(t),i=this.getNodeMatrix(t),n=this.getRootTranslateMatrix();return o.transformRect(e,n.multiply(i))},getNodeShape:function(t){var e=this.nodeCache(t);return void 0===e.geometryShape&&(e.geometryShape=o(t).toGeometryShape()),e.geometryShape.clone()},getNodeMatrix:function(t){var e=this.nodeCache(t);if(void 0===e.magnetMatrix){var i=this.rotatableNode||this.el;e.magnetMatrix=o(t).getTransformToElement(i)}return o.createSVGMatrix(e.magnetMatrix)},getRootTranslateMatrix:function(){var t=this.model.position();return o.createSVGMatrix().translate(t.x,t.y)},getRootRotateMatrix:function(){var t=o.createSVGMatrix(),e=this.model,i=e.angle();if(i){var n=e.getBBox(),r=n.width/2,a=n.height/2;t=t.translate(r,a).rotate(i).translate(-r,-a)}return t},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(t,e,i){var n=this.model,r=n.get("angle")||0,o=n.get("size")||{width:1,height:1},a=this.scalableNode,s=!1;0<a.node.getElementsByTagName("path").length&&(s=!0);var l=a.getBBox({recursive:s}),c=o.width/(l.width||1),g=o.height/(l.height||1);a.attr("transform","scale("+c+","+g+")");var h=this.rotatableNode,u=h&&h.attr("transform");if(u){h.attr("transform",u+" rotate("+-r+","+o.width/2+","+o.height/2+")");var d=a.getBBox({target:this.paper.viewport});n.set("position",{x:d.x,y:d.y},i),this.rotate()}this.update()},prepareEmbedding:function(t){t||(t={});var e=t.model||this.model,i=(t.paper||this.paper).model;e.startBatch("to-front"),e.toFront({deep:!0,ui:!0});var n=i.getElements().reduce(function(t,e){return Math.max(t,e.attributes.z||0)},0);i.getConnectedLinks(e,{deep:!0,includeEnclosed:!0}).forEach(function(t){t.attributes.z<=n&&t.set("z",n+1,{ui:!0})}),e.stopBatch("to-front");var r=e.parent();r&&i.getCell(r).unembed(e,{ui:!0})},processEmbedding:function(t){t||(t={});var e=t.model||this.model,i=t.paper||this.paper,n=i.options,r=[];r=a.util.isFunction(n.findParentBy)?a.util.toArray(n.findParentBy.call(i.model,this)).filter(function(t){return t instanceof a.dia.Cell&&this.model.id!==t.id&&!t.isEmbeddedIn(this.model)}.bind(this)):i.model.findModelsUnderElement(e,{searchBy:n.findParentBy}),n.frontParentOnly&&(r=r.slice(-1));for(var o=null,s=t.candidateEmbedView,l=r.length-1;0<=l;l--){var c=r[l];if(s&&s.model.id==c.id){o=s;break}var g=c.findView(i);if(n.validateEmbedding.call(i,this,g)){o=g;break}}o&&o!=s&&(this.clearEmbedding(t),t.candidateEmbedView=o.highlight(null,{embedding:!0})),!o&&s&&this.clearEmbedding(t)},clearEmbedding:function(t){t||(t={});var e=t.candidateEmbedView;e&&(e.unhighlight(null,{embedding:!0}),t.candidateEmbedView=null)},finalizeEmbedding:function(t){t||(t={});var e=t.candidateEmbedView,i=t.model||this.model,n=t.paper||this.paper;e&&(e.model.embed(i,{ui:!0}),e.unhighlight(null,{embedding:!0}),t.candidateEmbedView=null),a.util.invoke(n.model.getConnectedLinks(i,{deep:!0}),"reparent",{ui:!0})},getDelegatedView:function(){for(var t=this,e=t.model,i=t.paper;t&&!e.isLink();){if(!e.isEmbedded()||t.can("stopDelegation"))return t;e=e.getParentCell(),t=i.findViewByModel(e)}return null},pointerdblclick:function(t,e,i){a.dia.CellView.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",t,e,i)},pointerclick:function(t,e,i){a.dia.CellView.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",t,e,i)},contextmenu:function(t,e,i){a.dia.CellView.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",t,e,i)},pointerdown:function(t,e,i){this.isPropagationStopped(t)||(a.dia.CellView.prototype.pointerdown.apply(this,arguments),this.notify("element:pointerdown",t,e,i),this.dragStart(t,e,i))},pointermove:function(t,e,i){var n=this.eventData(t);switch(n.action){case"magnet":this.dragMagnet(t,e,i);break;case"move":(n.delegatedView||this).drag(t,e,i);default:a.dia.CellView.prototype.pointermove.apply(this,arguments),this.notify("element:pointermove",t,e,i)}this.eventData(t,n)},pointerup:function(t,e,i){var n=this.eventData(t);switch(n.action){case"magnet":this.dragMagnetEnd(t,e,i);break;case"move":(n.delegatedView||this).dragEnd(t,e,i);default:this.notify("element:pointerup",t,e,i),a.dia.CellView.prototype.pointerup.apply(this,arguments)}var r=n.targetMagnet;r&&this.magnetpointerclick(t,r,e,i)},mouseover:function(t){a.dia.CellView.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",t)},mouseout:function(t){a.dia.CellView.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",t)},mouseenter:function(t){a.dia.CellView.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",t)},mouseleave:function(t){a.dia.CellView.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",t)},mousewheel:function(t,e,i,n){a.dia.CellView.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",t,e,i,n)},onmagnet:function(t,e,i){this.dragMagnetStart(t,e,i)},magnetpointerdblclick:function(t,e,i,n){this.notify("element:magnet:pointerdblclick",t,e,i,n)},magnetcontextmenu:function(t,e,i,n){this.notify("element:magnet:contextmenu",t,e,i,n)},dragStart:function(t,e,i){var n=this.getDelegatedView();n&&n.can("elementMove")&&(this.eventData(t,{action:"move",delegatedView:n}),n.eventData(t,{x:e,y:i,restrictedArea:this.paper.getRestrictedArea(n)}))},dragMagnetStart:function(t,e,i){if(this.can("addLinkFromMagnet")){var n=t.currentTarget,r=this.paper;this.eventData(t,{targetMagnet:n}),t.stopPropagation(),r.options.validateMagnet(this,n)?(r.options.magnetThreshold<=0&&this.dragLinkStart(t,n,e,i),this.eventData(t,{action:"magnet"}),this.stopPropagation(t)):this.pointerdown(t,e,i),r.delegateDragEvents(this,t.data)}},dragLinkStart:function(t,e,i,n){this.model.startBatch("add-link");var r=this.addLinkFromMagnet(e,i,n);a.dia.CellView.prototype.pointerdown.apply(r,arguments),r.notify("link:pointerdown",t,i,n),r.eventData(t,r.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(t,{linkView:r})},addLinkFromMagnet:function(t,e,i){var n=this.paper,r=n.model,o=n.getDefaultLink(this,t);return o.set({source:this.getLinkEnd(t,e,i,o,"source"),target:{x:e,y:i}}).addTo(r,{async:!1,ui:!0}),o.findView(n)},drag:function(t,e,i){var n=this.paper,o=n.options.gridSize,a=this.model,s=a.position(),l=this.eventData(t),c=r.snapToGrid(s.x,o)-s.x+r.snapToGrid(e-l.x,o),g=r.snapToGrid(s.y,o)-s.y+r.snapToGrid(i-l.y,o);a.translate(c,g,{restrictedArea:l.restrictedArea,ui:!0});var h=!!l.embedding;n.options.embeddingMode&&(h||(this.prepareEmbedding(l),h=!0),this.processEmbedding(l)),this.eventData(t,{x:r.snapToGrid(e,o),y:r.snapToGrid(i,o),embedding:h})},dragMagnet:function(t,e,i){var n=this.eventData(t),r=n.linkView;if(r)r.pointermove(t,e,i);else{var a=this.paper,s=a.options.magnetThreshold,l=this.getEventTarget(t),c=n.targetMagnet;if("onleave"===s){if(c===l||o(c).contains(l))return}else if(a.eventData(t).mousemoved<=s)return;this.dragLinkStart(t,c,e,i)}},dragEnd:function(t,e,i){var n=this.eventData(t);n.embedding&&this.finalizeEmbedding(n)},dragMagnetEnd:function(t,e,i){var n=this.eventData(t).linkView;n&&(n.pointerup(t,e,i),this.model.stopBatch("add-link"))},magnetpointerclick:function(t,e,i,n){var r=this.paper;r.eventData(t).mousemoved>r.options.clickThreshold||this.notify("element:magnet:pointerclick",t,e,i,n)}}),a.dia.Link=a.dia.Cell.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,
vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(t){return this.set({source:{x:0,y:0},target:{x:0,y:0}},t)},source:function(t,e,i){return void 0===t?a.util.clone(this.get("source")):(o=t instanceof a.dia.Cell?((n=a.util.clone(e)||{}).id=t.id,i):t instanceof r.Point?((n=a.util.clone(e)||{}).x=t.x,n.y=t.y,i):(n=t,e),this.set("source",n,o));var n,o},target:function(t,e,i){return void 0===t?a.util.clone(this.get("target")):(o=t instanceof a.dia.Cell?((n=a.util.clone(e)||{}).id=t.id,i):t instanceof r.Point?((n=a.util.clone(e)||{}).x=t.x,n.y=t.y,i):(n=t,e),this.set("target",n,o));var n,o},router:function(t,e,i){if(void 0===t){var n=this.get("router");return n?"object"==typeof n?a.util.clone(n):n:this.get("manhattan")?{name:"orthogonal"}:null}var r="object"==typeof t||"function"==typeof t,o=r?t:{name:t,args:e},s=r?e:i;return this.set("router",o,s)},connector:function(t,e,i){if(void 0===t){var n=this.get("connector");return n?"object"==typeof n?a.util.clone(n):n:this.get("smooth")?{name:"smooth"}:null}var r="object"==typeof t||"function"==typeof t,o=r?t:{name:t,args:e},s=r?e:i;return this.set("connector",o,s)},label:function(t,e,i){var n=this.labels();return(t=isFinite(t)&&null!==t?0|t:0)<0&&(t=n.length+t),arguments.length<=1?this.prop(["labels",t]):this.prop(["labels",t],e,i)},labels:function(t,e){return 0===arguments.length?(t=this.get("labels"),Array.isArray(t)?t.slice():[]):(Array.isArray(t)||(t=[]),this.set("labels",t,e))},insertLabel:function(t,e,i){if(!e)throw new Error("dia.Link: no label provided");var n=this.labels(),r=n.length;return(t=isFinite(t)&&null!==t?0|t:r)<0&&(t=r+t+1),n.splice(t,0,e),this.labels(n,i)},appendLabel:function(t,e){return this.insertLabel(-1,t,e)},removeLabel:function(t,e){var i=this.labels();return t=isFinite(t)&&null!==t?0|t:-1,i.splice(t,1),this.labels(i,e)},vertex:function(t,e,i){var n=this.vertices();return(t=isFinite(t)&&null!==t?0|t:0)<0&&(t=n.length+t),arguments.length<=1?this.prop(["vertices",t]):this.prop(["vertices",t],e,i)},vertices:function(t,e){return 0===arguments.length?(t=this.get("vertices"),Array.isArray(t)?t.slice():[]):(Array.isArray(t)||(t=[]),this.set("vertices",t,e))},insertVertex:function(t,e,i){if(!e)throw new Error("dia.Link: no vertex provided");var n=this.vertices(),r=n.length;return(t=isFinite(t)&&null!==t?0|t:r)<0&&(t=r+t+1),n.splice(t,0,e),this.vertices(n,i)},removeVertex:function(t,e){var i=this.vertices();return t=isFinite(t)&&null!==t?0|t:-1,i.splice(t,1),this.vertices(i,e)},translate:function(t,e,i){return(i=i||{}).translateBy=i.translateBy||this.id,i.tx=t,i.ty=e,this.applyToPoints(function(i){return{x:(i.x||0)+t,y:(i.y||0)+e}},i)},scale:function(t,e,i,n){return this.applyToPoints(function(n){return r.point(n).scale(t,e,i).toJSON()},n)},applyToPoints:function(t,e){if(!a.util.isFunction(t))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var i={},n=this.source();n.id||(i.source=t(n));var r=this.target();r.id||(i.target=t(r));var o=this.vertices();return 0<o.length&&(i.vertices=o.map(t)),this.set(i,e)},reparent:function(t){var e;if(this.graph){var i=this.getSourceElement(),n=this.getTargetElement(),r=this.getParentCell();i&&n&&(e=i===n||i.isEmbeddedIn(n)?n:n.isEmbeddedIn(i)?i:this.graph.getCommonAncestor(i,n)),!r||e&&e.id===r.id||r.unembed(this,t),e&&e.embed(this,t)}return e},hasLoop:function(t){t=t||{};var e=this.source().id,i=this.target().id;if(!e||!i)return!1;var n=e===i;if(!n&&t.deep&&this.graph){var r=this.getSourceElement(),o=this.getTargetElement();n=r.isEmbeddedIn(o)||o.isEmbeddedIn(r)}return n},getSourceElement:function(){var t=this.source(),e=this.graph;return t&&t.id&&e&&e.getCell(t.id)||null},getTargetElement:function(){var t=this.target(),e=this.graph;return t&&t.id&&e&&e.getCell(t.id)||null},getRelationshipAncestor:function(){var t;if(this.graph){var e=[this,this.getSourceElement(),this.getTargetElement()].filter(function(t){return!!t});t=this.graph.getCommonAncestor.apply(this.graph,e)}return t||null},isRelationshipEmbeddedIn:function(t){var e=a.util.isString(t)||a.util.isNumber(t)?t:t.id,i=this.getRelationshipAncestor();return!!i&&(i.id===e||i.isEmbeddedIn(e))},_getDefaultLabel:function(){var t=this.get("defaultLabel")||this.defaultLabel||{},e={};return e.markup=t.markup||this.get("labelMarkup")||this.labelMarkup,e.position=t.position,e.attrs=t.attrs,e.size=t.size,e}},{endsEqual:function(t,e){var i=t.port===e.port||!t.port&&!e.port;return t.id===e.id&&i}}),a.dia.LinkView=a.dia.CellView.extend({className:function(){var t=a.dia.CellView.prototype.className.apply(this).split(" ");return t.push("link"),t.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(t){a.dia.CellView.prototype.initialize.apply(this,arguments),"function"!=typeof this.constructor.prototype.watchSource&&(this.constructor.prototype.watchSource=this.createWatcher("source"),this.constructor.prototype.watchTarget=this.createWatcher("target")),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.metrics={},this.startListening()},startListening:function(){var t=this.model;this.listenTo(t,"change:markup",this.render),this.listenTo(t,"change:smooth change:manhattan change:router change:connector",this.update),this.listenTo(t,"change:toolMarkup",this.onToolsChange),this.listenTo(t,"change:labels change:labelMarkup",this.onLabelsChange),this.listenTo(t,"change:vertices change:vertexMarkup",this.onVerticesChange),this.listenTo(t,"change:source",this.onSourceChange),this.listenTo(t,"change:target",this.onTargetChange)},onSourceChange:function(t,e,i){this.watchSource(t,e);var n=this.model;i.translateBy&&n.get("target").id&&e.id||this.update(n,null,i)},onTargetChange:function(t,e,i){this.watchTarget(t,e);var n=this.model;(!i.translateBy||n.get("source").id&&!e.id&&a.util.isEmpty(n.get("vertices")))&&this.update(n,null,i)},onVerticesChange:function(t,e,i){this.renderVertexMarkers(),i.translateBy&&i.translateBy!==this.model.id&&!this.model.hasLoop()||this.update(t,null,i)},onToolsChange:function(){this.renderTools().updateToolsPosition()},onLabelsChange:function(t,e,i){var n=!0,r=this.model.previous("labels");if(r&&"propertyPathArray"in i&&"propertyValue"in i){var o=i.propertyPathArray||[],a=o.length;1<a&&!!r[o[1]]&&(2===a?n="markup"in Object(i.propertyValue):"markup"!==o[2]&&(n=!1))}n?this.renderLabels():this.updateLabels(),this.updateLabelPositions()},render:function(){this.vel.empty(),this._V={},this.renderMarkup(),this.renderLabels();var t=this.model;return this.watchSource(t,t.source()).watchTarget(t,t.target()).update(),this},renderMarkup:function(){var t=this.model,e=t.get("markup")||t.markup;if(!e)throw new Error("dia.LinkView: markup required");if(Array.isArray(e))return this.renderJSONMarkup(e);if("string"==typeof e)return this.renderStringMarkup(e);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(t){var e=this.parseDOMJSON(t,this.el);this.selectors=e.selectors,this.vel.append(e.fragment)},renderStringMarkup:function(t){var e=o(t);Array.isArray(e)||(e=[e]);for(var i=this._V,r=0,s=e.length;r<s;r++){var l=e[r],c=l.attr("class");c&&(c=a.util.removeClassNamePrefix(c),i[n.camelCase(c)]=l)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(e)},_getLabelMarkup:function(t){if(t){if(Array.isArray(t))return this.parseDOMJSON(t,null);if("string"==typeof t)return this._getLabelStringMarkup(t);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(t){var e=o(t),i=document.createDocumentFragment();if(Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var a=e[n].node;i.appendChild(a)}else i.appendChild(e.node);return{fragment:i,selectors:{}}},_normalizeLabelMarkup:function(t){if(t){var e,i=t.fragment;if(!(t.fragment instanceof DocumentFragment&&t.fragment.hasChildNodes()))throw new Error("dia.LinkView: invalid label markup.");var n=i.childNodes;return(e=1<n.length||"G"!==n[0].nodeName.toUpperCase()?o("g").append(i):o(n[0])).addClass("label"),{node:e.node,selectors:t.selectors}}},renderLabels:function(){var t=this._V,e=t.labels,i=this._labelCache={},n=this._labelSelectors={},r=this.model,a=r.attributes.labels||[],s=a.length;if(0===s)return e&&e.remove(),this;e?e.empty():e=t.labels=o("g").addClass("labels");for(var l=e.node,c=0;c<s;c++){var g,h,u=a[c],d=this._normalizeLabelMarkup(this._getLabelMarkup(u.markup));if(d)g=d.node,h=d.selectors;else{var p=r._builtins.defaultLabel,f=this._normalizeLabelMarkup(this._getLabelMarkup(p.markup)),I=r._getDefaultLabel(),m=this._normalizeLabelMarkup(this._getLabelMarkup(I.markup))||f;g=m.node,h=m.selectors}g.setAttribute("label-idx",c),l.appendChild(g),i[c]=g;var A=this.selector;if(h[A])throw new Error("dia.LinkView: ambiguous label root selector.");h[A]=g,n[c]=h}return l.parentNode||this.el.appendChild(l),this.updateLabels(),this},_mergeLabelAttrs:function(t,e,i,n){return null===e?null:void 0!==e?t?a.util.merge({},i,e):a.util.merge({},n,i,e):null===i?null:void 0!==i?t?i:a.util.merge({},n,i):t?void 0:n},updateLabels:function(){if(!this._V.labels)return this;for(var t=this.model,e=t.get("labels")||[],i=this.can("labelMove"),n=t._builtins.defaultLabel.attrs,o=t._getDefaultLabel(),a=o.markup,s=o.attrs,l=0,c=e.length;l<c;l++){var g=this._labelCache[l];g.setAttribute("cursor",i?"move":"default");var h=this._labelSelectors[l],u=e[l],d=u.markup,p=u.attrs,f=this._mergeLabelAttrs(d||a,p,s,n);this.updateDOMSubtreeAttributes(g,f,{rootBBox:new r.Rect(u.size),selectors:h})}return this},renderTools:function(){if(!this._V.linkTools)return this;var t,e=n(this._V.linkTools.node).empty(),i=a.util.template(this.model.get("toolMarkup")||this.model.toolMarkup),r=o(i());return e.append(r.node),this._toolCache=r,this.options.doubleLinkTools&&(t=this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(i=a.util.template(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),o(i())):r.clone(),e.append(t.node),this._tool2Cache=t),this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var t=n(this._V.markerVertices.node).empty(),e=a.util.template(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach(function(i,n){t.append(o(e(a.util.assign({idx:n},i))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var t=n(this._V.markerArrowheads.node);t.empty();var e=a.util.template(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=o(e({end:"source"})),this._V.targetArrowhead=o(e({end:"target"})),t.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},update:function(t,e,i){return i||(i={}),this.updateConnection(i),this.updateDOMSubtreeAttributes(this.el,this.model.attr(),{selectors:this.selectors}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.updateTools(i),this.options.perpendicular=null,this.updatePostponed=!1,this},removeRedundantLinearVertices:function(t){for(var e=this.model,i=e.vertices(),n=[],o=i.length,a=0,s=0;s<o;s++){var l=new r.Point(i[s]).round(),c=new r.Point(n[a-1]||this.sourceAnchor).round();if(!c.equals(l)){var g=new r.Point(i[s+1]||this.targetAnchor).round();c.equals(g)||0!==new r.Line(c,g).pointOffset(l)&&(n.push(i[s]),a++)}}return o===a?0:(e.vertices(n,t),o-a)},updateDefaultConnectionPath:function(){var t=this._V;t.connection&&t.connection.attr("d",this.getSerializedConnection()),t.connectionWrap&&t.connectionWrap.attr("d",this.getSerializedConnection()),t.markerSource&&t.markerTarget&&this._translateAndAutoOrientArrows(t.markerSource,t.markerTarget)},getEndView:function(t){switch(t){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(t){switch(t){case"source":return new r.Point(this.sourceAnchor);case"target":return new r.Point(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(t){switch(t){case"source":var e=this.sourceView;if(!e)break;return this.sourceMagnet||e.el;case"target":var i=this.targetView;if(!i)break;return this.targetMagnet||i.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},updateConnection:function(t){t=t||{};var e,i,n=this.model;if(t.translateBy&&n.isRelationshipEmbeddedIn(t.translateBy)){var o=t.tx||0,a=t.ty||0;e=new r.Polyline(this.route).translate(o,a).points,this._translateConnectionPoints(o,a),(i=this.path).translate(o,a)}else{var s=n.vertices(),l=this.findAnchors(s),c=this.sourceAnchor=l.source,g=this.targetAnchor=l.target;e=this.findRoute(s,t);var h=this.findConnectionPoints(e,c,g),u=this.sourcePoint=h.source,d=this.targetPoint=h.target,p=this.findMarkerPoints(e,u,d);i=this.findPath(e,p.source||u,p.target||d)}this.route=e,this.path=i,this.metrics={}},findMarkerPoints:function(t,e,i){var n,o,a=t[0],s=t[t.length-1],l=this._markerCache;return this._V.markerSource&&(l.sourceBBox=l.sourceBBox||this._V.markerSource.getBBox(),n=r.point(e).move(a||i,l.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(l.targetBBox=l.targetBBox||this._V.markerTarget.getBBox(),o=r.point(i).move(s||e,l.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),l.sourcePoint=n||e.clone(),l.targetPoint=o||i.clone(),{source:n,target:o}},findAnchors:function(t){var e,i,n,o,a,s=this.model,l=t[0],c=t[t.length-1],g=s.get("source"),h=s.get("target"),u=this.sourceView,d=this.targetView;if(u?(e=this.sourceMagnet||u.el,o=l?new r.Point(l):d?this.targetMagnet||d.el:new r.Point(h),n=this.getAnchor(g.anchor,u,e,o,"source")):n=new r.Point(g),d){i=this.targetMagnet||d.el;var p=new r.Point(c||n);a=this.getAnchor(h.anchor,d,i,p,"target")}else a=new r.Point(h);return{source:n,target:a}},findConnectionPoints:function(t,e,i){var n,o,a,s,l=t[0],c=t[t.length-1],g=this.model,h=g.get("source"),u=g.get("target"),d=this.sourceView,p=this.targetView,f=this.paper.options;if(d){n=this.sourceMagnet||d.el;var I=h.connectionPoint||f.defaultConnectionPoint,m=l||i,A=new r.Line(m,e);a=this.getConnectionPoint(I,d,n,A,"source")}else a=e;if(p){o=this.targetMagnet||p.el;var C=u.connectionPoint||f.defaultConnectionPoint,v=c||e,w=new r.Line(v,i);s=this.getConnectionPoint(C,p,o,w,"target")}else s=i;return{source:a,target:s}},getAnchor:function(t,e,i,n,o){if(!t){var s=this.paper.options;t=s.perpendicularLinks||this.options.perpendicular?{name:"perpendicular"}:s.defaultAnchor}if(!t)throw new Error("Anchor required.");var l;if("function"==typeof t)l=t;else{var c=t.name;if("function"!=typeof(l=a.anchors[c]))throw new Error("Unknown anchor: "+c)}var g=l.call(this,e,i,n,t.args||{},o,this);return g?g.round(this.decimalsRounding):new r.Point},getConnectionPoint:function(t,e,i,n,r){var o,s,l=n.end,c=this.paper.options;if("function"==typeof c.linkConnectionPoint){var g=i===e.el?void 0:i;if(o=c.linkConnectionPoint(this,e,g,n.start,r))return o}if(!t)return l;if("function"==typeof t)s=t;else{var h=t.name;if("function"!=typeof(s=a.connectionPoints[h]))throw new Error("Unknown connection point: "+h)}return(o=s.call(this,n,e,i,t.args||{},r,this))?o.round(this.decimalsRounding):l},_translateConnectionPoints:function(t,e){var i=this._markerCache;i.sourcePoint.offset(t,e),i.targetPoint.offset(t,e),this.sourcePoint.offset(t,e),this.targetPoint.offset(t,e),this.sourceAnchor.offset(t,e),this.targetAnchor.offset(t,e)},_normalizeLabelPosition:function(t){return"number"==typeof t?{distance:t,offset:null,args:null}:t},updateLabelPositions:function(){if(!this._V.labels)return this;if(!this.path)return this;var t=this.model,e=t.get("labels")||[];if(!e.length)return this;for(var i=t._builtins.defaultLabel.position,n=t._getDefaultLabel(),r=this._normalizeLabelPosition(n.position),o=a.util.merge({},i,r),s=0,l=e.length;s<l;s++){var c=e[s],g=this._normalizeLabelPosition(c.position),h=a.util.merge({},o,g),u=this.getLabelCoordinates(h);this._labelCache[s].setAttribute("transform","translate("+u.x+", "+u.y+")")}return this},updateToolsPosition:function(){if(!this._V.linkTools)return this;var t="",e=this.options.linkToolsOffset,i=this.getConnectionLength();if(!Number.isNaN(i)){i<this.options.shortLinkLength&&(t="scale(.5)",e/=2);var n=this.getPointAtLength(e);if(this._toolCache.attr("transform","translate("+n.x+", "+n.y+") "+t),this.options.doubleLinkTools&&i>=this.options.longLinkLength){var r=this.options.doubleLinkToolsOffset||e;n=this.getPointAtLength(i-r),this._tool2Cache.attr("transform","translate("+n.x+", "+n.y+") "+t),this._tool2Cache.attr("visibility","visible")}else this.options.doubleLinkTools&&this._tool2Cache.attr("visibility","hidden")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if("none"===n.css(this._V.markerArrowheads.node,"display"))return this;var t=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(t),this._V.targetArrowhead.scale(t),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},createWatcher:function(t){var e=function(e,i){this.onEndModelChange(t,e,i)};return function(i,n){n=n||{};var r=null,o=i.previous(t)||{};return o.id&&this.stopListening(this.paper.getModelById(o.id),"change",e),n.id&&(r=this.paper.getModelById(n.id),this.listenTo(r,"change",e)),e.call(this,r,{cacheOnly:!0}),this}},onEndModelChange:function(t,e,i){var n=!i.cacheOnly,r=this.model,o=r.get(t)||{};if(e){var s=this.constructor.makeSelector(o),l="source"==t?"target":"source",c=r.get(l)||{},g=o.id,h=c.id,u=h&&this.constructor.makeSelector(c);if(i.handleBy===this.cid&&g===h&&s==u)this[t+"View"]=this[l+"View"],this[t+"Magnet"]=this[l+"Magnet"];else if(i.translateBy);else{var d=this.paper.model.getCell(g);if(!d)throw new Error("LinkView: invalid "+t+" cell.");var p=d.findView(this.paper);if(p){var f=p.getMagnetFromLinkEnd(o);f===p.el&&(f=null),this[t+"View"]=p,this[t+"Magnet"]=f}else this[t+"View"]=this[t+"Magnet"]=null}if(i.handleBy===this.cid&&i.translateBy&&r.isEmbeddedIn(e)&&!a.util.isEmpty(r.get("vertices"))&&(n=!1),!this.updatePostponed&&h){var I=this.paper.getModelById(h);o.id===c.id&&(i.translateBy&&!a.util.isEmpty(r.get("vertices"))&&r.isEmbeddedIn(i.translateBy)?n=!1:i.handleBy=this.cid),n&&(i.handleBy===this.cid||i.translateBy&&I.isEmbeddedIn(i.translateBy))&&(n=!(this.updatePostponed=!0))}}else this[t+"View"]=this[t+"Magnet"]=null;n&&this.update(r,null,i)},_translateAndAutoOrientArrows:function(t,e){var i=a.util.toArray(this.route);t&&t.translateAndAutoOrient(this.sourcePoint,i[0]||this.targetPoint,this.paper.viewport),e&&e.translateAndAutoOrient(this.targetPoint,i[i.length-1]||this.sourcePoint,this.paper.viewport)},_getDefaultLabelPositionArgs:function(){return(this.model._getDefaultLabel().position||{}).args},_getLabelPositionArgs:function(t){return(this.model.label(t).position||{}).args},_mergeLabelPositionArgs:function(t,e){return null===t?null:void 0===t?null===e?null:e:a.util.merge({},e,t)},addLabel:function(t,e,i){var n="number"!=typeof t,r=n?t.x:t,o=n?t.y:e,a=n?e:i,s=this._getDefaultLabelPositionArgs(),l=a,c=this._mergeLabelPositionArgs(l,s),g={position:this.getLabelPosition(r,o,c)};return this.model.insertLabel(-1,g,a),-1},addVertex:function(t,e,i){var n="number"!=typeof t,r=n?t.x:t,o=n?t.y:e,a=n?e:i,s={x:r,y:o},l=this.getVertexIndex(r,o);return this.model.insertVertex(l,s,a),l},sendToken:function(t,e,i){var n,r,s;s=a.util.isObject(e)?(n=e.duration,r="reverse"===e.direction,e.connection):(n=e,r=!1,null);var l={dur:(n=n||1e3)+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};r&&(l.keyPoints="1;0",l.keyTimes="0;1");var c,g,h,u=o(t);if("string"==typeof s)c=this.findBySelector(s,this.el,this.selectors)[0];else{var d=this._V;c=d.connection?d.connection.node:this.el.querySelector("path")}if(!(c instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");u.appendTo(this.paper.viewport).animateAlongPath(l,c),setTimeout((g=u,h=i,function(){g.remove(),"function"==typeof h&&h()}),n)},findRoute:function(t){t||(t=[]);var e=a.routers,i=this.model.router(),n=this.paper.options.defaultRouter;if(!i){if(!n)return t.map(r.Point,r);i=n}var o=a.util.isFunction(i)?i:e[i.name];if(!a.util.isFunction(o))throw new Error('dia.LinkView: unknown router: "'+i.name+'".');var s=i.args||{};return o.call(this,t,s,this)||t.map(r.Point,r)},findPath:function(t,e,i){var n=a.connectors,s=this.model.connector(),l=this.paper.options.defaultConnector;s||(s=l||{});var c=a.util.isFunction(s)?s:n[s.name];if(!a.util.isFunction(c))throw new Error('dia.LinkView: unknown connector: "'+s.name+'".');var g=a.util.clone(s.args||{});g.raw=!0;var h=c.call(this,e,i,t,g,this);return"string"==typeof h&&(h=new r.Path(o.normalizePathData(h))),h},getConnection:function(){var t=this.path;return t?t.clone():null},getSerializedConnection:function(){var t=this.path;if(!t)return null;var e=this.metrics;if(e.hasOwnProperty("data"))return e.data;var i=t.serialize();return e.data=i},getConnectionSubdivisions:function(){var t=this.path;if(!t)return null;var e=this.metrics;if(e.hasOwnProperty("segmentSubdivisions"))return e.segmentSubdivisions;var i=t.getSegmentSubdivisions();return e.segmentSubdivisions=i},getConnectionLength:function(){var t=this.path;if(!t)return 0;var e=this.metrics;if(e.hasOwnProperty("length"))return e.length;var i=t.length({segmentSubdivisions:this.getConnectionSubdivisions()});return e.length=i},getPointAtLength:function(t){var e=this.path;return e?e.pointAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(t){var e=this.path;return e?e.pointAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtLength:function(t){var e=this.path;return e?e.tangentAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(t){var e=this.path;return e?e.tangentAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(t){var e=this.path;return e?e.closestPoint(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(t){var e=this.path;return e?e.closestPointLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(t){var e=this.path;return e?e.closestPointNormalizedLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(t,e,i){var n={},o=i||{};i&&(n.args=i);var a,s,l=!o.absoluteDistance,c=o.absoluteDistance&&o.reverseDistance,g=o.absoluteOffset,h=this.path,u={segmentSubdivisions:this.getConnectionSubdivisions()},d=new r.Point(t,e),p=h.closestPointT(d,u),f=h.lengthAtT(p,u);if(l&&(f=f/this.getConnectionLength()||0),c&&(f=-1*(this.getConnectionLength()-f)||1),n.distance=f,g||(a=h.tangentAtT(p)),a)s=a.pointOffset(d);else{var I=h.pointAtT(p),m=d.difference(I);s={x:m.x,y:m.y}}return n.offset=s,n},getLabelCoordinates:function(t){var e;if("number"==typeof t)e=t;else{if("number"!=typeof t.distance)throw new Error("dia.LinkView: invalid label position distance.");e=t.distance}var i=0<e&&e<=1,n=0,r={x:0,y:0};if(t.offset){var o=t.offset;"number"==typeof o&&(n=o),o.x&&(r.x=o.x),o.y&&(r.y=o.y)}var a,s=0!==r.x||0!==r.y||0===n,l=this.path,c={segmentSubdivisions:this.getConnectionSubdivisions()},g=i?e*this.getConnectionLength():e;if(s)(a=l.pointAtLength(g,c)).offset(r);else{var h=l.tangentAtLength(g,c);a=h?(h.rotate(h.start,-90),h.setLength(n),h.end):l.start}return a},getVertexIndex:function(t,e){for(var i=this.model.vertices(),n=this.getClosestPointLength(new r.Point(t,e)),o=0,a=i.length;o<a;o++){var s=i[o];if(n<this.getClosestPointLength(s))break}return o},pointerdblclick:function(t,e,i){a.dia.CellView.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",t,e,i)},pointerclick:function(t,e,i){a.dia.CellView.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",t,e,i)},contextmenu:function(t,e,i){a.dia.CellView.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",t,e,i)},pointerdown:function(t,e,i){switch(a.dia.CellView.prototype.pointerdown.apply(this,arguments),this.notify("link:pointerdown",t,e,i),t.target.getAttribute("class")){case"marker-vertex":return void this.dragVertexStart(t,e,i);case"marker-vertex-remove":case"marker-vertex-remove-area":return void this.dragVertexRemoveStart(t,e,i);case"marker-arrowhead":return void this.dragArrowheadStart(t,e,i);case"connection":case"connection-wrap":return void this.dragConnectionStart(t,e,i);case"marker-source":case"marker-target":return}this.dragStart(t,e,i)},pointermove:function(t,e,i){var n=this._dragData;switch(n&&this.eventData(t,n),this.eventData(t).action){case"vertex-move":this.dragVertex(t,e,i);break;case"label-move":this.dragLabel(t,e,i);break;case"arrowhead-move":this.dragArrowhead(t,e,i);break;case"move":this.drag(t,e,i)}n&&a.util.assign(n,this.eventData(t)),a.dia.CellView.prototype.pointermove.apply(this,arguments),this.notify("link:pointermove",t,e,i)},pointerup:function(t,e,i){var n=this._dragData;switch(n&&(this.eventData(t,n),this._dragData=null),this.eventData(t).action){case"vertex-move":this.dragVertexEnd(t,e,i);break;case"label-move":this.dragLabelEnd(t,e,i);break;case"arrowhead-move":this.dragArrowheadEnd(t,e,i);break;case"move":this.dragEnd(t,e,i)}this.notify("link:pointerup",t,e,i),a.dia.CellView.prototype.pointerup.apply(this,arguments)},mouseover:function(t){a.dia.CellView.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",t)},mouseout:function(t){a.dia.CellView.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",t)},mouseenter:function(t){a.dia.CellView.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",t)},mouseleave:function(t){a.dia.CellView.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",t)},mousewheel:function(t,e,i,n){a.dia.CellView.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",t,e,i,n)},onevent:function(t,e,i,n){if(o(t.target).findParentByClass("link-tool",this.el)){if(t.stopPropagation(),this.can("useLinkTools")){if("remove"===e)return void this.model.remove({ui:!0});this.notify(e,t,i,n)}a.dia.CellView.prototype.pointerdown.apply(this,arguments),this.notify("link:pointerdown",t,i,n)}else a.dia.CellView.prototype.onevent.apply(this,arguments)},onlabel:function(t,e,i){a.dia.CellView.prototype.pointerdown.apply(this,arguments),this.notify("link:pointerdown",t,e,i),this.dragLabelStart(t,e,i),this.eventData(t).stopPropagation&&t.stopPropagation()},dragConnectionStart:function(t,e,i){if(this.can("vertexAdd")){var n=this.addVertex({x:e,y:i},{ui:!0});this.eventData(t,{action:"vertex-move",vertexIdx:n})}},dragLabelStart:function(t,e,i){if(this.can("labelMove")){var n=t.currentTarget,r=parseInt(n.getAttribute("label-idx"),10),o=this._getDefaultLabelPositionArgs(),a=this._getLabelPositionArgs(r),s=this._mergeLabelPositionArgs(a,o);this.eventData(t,{action:"label-move",labelIdx:r,positionArgs:s,stopPropagation:!0}),this.paper.delegateDragEvents(this,t.data)}else this.eventData(t,{stopPropagation:!0})},dragVertexStart:function(t,e,i){if(this.can("vertexMove")){var n=t.target,r=parseInt(n.getAttribute("idx"),10);this.eventData(t,{action:"vertex-move",vertexIdx:r})}},dragVertexRemoveStart:function(t,e,i){if(this.can("vertexRemove")){var n=t.target,r=parseInt(n.getAttribute("idx"),10);this.model.removeVertex(r)}},dragArrowheadStart:function(t,e,i){if(this.can("arrowheadMove")){var n=t.target.getAttribute("end"),r=this.startArrowheadMove(n,{ignoreBackwardsCompatibility:!0});this.eventData(t,r)}},dragStart:function(t,e,i){this.can("linkMove")&&this.eventData(t,{action:"move",dx:e,dy:i})},dragLabel:function(t,e,i){var n=this.eventData(t),r={position:this.getLabelPosition(e,i,n.positionArgs)};this.model.label(n.labelIdx,r)},dragVertex:function(t,e,i){var n=this.eventData(t);this.model.vertex(n.vertexIdx,{x:e,y:i},{ui:!0})},dragArrowhead:function(t,e,i){var n=this.eventData(t);this.paper.options.snapLinks?this._snapArrowhead(e,i,n):this._connectArrowhead(this.getEventTarget(t),e,i,n)},drag:function(t,e,i){var n=this.eventData(t);this.model.translate(e-n.dx,i-n.dy,{ui:!0}),this.eventData(t,{dx:e,dy:i})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(t,e,i){var n=this.eventData(t),r=this.paper;r.options.snapLinks?this._snapArrowheadEnd(n):this._connectArrowheadEnd(n,e,i),r.linkAllowed(this)?(this._finishEmbedding(n),this._notifyConnectEvent(n,t)):this._disallow(n),this._afterArrowheadMove(n),this.vel.contains(t.target)||this.mouseleave(t)},dragEnd:function(){},_disallow:function(t){switch(t.whenNotAllowed){case"remove":this.model.remove({ui:!0});break;case"revert":default:this.model.set(t.arrowhead,t.initialEnd,{ui:!0})}},_finishEmbedding:function(t){this.paper.options.embeddingMode&&this.model.reparent()&&(t.z=null)},_notifyConnectEvent:function(t,e){var i=t.arrowhead,n=t.initialEnd,r=this.model.prop(i);if(r&&!a.dia.Link.endsEqual(n,r)){var o=this.paper;n.id&&this.notify("link:disconnect",e,o.findViewByModel(n.id),t.initialMagnet,i),r.id&&this.notify("link:connect",e,o.findViewByModel(r.id),t.magnetUnderPointer,i)}},_snapArrowhead:function(t,e,i){var n,o=this.paper.options.snapLinks.radius||50,a=this.paper.findViewsInArea({x:t-o,y:e-o,width:2*o,height:2*o}),s=i.closestView||null,l=i.closestMagnet||null;i.closestView=i.closestMagnet=null;var c,g=Number.MAX_VALUE,h=r.point(t,e),u=this.paper;a.forEach(function(t){"false"!==t.el.getAttribute("magnet")&&(n=t.model.getBBox().center().distance(h))<o&&n<g&&(l===t.el||u.options.validateConnection.apply(u,i.validateConnectionArgs(t,null)))&&(g=n,i.closestView=t,i.closestMagnet=t.el),t.$("[magnet]").each(function(e,r){var a=t.getNodeBBox(r);(n=h.distance({x:a.x+a.width/2,y:a.y+a.height/2}))<o&&n<g&&(l===r||u.options.validateConnection.apply(u,i.validateConnectionArgs(t,r)))&&(g=n,i.closestView=t,i.closestMagnet=r)}.bind(this))},this);var d=i.closestView,p=i.closestMagnet,f=i.arrowhead,I=l!==p;if(s&&I&&s.unhighlight(l,{connecting:!0,snapping:!0}),d){if(!I)return;d.highlight(p,{connecting:!0,snapping:!0}),c=d.getLinkEnd(p,t,e,this.model,f)}else c={x:t,y:e};this.model.set(f,c||{x:t,y:e},{ui:!0})},_snapArrowheadEnd:function(t){var e=t.closestView,i=t.closestMagnet;e&&i&&(e.unhighlight(i,{connecting:!0,snapping:!0}),t.magnetUnderPointer=e.findMagnet(i)),
t.closestView=t.closestMagnet=null},_connectArrowhead:function(t,e,i,n){n.eventTarget!==t&&(n.magnetUnderPointer&&n.viewUnderPointer.unhighlight(n.magnetUnderPointer,{connecting:!0}),n.viewUnderPointer=this.paper.findView(t),n.viewUnderPointer?(n.magnetUnderPointer=n.viewUnderPointer.findMagnet(t),n.magnetUnderPointer&&this.paper.options.validateConnection.apply(this.paper,n.validateConnectionArgs(n.viewUnderPointer,n.magnetUnderPointer))?n.magnetUnderPointer&&n.viewUnderPointer.highlight(n.magnetUnderPointer,{connecting:!0}):n.magnetUnderPointer=null):n.magnetUnderPointer=null),n.eventTarget=t,this.model.set(n.arrowhead,{x:e,y:i},{ui:!0})},_connectArrowheadEnd:function(t,e,i){var n=t.viewUnderPointer,r=t.magnetUnderPointer;if(r&&n){n.unhighlight(r,{connecting:!0});var o=t.arrowhead,a=n.getLinkEnd(r,e,i,this.model,o);this.model.set(o,a,{ui:!0})}},_beforeArrowheadMove:function(t){t.z=this.model.get("z"),this.model.toFront(),this.el.style.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(t)},_afterArrowheadMove:function(t){null!==t.z&&(this.model.set("z",t.z,{ui:!0}),t.z=null),this.el.style.pointerEvents="visiblePainted",this.paper.options.markAvailable&&this._unmarkAvailableMagnets(t)},_createValidateConnectionArgs:function(t){var e,i=[];i[4]=t,i[5]=this;var n=0,r=0;e="source"===t?(n=2,"target"):(r=2,"source");var o=this.model.get(e);if(o.id){var a=i[n]=this.paper.findViewByModel(o.id),s=a.getMagnetFromLinkEnd(o);s===a.el&&(s=void 0),i[n+1]=s}return function(t,e){return i[r]=t,i[r+1]=t.el===e?void 0:e,i}},_markAvailableMagnets:function(t){function e(t,e){var i=t.paper;return i.options.validateConnection.apply(i,this.validateConnectionArgs(t,e))}var i=this.paper,n=i.model.getElements();t.marked={};for(var r=0,o=n.length;r<o;r++){var a=n[r].findView(i);if(a){var s=Array.prototype.slice.call(a.el.querySelectorAll("[magnet]"));"false"!==a.el.getAttribute("magnet")&&s.push(a.el);var l=s.filter(e.bind(t,a));if(0<l.length){for(var c=0,g=l.length;c<g;c++)a.highlight(l[c],{magnetAvailability:!0});a.highlight(null,{elementAvailability:!0}),t.marked[a.model.id]=l}}}},_unmarkAvailableMagnets:function(t){for(var e,i,n=Object.keys(t.marked),r=0,o=n.length;r<o;r++){e=n[r],i=t.marked[e];var a=this.paper.findViewByModel(e);if(a){for(var s=0,l=i.length;s<l;s++)a.unhighlight(i[s],{magnetAvailability:!0});a.unhighlight(null,{elementAvailability:!0})}}t.marked=null},startArrowheadMove:function(t,e){e||(e={});var i={action:"arrowhead-move",arrowhead:t,whenNotAllowed:e.whenNotAllowed||"revert",initialMagnet:this[t+"Magnet"]||(this[t+"View"]?this[t+"View"].el:null),initialEnd:a.util.clone(this.model.get(t)),validateConnectionArgs:this._createValidateConnectionArgs(t)};return this._beforeArrowheadMove(i),!0!==e.ignoreBackwardsCompatibility&&(this._dragData=i),i}},{makeSelector:function(t){var e="";return t.port?e+='[port="'+t.port+'"]':t.selector&&(e+=t.selector),e}}),Object.defineProperty(a.dia.LinkView.prototype,"sourceBBox",{enumerable:!0,get:function(){var t=this.sourceView,e=this.sourceMagnet;if(t)return e||(e=t.el),t.getNodeBBox(e);var i=this.model.source();return new r.Rect(i.x,i.y,1,1)}}),Object.defineProperty(a.dia.LinkView.prototype,"targetBBox",{enumerable:!0,get:function(){var t=this.targetView,e=this.targetMagnet;if(t)return e||(e=t.el),t.getNodeBBox(e);var i=this.model.target();return new r.Rect(i.x,i.y,1,1)}}),a.dia.Paper=a.mvc.View.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,background:!1,perpendicularLinks:!1,elementView:a.dia.ElementView,linkView:a.dia.LinkView,snapLinks:!1,multiLinks:!0,guard:function(t,e){return!1},highlighting:{default:{name:"stroke",options:{padding:3}},magnetAvailability:{name:"addClass",options:{className:"available-magnet"}},elementAvailability:{name:"addClass",options:{className:"available-cell"}}},preventContextMenu:!0,preventDefaultBlankAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new a.dia.Link,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(t,e){return"passive"!==e.getAttribute("magnet")},validateConnection:function(t,e,i,n,r,o){return("target"===r?i:t)instanceof a.dia.ElementView},embeddingMode:!1,validateEmbedding:function(t,e){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,cellViewNamespace:a.shapes,highlighterNamespace:a.highlighters},events:{dblclick:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",mousewheel:"mousewheel",DOMMouseScroll:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","mousedown .joint-cell [event]":"onevent","touchstart .joint-cell [event]":"onevent","mousedown .joint-cell [magnet]":"onmagnet","touchstart .joint-cell [magnet]":"onmagnet","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},_highlights:{},init:function(){a.util.bindAll(this,"pointerup");var t=this.model=this.options.model||new a.dia.Graph;this.setGrid(this.options.drawGrid),this.cloneOptions(),this.render(),this.setDimensions(),this.listenTo(t,"add",this.onCellAdded).listenTo(t,"remove",this.removeView).listenTo(t,"reset",this.resetViews).listenTo(t,"sort",this._onSort).listenTo(t,"batch:stop",this._onBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update),this._views={},this.$document=n(this.el.ownerDocument)},cloneOptions:function(){var t=this.options;t.origin=a.util.assign({},t.origin),t.defaultConnector=a.util.assign({},t.defaultConnector),t.highlighting=a.util.defaultsDeep({},t.highlighting,this.constructor.prototype.options.highlighting)},render:function(){return this.$el.empty(),this.svg=o("svg").attr({width:"100%",height:"100%"}).node,this.viewport=o("g").addClass(a.util.addClassNamePrefix("viewport")).node,this.defs=o("defs").node,this.tools=o("g").addClass(a.util.addClassNamePrefix("tools-container")).node,o(this.svg).append([this.defs,this.viewport,this.tools]),this.$background=n("<div/>").addClass(a.util.addClassNamePrefix("paper-background")),this.options.background&&this.drawBackground(this.options.background),this.$grid=n("<div/>").addClass(a.util.addClassNamePrefix("paper-grid")),this.options.drawGrid&&this.drawGrid(),this.$el.append(this.$background,this.$grid,this.svg),this},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},_viewportMatrix:null,_viewportTransformString:null,matrix:function(t){var e=this.viewport;if(void 0===t){var i=e.getAttribute("transform");return(this._viewportTransformString||null)===i?t=this._viewportMatrix:(t=e.getCTM(),this._viewportMatrix=t,this._viewportTransformString=i),o.createSVGMatrix(t)}t=o.createSVGMatrix(t);var n=o.matrixToTransformString(t);return e.setAttribute("transform",n),this.tools.setAttribute("transform",n),this._viewportMatrix=t,this._viewportTransformString=e.getAttribute("transform"),this},clientMatrix:function(){return o.createSVGMatrix(this.viewport.getScreenCTM())},_sortDelayingBatches:["add","to-front","to-back"],_onSort:function(){this.model.hasActiveBatch(this._sortDelayingBatches)||this.sortViews()},_onBatchStop:function(t){var e=t&&t.batchName;this._sortDelayingBatches.includes(e)&&!this.model.hasActiveBatch(this._sortDelayingBatches)&&this.sortViews()},onRemove:function(){this.removeViews()},getComputedSize:function(){var t=a.util,e=this.options,i=e.width,n=e.height;return t.isNumber(i)||(i=this.el.clientWidth),t.isNumber(n)||(n=this.el.clientHeight),{width:i,height:n}},setDimensions:function(t,e){var i=a.util,n=this.options,r=void 0===t?n.width:t,o=void 0===e?n.height:e;this.options.width=r,this.options.height=o,i.isNumber(r)&&(r=Math.round(r)),i.isNumber(o)&&(o=Math.round(o)),this.$el.css({width:null===r?"":r,height:null===o?"":o});var s=this.getComputedSize();this.trigger("resize",s.width,s.height)},setOrigin:function(t,e){return this.translate(t||0,e||0,{absolute:!0})},fitToContent:function(t,e,i,n){i=a.util.isObject(t)?(t=(n=t).gridWidth||1,e=n.gridHeight||1,n.padding||0):(n=n||{},t=t||1,e=e||1,i||0),i=a.util.normalizeSides(i);var r=o(this.viewport).getBBox(),s=this.scale(),l=this.translate();r.x*=s.sx,r.y*=s.sy,r.width*=s.sx,r.height*=s.sy;var c=Math.max(Math.ceil((r.width+r.x)/t),1)*t,g=Math.max(Math.ceil((r.height+r.y)/e),1)*e,h=0,u=0;("negative"==n.allowNewOrigin&&r.x<0||"positive"==n.allowNewOrigin&&0<=r.x||"any"==n.allowNewOrigin)&&(h=Math.ceil(-r.x/t)*t,c+=h+=i.left),("negative"==n.allowNewOrigin&&r.y<0||"positive"==n.allowNewOrigin&&0<=r.y||"any"==n.allowNewOrigin)&&(u=Math.ceil(-r.y/e)*e,g+=u+=i.top),c+=i.right,g+=i.bottom,c=Math.max(c,n.minWidth||0),g=Math.max(g,n.minHeight||0),c=Math.min(c,n.maxWidth||Number.MAX_VALUE),g=Math.min(g,n.maxHeight||Number.MAX_VALUE);var d=this.getComputedSize(),p=c!=d.width||g!=d.height;(h!=l.tx||u!=l.ty)&&this.translate(h,u),p&&this.setDimensions(c,g)},scaleContentToFit:function(t){var e=this.getContentBBox();if(e.width&&e.height){t=t||{},a.util.defaults(t,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE});var i,n=t.padding,o=t.minScaleX||t.minScale,s=t.maxScaleX||t.maxScale,l=t.minScaleY||t.minScale,c=t.maxScaleY||t.maxScale;if(t.fittingBBox)i=t.fittingBBox;else{var g=this.translate(),h=this.getComputedSize();i={x:g.tx,y:g.ty,width:h.width,height:h.height}}i=new r.Rect(i).inflate(-n);var u=this.scale(),d=i.width/e.width*u.sx,p=i.height/e.height*u.sy;if(t.preserveAspectRatio&&(d=p=Math.min(d,p)),t.scaleGrid){var f=t.scaleGrid;d=f*Math.floor(d/f),p=f*Math.floor(p/f)}d=Math.min(s,Math.max(o,d)),p=Math.min(c,Math.max(l,p)),this.scale(d,p);var I=this.getContentBBox(),m=i.x-I.x,A=i.y-I.y;this.translate(m,A)}},getContentArea:function(){return o(this.viewport).getBBox()},getContentBBox:function(){var t=this.viewport.getBoundingClientRect(),e=this.clientMatrix(),i=this.translate();return new r.Rect({x:t.left-e.e+i.tx,y:t.top-e.f+i.ty,width:t.width,height:t.height})},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(){return a.util.isFunction(this.options.restrictTranslate)?this.options.restrictTranslate.apply(this,arguments):!0===this.options.restrictTranslate?this.getArea():this.options.restrictTranslate||null},createViewForModel:function(t){var i,n,r=this.options.cellViewNamespace,o=t.get("type")+"View",s=a.util.getByPath(r,o,".");return n=t.isLink()?(i=this.options.linkView,a.dia.LinkView):(i=this.options.elementView,a.dia.ElementView),new(i.prototype instanceof e.View?s||i:i.call(this,t)||s||n)({model:t,interactive:this.options.interactive})},onCellAdded:function(t,e,i){if(this.options.async&&!1!==i.async&&a.util.isNumber(i.position)){if(this._asyncCells=this._asyncCells||[],this._asyncCells.push(t),0==i.position){if(this._frameId)throw new Error("another asynchronous rendering in progress");this.asyncRenderViews(this._asyncCells,i),delete this._asyncCells}}else this.renderView(t)},removeView:function(t){var e=this._views[t.id];return e&&(e.remove(),delete this._views[t.id]),e},renderView:function(t){var e=this._views[t.id]=this.createViewForModel(t);return this.viewport.appendChild(e.el),e.paper=this,e.render(),e},onImageDragStart:function(){return!1},beforeRenderViews:function(t){return t.sort(function(t){return t.isLink()?1:-1}),t},afterRenderViews:function(){this.sortViews()},resetViews:function(t,e){this.removeViews();var i=t.models.slice();if(i=this.beforeRenderViews(i,e)||i,this.cancelRenderViews(),this.options.async)this.asyncRenderViews(i,e);else{for(var n=0,r=i.length;n<r;n++)this.renderView(i[n]);this.sortViews()}},cancelRenderViews:function(){this._frameId&&(a.util.cancelFrame(this._frameId),delete this._frameId)},removeViews:function(){a.util.invoke(this._views,"remove"),this._views={}},asyncBatchAdded:a.util.noop,asyncRenderViews:function(t,e){if(this._frameId){var i=this.options.async&&this.options.async.batchSize||50;t.splice(0,i).forEach(function(t){t.graph===this.model&&this.renderView(t)},this),this.asyncBatchAdded()}t.length?this._frameId=a.util.nextFrame(function(){this.asyncRenderViews(t,e)},this):(delete this._frameId,this.afterRenderViews(e),this.trigger("render:done",e))},sortViews:function(){var t=n(this.viewport).children("[model-id]"),e=this.model.get("cells");a.util.sortElements(t,function(t,i){var r=e.get(n(t).attr("model-id")),o=e.get(n(i).attr("model-id"));return(r.get("z")||0)>(o.get("z")||0)?1:-1})},MIN_SCALE:1e-6,scale:function(t,e,i,n){if(void 0===t)return o.matrixToScale(this.matrix());void 0===e&&(e=t),void 0===i&&(n=i=0);var r=this.translate();if(i||n||r.tx||r.ty){var a=r.tx-i*(t-1),s=r.ty-n*(e-1);this.translate(a,s)}t=Math.max(t||0,this.MIN_SCALE),e=Math.max(e||0,this.MIN_SCALE);var l=this.matrix();return l.a=t,l.d=e,this.matrix(l),this.trigger("scale",t,e,i,n),this},rotate:function(t,e,i){if(void 0===t)return o.matrixToRotate(this.matrix());if(void 0===e){var n=this.viewport.getBBox();e=n.width/2,i=n.height/2}var r=this.matrix().translate(e,i).rotate(t).translate(-e,-i);return this.matrix(r),this},translate:function(t,e){if(void 0===t)return o.matrixToTranslate(this.matrix());var i=this.matrix();i.e=t||0,i.f=e||0,this.matrix(i);var n=this.translate(),r=this.options.origin;return r.x=n.tx,r.y=n.ty,this.trigger("translate",n.tx,n.ty),this.options.drawGrid&&this.drawGrid(),this},findView:function(t){var e=a.util.isString(t)?this.viewport.querySelector(t):t instanceof n?t[0]:t,i=this.findAttribute("model-id",e);if(i)return this._views[i]},findViewByModel:function(t){var e=a.util.isString(t)||a.util.isNumber(t)?t:t&&t.id;return this._views[e]},findViewsFromPoint:function(t){return t=new r.Point(t),this.model.getElements().map(this.findViewByModel,this).filter(function(e){return e&&e.vel.getBBox({target:this.viewport}).containsPoint(t)},this)},findViewsInArea:function(t,e){e=a.util.defaults(e||{},{strict:!1}),t=new r.Rect(t);var i=this.model.getElements().map(this.findViewByModel,this),n=e.strict?"containsRect":"intersect";return i.filter(function(e){return e&&t[n](e.vel.getBBox({target:this.viewport}))},this)},removeTools:function(){return a.dia.CellView.dispatchToolsEvent(this,"remove"),this},hideTools:function(){return a.dia.CellView.dispatchToolsEvent(this,"hide"),this},showTools:function(){return a.dia.CellView.dispatchToolsEvent(this,"show"),this},getModelById:function(t){return this.model.getCell(t)},snapToGrid:function(t,e){return this.clientToLocalPoint(t,e).snapToGrid(this.options.gridSize)},localToPaperPoint:function(t,e){var i=new r.Point(t,e);return o.transformPoint(i,this.matrix())},localToPaperRect:function(t,e,i,n){var a=new r.Rect(t,e,i,n);return o.transformRect(a,this.matrix())},paperToLocalPoint:function(t,e){var i=new r.Point(t,e);return o.transformPoint(i,this.matrix().inverse())},paperToLocalRect:function(t,e,i,n){var a=new r.Rect(t,e,i,n);return o.transformRect(a,this.matrix().inverse())},localToClientPoint:function(t,e){var i=new r.Point(t,e);return o.transformPoint(i,this.clientMatrix())},localToClientRect:function(t,e,i,n){var a=new r.Rect(t,e,i,n);return o.transformRect(a,this.clientMatrix())},clientToLocalPoint:function(t,e){var i=new r.Point(t,e);return o.transformPoint(i,this.clientMatrix().inverse())},clientToLocalRect:function(t,e,i,n){var a=new r.Rect(t,e,i,n);return o.transformRect(a,this.clientMatrix().inverse())},localToPagePoint:function(t,e){return this.localToPaperPoint(t,e).offset(this.pageOffset())},localToPageRect:function(t,e,i,n){return this.localToPaperRect(t,e,i,n).offset(this.pageOffset())},pageToLocalPoint:function(t,e){var i=new r.Point(t,e).difference(this.pageOffset());return this.paperToLocalPoint(i)},pageToLocalRect:function(t,e,i,n){var o=this.pageOffset(),a=new r.Rect(t,e,i,n);return a.x-=o.x,a.y-=o.y,this.paperToLocalRect(a)},clientOffset:function(){var t=this.svg.getBoundingClientRect();return new r.Point(t.left,t.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(t){if(!(t instanceof a.dia.LinkView))throw new Error("Must provide a linkView.");var e=t.model,i=this.options,n=this.model,r=n.constructor.validations;return!(!i.multiLinks&&!r.multiLinks.call(this,n,e)||!i.linkPinning&&!r.linkPinning.call(this,n,e)||"function"==typeof i.allowLink&&!i.allowLink.call(this,t,this))},getDefaultLink:function(t,e){return a.util.isFunction(this.options.defaultLink)?this.options.defaultLink.call(this,t,e):this.options.defaultLink.clone()},resolveHighlighter:function(t){var e=(t=t||{}).highlighter,i=this.options;if(void 0===e){var n=["embedding","connecting","magnetAvailability","elementAvailability"].find(function(e){return!!t[e]});e=n&&i.highlighting[n]||i.highlighting.default}if(!e)return!1;a.util.isString(e)&&(e={name:e});var r=e.name,o=i.highlighterNamespace[r];if(!o)throw new Error('Unknown highlighter ("'+r+'")');if("function"!=typeof o.highlight)throw new Error('Highlighter ("'+r+'") is missing required highlight() method');if("function"!=typeof o.unhighlight)throw new Error('Highlighter ("'+r+'") is missing required unhighlight() method');return{highlighter:o,options:e.options||{},name:r}},onCellHighlight:function(t,e,i){if(i=this.resolveHighlighter(i)){e.id||(e.id=o.uniqueId());var n=i.name+e.id+JSON.stringify(i.options);if(!this._highlights[n]){var r=i.highlighter;r.highlight(t,e,a.util.assign({},i.options)),this._highlights[n]={cellView:t,magnetEl:e,opt:i.options,highlighter:r}}}},onCellUnhighlight:function(t,e,i){if(i=this.resolveHighlighter(i)){var n=i.name+e.id+JSON.stringify(i.options),r=this._highlights[n];r&&(r.highlighter.unhighlight(r.cellView,r.magnetEl,r.opt),this._highlights[n]=null)}},pointerdblclick:function(t){t.preventDefault(),t=a.util.normalizeEvent(t);var e=this.findView(t.target);if(!this.guard(t,e)){var i=this.snapToGrid({x:t.clientX,y:t.clientY});e?e.pointerdblclick(t,i.x,i.y):this.trigger("blank:pointerdblclick",t,i.x,i.y)}},pointerclick:function(t){if(this.eventData(t).mousemoved<=this.options.clickThreshold){t=a.util.normalizeEvent(t);var e=this.findView(t.target);if(this.guard(t,e))return;var i=this.snapToGrid({x:t.clientX,y:t.clientY});e?e.pointerclick(t,i.x,i.y):this.trigger("blank:pointerclick",t,i.x,i.y)}},contextmenu:function(t){this.options.preventContextMenu&&t.preventDefault(),t=a.util.normalizeEvent(t);var e=this.findView(t.target);if(!this.guard(t,e)){var i=this.snapToGrid({x:t.clientX,y:t.clientY});e?e.contextmenu(t,i.x,i.y):this.trigger("blank:contextmenu",t,i.x,i.y)}},pointerdown:function(t){t=a.util.normalizeEvent(t);var e=this.findView(t.target);if(!this.guard(t,e)){var i=this.snapToGrid({x:t.clientX,y:t.clientY});e?(t.preventDefault(),e.pointerdown(t,i.x,i.y)):(this.options.preventDefaultBlankAction&&t.preventDefault(),this.trigger("blank:pointerdown",t,i.x,i.y)),this.delegateDragEvents(e,t.data)}},pointermove:function(t){var e=this.eventData(t);if(e.mousemoved||(e.mousemoved=0),!(++e.mousemoved<=this.options.moveThreshold)){t=a.util.normalizeEvent(t);var i=this.snapToGrid({x:t.clientX,y:t.clientY}),n=e.sourceView;n?n.pointermove(t,i.x,i.y):this.trigger("blank:pointermove",t,i.x,i.y),this.eventData(t,e)}},pointerup:function(t){this.undelegateDocumentEvents();var e=a.util.normalizeEvent(t),i=this.snapToGrid({x:e.clientX,y:e.clientY}),r=this.eventData(t).sourceView;r?r.pointerup(e,i.x,i.y):this.trigger("blank:pointerup",e,i.x,i.y),e.isPropagationStopped()||this.pointerclick(n.Event(t,{type:"click",data:t.data})),t.stopImmediatePropagation(),this.delegateEvents()},mouseover:function(t){t=a.util.normalizeEvent(t);var e=this.findView(t.target);if(!this.guard(t,e))if(e)e.mouseover(t);else{if(this.el===t.target)return;this.trigger("blank:mouseover",t)}},mouseout:function(t){t=a.util.normalizeEvent(t);var e=this.findView(t.target);if(!this.guard(t,e))if(e)e.mouseout(t);else{if(this.el===t.target)return;this.trigger("blank:mouseout",t)}},mouseenter:function(t){t=a.util.normalizeEvent(t);var e=this.findView(t.target);if(!this.guard(t,e)){var i=this.findView(t.relatedTarget);if(e){if(i===e)return;e.mouseenter(t)}else{if(i)return;this.trigger("paper:mouseenter",t)}}},mouseleave:function(t){t=a.util.normalizeEvent(t);var e=this.findView(t.target);if(!this.guard(t,e)){var i=this.findView(t.relatedTarget);if(e){if(i===e)return;e.mouseleave(t)}else{if(i)return;this.trigger("paper:mouseleave",t)}}},mousewheel:function(t){t=a.util.normalizeEvent(t);var e=this.findView(t.target);if(!this.guard(t,e)){var i=t.originalEvent,n=this.snapToGrid({x:i.clientX,y:i.clientY}),r=Math.max(-1,Math.min(1,i.wheelDelta||-i.detail));e?e.mousewheel(t,n.x,n.y,r):this.trigger("blank:mousewheel",t,n.x,n.y,r)}},onevent:function(t){var e=t.currentTarget,i=e.getAttribute("event");if(i){var n=this.findView(e);if(n){if(t=a.util.normalizeEvent(t),this.guard(t,n))return;var r=this.snapToGrid({x:t.clientX,y:t.clientY});n.onevent(t,i,r.x,r.y)}}},magnetEvent:function(t,e){var i=t.currentTarget;if(i.getAttribute("magnet")){var n=this.findView(i);if(n){if(t=a.util.normalizeEvent(t),this.guard(t,n))return;var r=this.snapToGrid(t.clientX,t.clientY);e.call(this,n,t,i,r.x,r.y)}}},onmagnet:function(t){this.magnetEvent(t,function(t,e,i,n,r){t.onmagnet(e,n,r)})},magnetpointerdblclick:function(t){this.magnetEvent(t,function(t,e,i,n,r){t.magnetpointerdblclick(e,i,n,r)})},magnetcontextmenu:function(t){this.options.preventContextMenu&&t.preventDefault(),this.magnetEvent(t,function(t,e,i,n,r){t.magnetcontextmenu(e,i,n,r)})},onlabel:function(t){var e=t.currentTarget,i=this.findView(e);if(i){if(t=a.util.normalizeEvent(t),this.guard(t,i))return;var n=this.snapToGrid(t.clientX,t.clientY);i.onlabel(t,n.x,n.y)}},delegateDragEvents:function(t,e){e||(e={}),this.eventData({data:e},{sourceView:t||null,mousemoved:0}),this.delegateDocumentEvents(null,e),this.undelegateEvents()},guard:function(t,e){return"mousedown"===t.type&&2===t.button||!(!this.options.guard||!this.options.guard(t,e))||(t.data&&void 0!==t.data.guarded?t.data.guarded:!(e&&e.model&&e.model instanceof a.dia.Cell||this.svg===t.target||this.el===t.target||n.contains(this.svg,t.target)))},setGridSize:function(t){return this.options.gridSize=t,this.options.drawGrid&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGriRefs:function(){return this._gridCache||(this._gridCache={root:o("svg",{width:"100%",height:"100%"},o("defs")),patterns:{},add:function(t,e){o(this.root.node.childNodes[0]).append(e),this.patterns[t]=e,this.root.append(o("rect",{width:"100%",height:"100%",fill:"url(#"+t+")"}))},get:function(t){return this.patterns[t]},exist:function(t){return void 0!==this.patterns[t]}}),this._gridCache},setGrid:function(t){return this.clearGrid(),this._gridCache=null,this._gridSettings=[],(Array.isArray(t)?t:[t||{}]).forEach(function(t){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(t))},this),this},_resolveDrawGridOption:function(t){var e=this.constructor.gridPatterns;if(a.util.isString(t)&&Array.isArray(e[t]))return e[t].map(function(t){return a.util.assign({},t)});var i=t||{args:[{}]},n=Array.isArray(i),r=i.name;if(n||r||i.markup||(r="dot"),r&&Array.isArray(e[r])){var o=e[r].map(function(t){return a.util.assign({},t)}),s=Array.isArray(i.args)?i.args:[i.args||{}];a.util.defaults(s[0],a.util.omit(t,"args"));for(var l=0;l<s.length;l++)o[l]&&a.util.assign(o[l],s[l]);return o}return n?i:[i]},drawGrid:function(t){var e=this.options.gridSize;if(e<=1)return this.clearGrid();var i=Array.isArray(t)?t:[t],n=this.matrix(),r=this._getGriRefs();this._gridSettings.forEach(function(t,s){var l="pattern_"+s,c=a.util.merge(t,i[s],{sx:n.a||1,sy:n.d||1,ox:n.e||0,oy:n.f||0});c.width=e*(n.a||1)*(c.scaleFactor||1),c.height=e*(n.d||1)*(c.scaleFactor||1),r.exist(l)||r.add(l,o("pattern",{id:l,patternUnits:"userSpaceOnUse"},o(c.markup)));var g=r.get(l);a.util.isFunction(c.update)&&c.update(g.node.childNodes[0],c);var h=c.ox%c.width;h<0&&(h+=c.width);var u=c.oy%c.height;u<0&&(u+=c.height),g.attr({x:h,y:u,width:c.width,height:c.height})});var s=(new XMLSerializer).serializeToString(r.root.node);return s="url(data:image/svg+xml;base64,"+btoa(s)+")",this.$grid.css("backgroundImage",s),this},updateBackgroundImage:function(t){var e=(t=t||{}).position||"center",i=t.size||"auto auto",n=this.scale(),o=this.translate();a.util.isObject(e)&&(e=o.tx+n.sx*(e.x||0)+"px "+(o.ty+n.sy*(e.y||0))+"px"),a.util.isObject(i)&&(i=(i=new r.Rect(i).scale(n.sx,n.sy)).width+"px "+i.height+"px"),this.$background.css({backgroundSize:i,backgroundPosition:e})},drawBackgroundImage:function(t,e){if(t instanceof HTMLImageElement){var i,n=(e=e||{}).size,r=e.repeat||"no-repeat",o=e.opacity||1,s=Math.abs(e.quality)||1,l=this.constructor.backgroundPatterns[a.util.camelCase(r)];if(a.util.isFunction(l)){t.width*=s,t.height*=s;var c=l(t,e);if(!(c instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");i=c.toDataURL("image/png"),r="repeat",a.util.isObject(n)?(n.width*=c.width/t.width,n.height*=c.height/t.height):void 0===n&&(e.size={width:c.width/s,height:c.height/s})}else i=t.src,void 0===n&&(e.size={width:t.width,height:t.height});this.$background.css({opacity:o,backgroundRepeat:r,backgroundImage:"url("+i+")"}),this.updateBackgroundImage(e)}else this.$background.css("backgroundImage","")},updateBackgroundColor:function(t){this.$el.css("backgroundColor",t||"")},drawBackground:function(t){if(t=t||{},this.updateBackgroundColor(t.color),t.image){t=this._background=a.util.cloneDeep(t);var e=document.createElement("img");e.onload=this.drawBackgroundImage.bind(this,e,t),e.src=t.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(t){this.options.interactive=t,a.util.invoke(this._views,"setInteractivity",t)},isDefined:function(t){return!!this.svg.getElementById(t)},defineFilter:function(t){if(!a.util.isObject(t))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var e=t.id,i=t.name;if(e||(e=i+this.svg.id+a.util.hashCode(JSON.stringify(t))),!this.isDefined(e)){var n=a.util.filter,r=n[i]&&n[i](t.args||{});if(!r)throw new Error("Non-existing filter "+i);var s=a.util.assign({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},t.attrs,{id:e});o(r,s).appendTo(this.defs)}return e},defineGradient:function(t){if(!a.util.isObject(t))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");var e=t.id,i=t.type,n=t.stops;if(e||(e=i+this.svg.id+a.util.hashCode(JSON.stringify(t))),!this.isDefined(e)){var r=a.util.template('<stop offset="${offset}" stop-color="${color}" stop-opacity="${opacity}"/>'),s=["<"+i+">",a.util.toArray(n).map(function(t){return r({offset:t.offset,color:t.color,opacity:Number.isFinite(t.opacity)?t.opacity:1})}).join(""),"</"+i+">"].join(""),l=a.util.assign({id:e},t.attrs);o(s,l).appendTo(this.defs)}return e},defineMarker:function(t){if(!a.util.isObject(t))throw new TypeError("dia.Paper: defineMarker() requires 1. argument to be an object.");var e=t.id;if(e||(e=this.svg.id+a.util.hashCode(JSON.stringify(t))),!this.isDefined(e)){var i=a.util.omit(t,"type","userSpaceOnUse");o("marker",{id:e,orient:"auto",overflow:"visible",markerUnits:t.markerUnits||"userSpaceOnUse"},[o(t.type||"path",i)]).appendTo(this.defs)}return e}},{backgroundPatterns:{flipXy:function(t){var e=document.createElement("canvas"),i=t.width,n=t.height;e.width=2*i,e.height=2*n;var r=e.getContext("2d");return r.drawImage(t,0,0,i,n),r.setTransform(-1,0,0,-1,e.width,e.height),r.drawImage(t,0,0,i,n),r.setTransform(-1,0,0,1,e.width,0),r.drawImage(t,0,0,i,n),r.setTransform(1,0,0,-1,0,e.height),r.drawImage(t,0,0,i,n),e},flipX:function(t){var e=document.createElement("canvas"),i=t.width,n=t.height;e.width=2*i,e.height=n;var r=e.getContext("2d");return r.drawImage(t,0,0,i,n),r.translate(2*i,0),r.scale(-1,1),r.drawImage(t,0,0,i,n),e},flipY:function(t){var e=document.createElement("canvas"),i=t.width,n=t.height;e.width=i,e.height=2*n;var r=e.getContext("2d");return r.drawImage(t,0,0,i,n),r.translate(0,2*n),r.scale(1,-1),r.drawImage(t,0,0,i,n),e},watermark:function(t,e){e=e||{};var i=t.width,n=t.height,o=document.createElement("canvas");o.width=3*i,o.height=3*n;for(var s=o.getContext("2d"),l=a.util.isNumber(e.watermarkAngle)?-e.watermarkAngle:-20,c=r.toRad(l),g=o.width/4,h=o.height/4,u=0;u<4;u++)for(var d=0;d<4;d++)0<(u+d)%2&&(s.setTransform(1,0,0,1,(2*u-1)*g,(2*d-1)*h),s.rotate(c),s.drawImage(t,-i/2,-n/2,i,n));return o}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(t,e){o(t).attr({width:e.thickness*e.sx,height:e.thickness*e.sy,fill:e.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(t,e){var i=e.sx<=1?e.thickness*e.sx:e.thickness;o(t).attr({width:i,height:i,fill:e.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(t,e){var i,n=e.width,r=e.height,a=e.thickness;i=0<=n-a&&0<=r-a?["M",n,0,"H0 M0 0 V0",r].join(" "):"M 0 0 0 0",o(t).attr({d:i,stroke:e.color,"stroke-width":e.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(t,e){var i,n=e.width,r=e.height,a=e.thickness;i=0<=n-a&&0<=r-a?["M",n,0,"H0 M0 0 V0",r].join(" "):"M 0 0 0 0",o(t).attr({d:i,stroke:e.color,"stroke-width":e.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(t,e){var i,n=e.width,r=e.height,a=e.thickness;i=0<=n-a&&0<=r-a?["M",n,0,"H0 M0 0 V0",r].join(" "):"M 0 0 0 0",o(t).attr({d:i,stroke:e.color,"stroke-width":e.thickness})}}]}}),function(t,e){var i=function(i){var n=e.cloneDeep(i)||{};this.ports=[],this.groups={},this.portLayoutNamespace=t.layout.Port,this.portLabelLayoutNamespace=t.layout.PortLabel,this._init(n)};i.prototype={getPorts:function(){return this.ports},getGroup:function(t){return this.groups[t]||{}},getPortsByGroup:function(t){return this.ports.filter(function(e){return e.group===t})},getGroupPortsMetrics:function(t,i){var n=this.getGroup(t),o=this.getPortsByGroup(t),a=n.position||{},s=a.name,l=this.portLayoutNamespace;l[s]||(s="left");var c=a.args||{},g=o.map(function(t){return t&&t.position&&t.position.args}),h=l[s](g,i,c),u={ports:o,result:[]};return e.toArray(h).reduce(function(t,e,n){var o=t.ports[n];return t.result.push({portId:o.id,portTransformation:e,labelTransformation:this._getPortLabelLayout(o,r.Point(e),i),portAttrs:o.attrs,portSize:o.size,labelSize:o.label.size}),t}.bind(this),u),u.result},_getPortLabelLayout:function(t,e,i){var n=this.portLabelLayoutNamespace,r=t.label.position.name||"left";return n[r]?n[r](e,i,t.label.position.args):null},_init:function(t){if(e.isObject(t.groups))for(var i=Object.keys(t.groups),n=0,r=i.length;n<r;n++){var o=i[n];this.groups[o]=this._evaluateGroup(t.groups[o])}for(var a=e.toArray(t.items),s=0,l=a.length;s<l;s++)this.ports.push(this._evaluatePort(a[s]))},_evaluateGroup:function(t){return e.merge(t,{position:this._getPosition(t.position,!0),label:this._getLabel(t,!0)})},_evaluatePort:function(t){var i=e.assign({},t),n=this.getGroup(t.group);return i.markup=i.markup||n.markup,i.attrs=e.merge({},n.attrs,i.attrs),i.position=this._createPositionNode(n,i),i.label=e.merge({},n.label,this._getLabel(i)),i.z=this._getZIndex(n,i),i.size=e.assign({},n.size,i.size),i},_getZIndex:function(t,i){
return e.isNumber(i.z)?i.z:e.isNumber(t.z)||"auto"===t.z?t.z:"auto"},_createPositionNode:function(t,i){return e.merge({name:"left",args:{}},t.position,{args:i.args})},_getPosition:function(t,i){var n,r={};e.isFunction(t)?(n="fn",r.fn=t):e.isString(t)?n=t:void 0===t?n=i?"left":null:Array.isArray(t)?(n="absolute",r.x=t[0],r.y=t[1]):e.isObject(t)&&(n=t.name,e.assign(r,t.args));var o={args:r};return n&&(o.name=n),o},_getLabel:function(t,e){var i=t.label||{},n=i;return n.position=this._getPosition(i.position,e),n}},e.assign(t.dia.Element.prototype,{_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var t=this.get("ports")||{},i={};e.toArray(t.items).forEach(function(t){i[t.id]=!0});var n=this.previous("ports")||{},r={};e.toArray(n.items).forEach(function(t){i[t.id]||(r[t.id]=!0)});var o=this.graph;o&&!e.isEmpty(r)&&(o.getConnectedLinks(this,{inbound:!0}).forEach(function(t){r[t.get("target").port]&&t.remove()}),o.getConnectedLinks(this,{outbound:!0}).forEach(function(t){r[t.get("source").port]&&t.remove()}))},hasPorts:function(){var t=this.prop("ports/items");return Array.isArray(t)&&0<t.length},hasPort:function(t){return-1!==this.getPortIndex(t)},getPorts:function(){return e.cloneDeep(this.prop("ports/items"))||[]},getPort:function(t){return e.cloneDeep(e.toArray(this.prop("ports/items")).find(function(e){return e.id&&e.id===t}))},getPortsPositions:function(t){return this._portSettingsData.getGroupPortsMetrics(t,r.Rect(this.size())).reduce(function(t,e){var i=e.portTransformation;return t[e.portId]={x:i.x,y:i.y,angle:i.angle},t},{})},getPortIndex:function(t){var i=e.isObject(t)?t.id:t;return this._isValidPortId(i)?e.toArray(this.prop("ports/items")).findIndex(function(t){return t.id===i}):-1},addPort:function(t,i){if(!e.isObject(t)||Array.isArray(t))throw new Error("Element: addPort requires an object.");var n=e.assign([],this.prop("ports/items"));return n.push(t),this.prop("ports/items",n,i),this},portProp:function(t,i,n,r){var o=this.getPortIndex(t);if(-1===o)throw new Error("Element: unable to find port with id "+t);var a=Array.prototype.slice.call(arguments,1);return Array.isArray(i)?a[0]=["ports","items",o].concat(i):e.isString(i)?a[0]=["ports/items/",o,"/",i].join(""):(a=["ports/items/"+o],e.isPlainObject(i)&&(a.push(i),a.push(n))),this.prop.apply(this,a)},_validatePorts:function(){var i=this.get("ports")||{},n=[];i=i||{};var r=e.toArray(i.items);return r.forEach(function(t){"object"!=typeof t&&n.push("Element: invalid port ",t),this._isValidPortId(t.id)||(t.id=e.uuid())},this),t.util.uniq(r,"id").length!==r.length&&n.push("Element: found id duplicities in ports."),n},_isValidPortId:function(t){return null!=t&&!e.isObject(t)},addPorts:function(t,i){return t.length&&this.prop("ports/items",e.assign([],this.prop("ports/items")).concat(t),i),this},removePort:function(t,i){var n=i||{},r=e.assign([],this.prop("ports/items")),o=this.getPortIndex(t);return-1!==o&&(r.splice(o,1),n.rewrite=!0,this.prop("ports/items",r,n)),this},removePorts:function(t,i){var n;if(Array.isArray(t)){if(n=i||{},t.length){n.rewrite=!0;var r=e.assign([],this.prop("ports/items")).filter(function(i){return!t.some(function(t){var n=e.isObject(t)?t.id:t;return i.id===n})});this.prop("ports/items",r,n)}}else(n=t||{}).rewrite=!0,this.prop("ports/items",[],n);return this},_createPortData:function(){var t,e=this._validatePorts();if(0<e.length)throw this.set("ports",this.previous("ports")),new Error(e.join(" "));this._portSettingsData&&(t=this._portSettingsData.getPorts()),this._portSettingsData=new i(this.get("ports"));var n=this._portSettingsData.getPorts();if(t){var r=n.filter(function(e){if(!t.find(function(t){return t.id===e.id}))return e}),o=t.filter(function(t){if(!n.find(function(e){return e.id===t.id}))return t});0<o.length&&this.trigger("ports:remove",this,o),0<r.length&&this.trigger("ports:add",this,r)}}}),e.assign(t.dia.ElementView.prototype,{portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._portElementsCache={},this.listenTo(this.model,"change:ports",function(){this._refreshPorts()})},_refreshPorts:function(){this._removePorts(),this._portElementsCache={},this._renderPorts()},_renderPorts:function(){for(var t=[],i=this._getContainerElement(),n=0,r=i.node.childNodes.length;n<r;n++)t.push(i.node.childNodes[n]);var o=e.groupBy(this.model._portSettingsData.getPorts(),"z");e.toArray(o.auto).forEach(function(e){var n=this._getPortElement(e);i.append(n),t.push(n)},this);for(var a=Object.keys(o),s=0;s<a.length;s++){var l=a[s];if("auto"!==l){var c=parseInt(l,10);this._appendPorts(o[l],c,t)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(t,i,n){var r=this._getContainerElement(),a=e.toArray(t).map(this._getPortElement,this);n[i]||i<0?o(n[Math.max(i,0)]).before(a):r.append(a)},_getPortElement:function(t){return this._portElementsCache[t.id]?this._portElementsCache[t.id].portElement:this._createPortElement(t)},findPortNode:function(t,e){var i=this._portElementsCache[t];if(!i)return null;var n=i.portContentElement.node,r=i.portContentSelectors;return this.findBySelector(e,n,r)[0]},_updatePorts:function(){this._updatePortGroup(void 0),Object.keys(this.model._portSettingsData.groups).forEach(this._updatePortGroup,this)},_removePorts:function(){e.invoke(this._portElementsCache,"portElement.remove")},_createPortElement:function(t){var i,n,r,a=o(this.portContainerMarkup).addClass("joint-port"),s=this._getPortMarkup(t);if(Array.isArray(s)){var l=this.parseDOMJSON(s,a.node),c=l.fragment;i=1<c.childNodes.length?o("g").append(c):o(c.firstChild),r=l.selectors}else i=o(s),Array.isArray(i)&&(i=o("g").append(i));if(!i)throw new Error("ElementView: Invalid port markup.");i.attr({port:t.id,"port-group":t.group});var g,h,u=this._getPortLabelMarkup(t.label);if(Array.isArray(u)){var d=this.parseDOMJSON(u,a.node),p=d.fragment;n=1<p.childNodes.length?o("g").append(p):o(p.firstChild),g=d.selectors}else n=o(u),Array.isArray(n)&&(n=o("g").append(n));if(!n)throw new Error("ElementView: Invalid port label markup.");if(r&&g){for(var f in g)if(r[f]&&f!==this.selector)throw new Error("ElementView: selectors within port must be unique.");h=e.assign({},r,g)}else h=r||g;return a.append([i.addClass("joint-port-body"),n.addClass("joint-port-label")]),this._portElementsCache[t.id]={portElement:a,portLabelElement:n,portSelectors:h,portLabelSelectors:g,portContentElement:i,portContentSelectors:r},a},_updatePortGroup:function(t){for(var e=r.Rect(this.model.size()),i=this.model._portSettingsData.getGroupPortsMetrics(t,e),n=0,o=i.length;n<o;n++){var a=i[n],s=a.portId,l=this._portElementsCache[s]||{},c=a.portTransformation;this.applyPortTransform(l.portElement,c),this.updateDOMSubtreeAttributes(l.portElement.node,a.portAttrs,{rootBBox:new r.Rect(a.portSize),selectors:l.portSelectors});var g=a.labelTransformation;g&&(this.applyPortTransform(l.portLabelElement,g,-c.angle||0),this.updateDOMSubtreeAttributes(l.portLabelElement.node,g.attrs,{rootBBox:new r.Rect(a.labelSize),selectors:l.portLabelSelectors}))}},applyPortTransform:function(t,e,i){var n=o.createSVGMatrix().rotate(i||0).translate(e.x||0,e.y||0).rotate(e.angle||0);t.transform(n,{absolute:!0})},_getPortMarkup:function(t){return t.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(t){return t.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}})}(a,a.util),a.dia.Element.define("basic.Generic",{attrs:{".":{fill:"#ffffff",stroke:"none"}}}),a.shapes.basic.Generic.define("basic.Rect",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:100,height:60},text:{fill:"#000000",text:"","font-size":14,"ref-x":.5,"ref-y":.5,"text-anchor":"middle","y-alignment":"middle","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><rect/></g><text/></g>'}),a.shapes.basic.TextView=a.dia.ElementView.extend({initialize:function(){a.dia.ElementView.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:attrs",this.resize)}}),a.shapes.basic.Generic.define("basic.Text",{attrs:{text:{"font-size":18,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><text/></g></g>'}),a.shapes.basic.Generic.define("basic.Circle",{size:{width:60,height:60},attrs:{circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g><text/></g>'}),a.shapes.basic.Generic.define("basic.Ellipse",{size:{width:60,height:40},attrs:{ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse/></g><text/></g>'}),a.shapes.basic.Generic.define("basic.Polygon",{size:{width:60,height:40},attrs:{polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),a.shapes.basic.Generic.define("basic.Polyline",{size:{width:60,height:40},attrs:{polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polyline/></g><text/></g>'}),a.shapes.basic.Generic.define("basic.Image",{attrs:{text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><image/></g><text/></g>'}),a.shapes.basic.Generic.define("basic.Path",{size:{width:60,height:60},attrs:{path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><path/></g><text/></g>'}),a.shapes.basic.Path.define("basic.Rhombus",{attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":.5,"ref-dy":null,"y-alignment":"middle"}}}),a.shapes.basic.PortsModelInterface={initialize:function(){this.updatePortsAttrs(),this.on("change:inPorts change:outPorts",this.updatePortsAttrs,this),this.constructor.__super__.constructor.__super__.initialize.apply(this,arguments)},updatePortsAttrs:function(t){if(this._portSelectors){var e=a.util.omit(this.get("attrs"),this._portSelectors);this.set("attrs",e,{silent:!0})}this._portSelectors=[];var i={};a.util.toArray(this.get("inPorts")).forEach(function(t,e,n){var r=this.getPortAttrs(t,e,n.length,".inPorts","in");this._portSelectors=this._portSelectors.concat(Object.keys(r)),a.util.assign(i,r)},this),a.util.toArray(this.get("outPorts")).forEach(function(t,e,n){var r=this.getPortAttrs(t,e,n.length,".outPorts","out");this._portSelectors=this._portSelectors.concat(Object.keys(r)),a.util.assign(i,r)},this),this.attr(i,{silent:!0}),this.processPorts(),this.trigger("process:ports")},getPortSelector:function(t){var e=".inPorts",i=this.get("inPorts").indexOf(t);if(i<0&&(e=".outPorts",(i=this.get("outPorts").indexOf(t))<0))throw new Error("getPortSelector(): Port doesn't exist.");return e+">g:nth-child("+(i+1)+")>.port-body"}},a.shapes.basic.PortsViewInterface={initialize:function(){this.listenTo(this.model,"process:ports",this.update),a.dia.ElementView.prototype.initialize.apply(this,arguments)},update:function(){this.renderPorts(),a.dia.ElementView.prototype.update.apply(this,arguments)},renderPorts:function(){var t=this.$(".inPorts").empty(),e=this.$(".outPorts").empty(),i=a.util.template(this.model.portMarkup),n=a.util.toArray(this.model.ports);n.filter(function(t){return"in"===t.type}).forEach(function(e,n){t.append(o(i({id:n,port:e})).node)}),n.filter(function(t){return"out"===t.type}).forEach(function(t,n){e.append(o(i({id:n,port:t})).node)})}},a.shapes.basic.Generic.define("basic.TextBlock",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000","font-size":14,"font-family":"Arial, helvetica, sans-serif"},".content":{text:"","ref-x":.5,"ref-y":.5,"y-alignment":"middle","x-alignment":"middle"}},content:""},{markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',a.env.test("svgforeignobject")?'<foreignObject class="fobj"><body xmlns="http://www.w3.org/1999/xhtml"><div class="content"/></body></foreignObject>':'<text class="content"/>',"</g>"].join(""),initialize:function(){this.listenTo(this,"change:size",this.updateSize),this.listenTo(this,"change:content",this.updateContent),this.updateSize(this,this.get("size")),this.updateContent(this,this.get("content")),a.shapes.basic.Generic.prototype.initialize.apply(this,arguments)},updateSize:function(t,e){this.attr({".fobj":a.util.assign({},e),div:{style:a.util.assign({},e)}})},updateContent:function(t,e){a.env.test("svgforeignobject")?this.attr({".content":{html:a.util.sanitizeHTML(e)}}):this.attr({".content":{text:e}})},setForeignObjectSize:function(){this.updateSize.apply(this,arguments)},setDivContent:function(){this.updateContent.apply(this,arguments)}}),a.shapes.basic.TextBlockView=a.dia.ElementView.extend({initialize:function(){a.dia.ElementView.prototype.initialize.apply(this,arguments),this.noSVGForeignObjectElement=!a.env.test("svgforeignobject"),a.env.test("svgforeignobject")||this.listenTo(this.model,"change:content change:size",function(t){this.updateContent(t)})},update:function(t,e){var i=this.model;if(a.env.test("svgforeignobject"))a.dia.ElementView.prototype.update.call(this,i,e);else{var n=a.util.omit(e||i.get("attrs"),".content");a.dia.ElementView.prototype.update.call(this,i,n),e&&!a.util.has(e,".content")||this.updateContent(i,e)}},updateContent:function(t,e){var i=a.util.merge({},(e||t.get("attrs"))[".content"]);i=a.util.omit(i,"text");var n=a.util.breakText(t.get("content"),t.get("size"),i,{svgDocument:this.paper.svg}),r=a.util.setByPath({},".content",i,"/");r[".content"].text=n,a.dia.ElementView.prototype.update.call(this,t,r)}}),function(t,e,i,n){"use strict";var r=t.Element;r.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),r.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),r.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]}),r.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]}),r.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]}),r.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]}),r.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),r.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),r.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),r.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),r.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]}),a.dia.Element.define("standard.Cylinder",{attrs:{body:{lateralArea:10,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:10,refRx:"50%",ry:10,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(t,i){if(void 0===t)return this.attr("body/lateralArea");var n={lateralArea:t},r=e.isPercentage(t)?{refCy:t,refRy:t,cy:null,ry:null}:{refCy:null,refRy:null,cy:t,ry:t};return this.attr({body:n,top:r},i)}},{attributes:{lateralArea:{set:function(t,i){var r=e.isPercentage(t);r&&(t=parseFloat(t)/100);var o=i.x,a=i.y,s=i.width,l=i.height,c=s/2,g=r?l*t:t,h=n.KAPPA,u=h*c,d=h*(r?l*t:t),p=o+s/2,f=o+s,I=a+g,m=I-g,A=a+l-g,C=a+l;return{d:["M",o,I,"L",o,A,"C",o,A+d,p-u,C,p,C,"C",p+u,C,f,A+d,f,A,"L",f,I,"C",f,I-d,p+u,m,p,m,"C",p-u,m,o,I-d,o,I,"Z"].join(" ")}}}}});var o=i.test("svgforeignobject")?{tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}};r.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},o]},{attributes:{text:{set:function(i,n,r,o){if(!(r instanceof HTMLElement)){var a=o.style||{},s={text:i,width:-5,height:"100%"},l=e.assign({textVerticalAnchor:"middle"},a);return t.attributes.textWrap.set.call(this,s,n,r,l),{fill:a.color||null}}r.textContent=i},position:function(t,e,i){if(i instanceof SVGElement)return e.center()}}}});var s=t.Link;s.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),s.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none"}},{tagName:"path",selector:"line",attributes:{fill:"none"}}]}),s.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none"}},{tagName:"path",selector:"line",attributes:{fill:"none"}}]})}(a.dia,a.util,a.env,o),a.routers.manhattan=function(t,e,i){"use strict";function n(t){this.map={},this.options=t,this.mapGridSize=100}function r(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}function o(t,e){return e&&e.paddingBox?t.sourceBBox.clone().moveAndExpand(e.paddingBox):t.sourceBBox.clone()}function a(t,e){return e&&e.paddingBox?t.targetBBox.clone().moveAndExpand(e.paddingBox):t.targetBBox.clone()}function s(t,e){return t.sourceAnchor?t.sourceAnchor:o(t,e).center()}function l(e,i,n,r,o){var a,s,l,c,g,h,u,d,p,f,I=360/n,m=e.theta((a=e,s=i,l=r,c=o.step,g=s.x-a.x,h=s.y-a.y,u=g/l.x,d=h/l.y,p=u*c,f=d*c,new t.Point(a.x+p,a.y+f))),A=t.normalizeAngle(m+I/2);return I*Math.floor(A/I)}function c(t,e){var i=Math.abs(t-e);return 180<i?360-i:i}function g(t,e){if(!t)return e;var i=Math.abs(t),n=Math.round(i/e);return n?e+(i-n*e)/n:i}function h(t,e){return t.round(e)}function u(e,i,n){return h((r=e.clone(),a=(o=i).source,s=t.snapToGrid(r.x-a.x,o.x)+a.x,l=t.snapToGrid(r.y-a.y,o.y)+a.y,new t.Point(s,l)),n);var r,o,a,s,l}function d(t){return t.clone().toString()}function p(e){return new t.Point(0===e.x?0:Math.abs(e.x)/e.x,0===e.y?0:Math.abs(e.y)/e.y)}function f(t,e,i,n,r,o,a){for(var s,l=[],c=p(r.difference(i)),g=d(i),h=t[g];h;){var u=p((s=e[g]).difference(h));u.equals(c)||(l.unshift(s),c=u),h=t[g=d(h)]}var f=e[g];return p(f.difference(n)).equals(c)||l.unshift(f),l}function I(t,e){for(var i=1/0,n=0,r=e.length;n<r;n++){var o=t.manhattanDistance(e[n]);o<i&&(i=o)}return i}function m(e,n,r,o,a){var s=a.precision,l=a.directionMap,c=e.difference(n.center()),g=i.isObject(l)?Object.keys(l):[],h=i.toArray(r),d=g.reduce(function(i,r){if(h.includes(r)){for(var a,g=l[r],d=new t.Point(e.x+g.x*(Math.abs(c.x)+n.width),e.y+g.y*(Math.abs(c.y)+n.height)),p=new t.Line(e,d).intersect(n)||[],f=p.length,I=null,m=0;m<f;m++){var A=p[m],C=e.squaredDistance(A);(void 0===a||a<C)&&(a=C,I=A)}if(I){var v=u(I,o,s);n.containsPoint(v)&&(v=u(v.offset(g.x*o.x,g.y*o.y),o,s)),i.push(v)}}return i},[]);return n.containsPoint(e)||d.push(u(e,o,s)),d}function A(e,n,o,p){var A,C,v,w,b=p.precision;A=e instanceof t.Rect?h(s(this,p).clone(),b):h(e.clone(),b),C=n instanceof t.Rect?h((v=this,w=p,v.targetAnchor?v.targetAnchor:a(v,w).center()).clone(),b):h(n.clone(),b);var y,N,M,x,k,z,D,S,j,Z,G=(y=p.step,M=C,{source:(N=A).clone(),x:g(M.x-N.x,y),y:g(M.y-N.y,y)});if(z=e instanceof t.Rect?m(x=A,e,p.startDirections,G,p):[x=A],D=n instanceof t.Rect?m(k=C,n,p.endDirections,G,p):[k=C],z=z.filter(o.isPointAccessible,o),D=D.filter(o.isPointAccessible,o),0<z.length&&0<D.length){for(var P=new r,L={},T={},B={},O=0,Y=z.length;O<Y;O++){var E=z[O],W=d(E);P.add(W,I(E,D)),L[W]=E,B[W]=0}var R,X,V=p.previousDirectionAngle,U=void 0===V,F=p.directions;S=G,Z=(j=p).step,i.toArray(j.directions).forEach(function(t){t.gridOffsetX=t.offsetX/Z*S.x,t.gridOffsetY=t.offsetY/Z*S.y});for(var J=F.length,H=i.toArray(D).reduce(function(t,e){var i=d(e);return t.push(i),t},[]),Q=p.maximumLoops;!P.isEmpty()&&0<Q;){var _,K=P.pop(),q=L[K],$=T[K],tt=B[K],et=void 0===$,it=q.equals(x);if(_=et?U?it?null:l(x,q,J,G,p):V:l($,q,J,G,p),0<=H.indexOf(K))return p.previousDirectionAngle=_,f(T,L,q,x,k);for(O=0;O<J;O++){var nt=(R=F[O]).angle;if(X=c(_,nt),U&&it||!(X>p.maxAllowedDirectionChange)){var rt=u(q.clone().offset(R.gridOffsetX,R.gridOffsetY),G,b),ot=d(rt);if(!P.isClose(ot)&&o.isPointAccessible(rt)){if(0<=H.indexOf(ot)&&!rt.equals(k)&&c(nt,l(rt,k,J,G,p))>p.maxAllowedDirectionChange)continue;var at=tt+R.cost+(it?0:p.penalties[X]);(!P.isOpen(ot)||at<B[ot])&&(L[ot]=rt,T[ot]=q,B[ot]=at,P.add(ot,at+I(rt,D)))}}}Q--}}return p.fallbackRoute.call(this,x,k,p)}function C(e,r,l){!function(e){if(e.directions=i.result(e,"directions"),e.penalties=i.result(e,"penalties"),e.paddingBox=i.result(e,"paddingBox"),e.padding=i.result(e,"padding"),e.padding){var n=i.normalizeSides(e.padding);e.paddingBox={x:-n.left,y:-n.top,width:n.left+n.right,height:n.top+n.bottom}}i.toArray(e.directions).forEach(function(e){var i=new t.Point(0,0),n=new t.Point(e.offsetX,e.offsetY);e.angle=t.normalizeAngle(i.theta(n))})}(r),l.options.perpendicular=!!r.perpendicular;for(var c,g,h=o(l,r),u=a(l,r),d=s(l,r),p=new n(r).build(l.paper.model,l.model),f=i.toArray(e).map(t.Point),I=[],m=d,C=0,v=f.length;C<=v;C++){var w=null;if(g=c||h,!(c=f[C])&&(c=u,(!l.model.get("source").id||!l.model.get("target").id)&&i.isFunction(r.draggingRoute))){var b=g===h?d:g,y=c.origin();w=r.draggingRoute.call(l,b,y,r)}if(null===(w=w||A.call(l,g,c,p,r)))return r.fallbackRouter(e,r,l);var N=w[0];N&&N.equals(m)&&w.shift(),m=w[w.length-1]||m,Array.prototype.push.apply(I,w)}return I}var v={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var t=this.step,e=this.cost();return[{offsetX:t,offsetY:0,cost:e},{offsetX:0,offsetY:t,cost:e},{offsetX:-t,offsetY:0,cost:e},{offsetX:0,offsetY:-t,cost:e}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var t=this.step;return{x:-t,y:-t,width:2*t,height:2*t}},fallbackRouter:function(t,n,r){if(!i.isFunction(e.routers.orthogonal))throw new Error("Manhattan requires the orthogonal router as default fallback.");return e.routers.orthogonal(t,i.assign({},v,n),r)},fallbackRoute:function(t,e,i){return null},draggingRoute:null};return n.prototype.build=function(t,e){var n=this.options,r=i.toArray(n.excludeEnds).reduce(function(i,n){var r=e.get(n);if(r){var o=t.getCell(r.id);o&&i.push(o)}return i},[]),o=[],a=t.getCell(e.get("source").id);a&&(o=i.union(o,a.getAncestors().map(function(t){return t.id})));var s=t.getCell(e.get("target").id);s&&(o=i.union(o,s.getAncestors().map(function(t){return t.id})));var l=this.mapGridSize;return t.getElements().reduce(function(t,e){var a=i.toArray(n.excludeTypes).includes(e.get("type")),s=r.find(function(t){return t.id===e.id}),c=o.includes(e.id);if(!(a||s||c))for(var g=e.getBBox().moveAndExpand(n.paddingBox),h=g.origin().snapToGrid(l),u=g.corner().snapToGrid(l),d=h.x;d<=u.x;d+=l)for(var p=h.y;p<=u.y;p+=l){var f=d+"@"+p;t[f]=t[f]||[],t[f].push(g)}return t},this.map),this},n.prototype.isPointAccessible=function(t){var e=t.clone().snapToGrid(this.mapGridSize).toString();return i.toArray(this.map[e]).every(function(e){return!e.containsPoint(t)})},r.prototype.add=function(t,i){this.hash[t]?this.items.splice(this.items.indexOf(t),1):this.hash[t]=this.OPEN,this.values[t]=i;var n=e.util.sortedIndex(this.items,t,function(t){return this.values[t]}.bind(this));this.items.splice(n,0,t)},r.prototype.remove=function(t){this.hash[t]=this.CLOSE},r.prototype.isOpen=function(t){return this.hash[t]===this.OPEN},r.prototype.isClose=function(t){return this.hash[t]===this.CLOSE},r.prototype.isEmpty=function(){return 0===this.items.length},r.prototype.pop=function(){var t=this.items.shift();return this.remove(t),t},function(t,e,n){return C(t,i.assign({},v,e),n)}}(r,a,a.util),a.routers.metro=function(t){var e={maxAllowedDirectionChange:45,diagonalCost:function(){var t=this.step;return Math.ceil(Math.sqrt(t*t<<1))},directions:function(){var t=this.step,e=this.cost(),i=this.diagonalCost();return[{offsetX:t,offsetY:0,cost:e},{offsetX:t,offsetY:t,cost:i},{offsetX:0,offsetY:t,cost:e},{offsetX:-t,offsetY:t,cost:i},{offsetX:-t,offsetY:0,cost:e},{offsetX:-t,offsetY:-t,cost:i},{offsetX:0,offsetY:-t,cost:e},{offsetX:t,offsetY:-t,cost:i}]},fallbackRoute:function(t,e,i){var n=t.theta(e),o=[],a={x:e.x,y:t.y},s={x:t.x,y:e.y};if(90<n%180){var l=a;a=s,s=l}var c=n%90<45?a:s,g=new r.Line(t,c),h=90*Math.ceil(n/90),u=r.Point.fromPolar(g.squaredLength(),r.toRad(h+135),c),d=new r.Line(e,u),p=g.intersection(d),f=p||e,I=p?f:t,m=360/i.directions.length,A=I.theta(e),C=r.normalizeAngle(A+m/2),v=m*Math.floor(C/m);return i.previousDirectionAngle=v,f&&o.push(f.round()),o.push(e),o}};return function(i,n,r){if(!t.isFunction(a.routers.manhattan))throw new Error("Metro requires the manhattan router.");return a.routers.manhattan(i,t.assign({},e,n),r)}}(a.util),a.routers.normal=function(t,e,i){return t},a.routers.oneSide=function(t,e,i){var n,r,o,s=e.side||"bottom",l=a.util.normalizeSides(e.padding||40),c=i.sourceBBox,g=i.targetBBox,h=c.center(),u=g.center();switch(s){case"bottom":o=1,n="y",r="height";break;case"top":o=-1,n="y",r="height";break;case"left":o=-1,n="x",r="width";break;case"right":o=1,n="x",r="width";break;default:throw new Error("Router: invalid side")}return h[n]+=o*(c[r]/2+l[s]),u[n]+=o*(g[r]/2+l[s]),0<o*(h[n]-u[n])?u[n]=h[n]:h[n]=u[n],[h].concat(t,u)},a.routers.orthogonal=function(t){function e(t,e,i){var n=new r.Point(t.x,e.y);return i.containsPoint(n)&&(n=new r.Point(e.x,t.y)),n}function i(t,e){return t["W"===e||"E"===e?"width":"height"]}function n(t,e){return t.x===e.x?t.y>e.y?"N":"S":t.y===e.y?t.x>e.x?"W":"E":null}function o(t){return new r.Rect(t.x,t.y,0,0)}function a(e){var i=t.normalizeSides(e.padding||e.elementPadding||20);return{x:-i.left,y:-i.top,width:i.left+i.right,height:i.top+i.bottom}}function s(t,e){return t.sourceBBox.clone().moveAndExpand(a(e))}function l(t,e){return t.targetBBox.clone().moveAndExpand(a(e))}function c(t,e,i){
var o=new r.Point(t.x,e.y),a=new r.Point(e.x,t.y),s=n(t,o),l=n(t,a),c=p[i],g=s===i||s!==c&&(l===c||l!==i)?o:a;return{points:[g],direction:n(g,e)}}function g(t,i,r){var o=e(t,i,r);return{points:[o],direction:n(o,i)}}function h(o,a,s,l){var c,g={},h=[new r.Point(o.x,a.y),new r.Point(a.x,o.y)],u=h.filter(function(t){return!s.containsPoint(t)}),d=u.filter(function(t){return n(t,o)!==l});if(0<d.length)c=(c=d.filter(function(t){return n(o,t)===l}).pop())||d[0],g.points=[c],g.direction=n(c,a);else{c=t.difference(h,u)[0];var p=new r.Point(a).move(c,-i(s,l)/2),f=e(p,o,s);g.points=[f,p],g.direction=n(p,a)}return g}function u(t,e,o,a){var s=g(e,t,a),l=s.points[0];if(o.containsPoint(l)){var h=(s=g(t,e,o)).points[0];if(a.containsPoint(h)){var u=new r.Point(t).move(h,-i(o,n(t,h))/2),d=new r.Point(e).move(l,-i(a,n(e,l))/2),p=new r.Line(u,d).midpoint(),f=g(t,p,o),I=c(p,e,f.direction);s.points=[f.points[0],I.points[0]],s.direction=I.direction}}return s}function d(t,i,o,a,s){var l,c,g,h={},u=o.union(a).inflate(1),d=u.center().distance(i)>u.center().distance(t),p=d?i:t,I=d?t:i;return c=e(l=s?(l=r.Point.fromPolar(u.width+u.height,f[s],p),u.pointNearestToPoint(l).move(l,-1)):u.pointNearestToPoint(p).move(p,1),I,u),l.round().equals(c.round())?(c=r.Point.fromPolar(u.width+u.height,r.toRad(l.theta(p))+Math.PI/2,I),g=e(l,c=u.pointNearestToPoint(c).move(I,1).round(),u),h.points=d?[c,g,l]:[l,g,c]):h.points=d?[c,l]:[l,c],h.direction=n(d?l:c,i),h}var p={N:"S",S:"N",E:"W",W:"E"},f={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};return function(e,i,p){var f,I,m,A,C,v=s(p,i),w=l(p,i),b=(I=i,(f=p).sourceAnchor?f.sourceAnchor:s(f,I).center()),y=(A=i,(m=p).targetAnchor?m.targetAnchor:l(m,A).center());v=v.union(o(b)),w=w.union(o(y)),(e=t.toArray(e).map(r.Point)).unshift(b),e.push(y);for(var N=[],M=0,x=e.length-1;M<x;M++){var k=null,z=e[M],D=e[M+1],S=!!n(z,D);if(0===M)M+1===x?v.intersect(w.clone().inflate(1))?k=d(z,D,v,w):S||(k=u(z,D,v,w)):v.containsPoint(D)?k=d(z,D,v,o(D).moveAndExpand(a(i))):S||(k=g(z,D,v));else if(M+1===x){var j=S&&n(D,z)===C;w.containsPoint(z)||j?k=d(z,D,o(z).moveAndExpand(a(i)),w,C):S||(k=h(z,D,w,C))}else S||(k=c(z,D,C));C=k?(Array.prototype.push.apply(N,k.points),k.direction):n(z,D),M+1<x&&N.push(D)}return N}}(a.util),a.connectors.normal=function(t,e,i,n){var o=n&&n.raw,a=[t].concat(i).concat([e]),s=new r.Polyline(a),l=new r.Path(s);return o?l:l.serialize()},a.connectors.rounded=function(t,e,i,n){n||(n={});var o,a=n.radius||10,s=n.raw,l=new r.Path;o=r.Path.createSegment("M",t),l.appendSegment(o);for(var c,g,h,u,d,p,f,I,m,A,C,v=0,w=i.length;v<w;v++)c=new r.Point(i[v]),g=i[v-1]||t,h=i[v+1]||e,u=d||c.distance(g)/2,d=c.distance(h)/2,p=-Math.min(a,u),f=-Math.min(a,d),I=c.clone().move(g,p).round(),m=c.clone().move(h,f).round(),A=new r.Point(1/3*I.x+2/3*c.x,2/3*c.y+1/3*I.y),C=new r.Point(1/3*m.x+2/3*c.x,2/3*c.y+1/3*m.y),o=r.Path.createSegment("L",I),l.appendSegment(o),o=r.Path.createSegment("C",A,C,m),l.appendSegment(o);return o=r.Path.createSegment("L",e),l.appendSegment(o),s?l:l.serialize()},a.connectors.smooth=function(t,e,i,n){var o,a=n&&n.raw;if(i&&0!==i.length){var s=[t].concat(i).concat([e]),l=r.Curve.throughPoints(s);o=new r.Path(l)}else{var c;if(o=new r.Path,c=r.Path.createSegment("M",t),o.appendSegment(c),Math.abs(t.x-e.x)>=Math.abs(t.y-e.y)){var g=(t.x+e.x)/2;c=r.Path.createSegment("C",g,t.y,g,e.y,e.x,e.y),o.appendSegment(c)}else{var h=(t.y+e.y)/2;c=r.Path.createSegment("C",t.x,h,e.x,h,e.x,e.y),o.appendSegment(c)}}return a?o:o.serialize()},a.connectors.jumpover=function(t,e){function i(e,i,n){var r=[].concat(e,n,i);return r.reduce(function(e,i,n){var o=r[n+1];return null!=o&&(e[n]=t.line(i,o)),e},[])}function n(){for(var t=this._jumpOverUpdateList,e=0;e<t.length;e++)t[e].update()}function r(e,i){return t.line(e,i).squaredLength()}function o(e,i,n){var r,o=new t.Path;return r=t.Path.createSegment("M",e[0].start),o.appendSegment(r),a.util.toArray(e).forEach(function(e,a){var s,l,c,g;if(e.isJump){if("arc"===n){s=-90,l=e.start.difference(e.end);var h=Number(l.x<0||0===l.x&&l.y<0);h&&(s+=180);var u,d=e.midpoint(),p=new t.Line(d,e.end).rotate(d,s);c=(u=new t.Line(e.start,d)).pointAt(2/3).rotate(e.start,s),g=p.pointAt(1/3).rotate(p.end,-s),r=t.Path.createSegment("C",c,g,p.end),o.appendSegment(r),u=new t.Line(d,e.end),c=p.pointAt(1/3).rotate(p.end,s),g=u.pointAt(1/3).rotate(e.end,-s),r=t.Path.createSegment("C",c,g,e.end),o.appendSegment(r)}else if("gap"===n)r=t.Path.createSegment("M",e.end),o.appendSegment(r);else if("cubic"===n){s=e.start.theta(e.end);var f=.6*i,I=1.35*i;l=e.start.difference(e.end),(h=Number(l.x<0||0===l.x&&l.y<0))&&(I*=-1),c=t.Point(e.start.x+f,e.start.y+I).rotate(e.start,s),g=t.Point(e.end.x-f,e.end.y+I).rotate(e.end,s),r=t.Path.createSegment("C",c,g,e.end),o.appendSegment(r)}}else r=t.Path.createSegment("L",e.end),o.appendSegment(r)}),o}var s=["arc","gap","cubic"],l=["smooth"];return function(a,c,g,h){var u,d;null==(d=(u=this).paper._jumpOverUpdateList)&&(d=u.paper._jumpOverUpdateList=[],u.paper.on("cell:pointerup",n),u.paper.model.on("reset",function(){d=u.paper._jumpOverUpdateList=[]})),d.indexOf(u)<0&&(d.push(u),u.listenToOnce(u.model,"change:connector remove",function(){d.splice(d.indexOf(u),1)}));var p=h.raw,f=h.size||5,I=h.jump&&(""+h.jump).toLowerCase(),m=h.ignoreConnectors||l;-1===s.indexOf(I)&&(I=s[0]);var A=this.paper,C=A.model.getLinks();if(1===C.length)return o(i(a,c,g),f,I);var v=this.model,w=C.indexOf(v),b=A.options.defaultConnector||{},y=C.filter(function(t,i){var n=t.get("connector")||b;return!(e.toArray(m).includes(n.name)||w<i&&"jumpover"===n.name)}),N=y.map(function(t){return A.findViewByModel(t)}),M=i(a,c,g),x=N.map(function(t){return null==t?[]:t===this?M:i(t.sourcePoint,t.targetPoint,t.route)},this),k=o(M.reduce(function(i,n){var o,a,s,l=y.reduce(function(t,i,r){if(i!==v){var o=(a=n,s=x[r],e.toArray(s).reduce(function(t,e){var i=a.intersection(e);return i&&t.push(i),t},[]));t.push.apply(t,o)}var a,s;return t},[]).sort(function(t,e){return r(n.start,t)-r(n.start,e)});return 0<l.length?i.push.apply(i,(o=n,s=f,(a=l).reduce(function(e,i,n){if(!0===i.skip)return e;var r=e.pop()||o,l=t.point(i).move(r.start,-s),c=t.point(i).move(r.start,+s),g=a[n+1];if(null!=g){var h=c.distance(g);h<=s&&(c=g.move(r.start,h),g.skip=!0)}else if(l.distance(r.end)<2*s+1)return e.push(r),e;if(c.distance(r.start)<2*s+1)return e.push(r),e;var u=t.line(l,c);return u.isJump=!0,e.push(t.line(r.start,l),u,t.line(c,r.end)),e},[]))):i.push(n),i},[]),f,I);return p?k:k.serialize()}}(r,a.util),function(t,e,i){function n(t,i,n){var r=t.toJSON();return r.angle=i||0,e.util.defaults({},n,r)}function r(e,i,r){return e.map(function(t,e,i){var r=this.pointAt((e+.5)/i.length);return(t.dx||t.dy)&&r.offset(t.dx||0,t.dy||0),n(r.round(),0,t)},t.line(i,r))}function o(e,i,r,o){var a=i.center(),s=i.width/i.height,l=i.topMiddle(),c=t.Ellipse.fromRect(i);return e.map(function(t,e,i){var g=r+o(e,i.length),h=l.clone().rotate(a,-g).scale(s,1,a),u=t.compensateRotation?-c.tangentTheta(h):0;return(t.dx||t.dy)&&h.offset(t.dx||0,t.dy||0),t.dr&&h.move(a,t.dr),n(h.round(),u,t)})}function a(e,n){var r=n.x;i.isString(r)&&(r=parseFloat(r)/100*e.width);var o=n.y;return i.isString(o)&&(o=parseFloat(o)/100*e.height),t.point(r||0,o||0)}e.layout.Port={absolute:function(t,e,i){return t.map(a.bind(null,e))},fn:function(t,e,i){return i.fn(t,e,i)},line:function(t,e,i){return r(t,a(e,i.start||e.origin()),a(e,i.end||e.corner()))},left:function(t,e,i){return r(t,e.origin(),e.bottomLeft())},right:function(t,e,i){return r(t,e.topRight(),e.corner())},top:function(t,e,i){return r(t,e.origin(),e.topRight())},bottom:function(t,e,i){return r(t,e.bottomLeft(),e.corner())},ellipseSpread:function(t,e,i){var n=i.startAngle||0,r=i.step||360/t.length;return o(t,e,n,function(t){return t*r})},ellipse:function(t,e,i){var n=i.startAngle||0,r=i.step||20;return o(t,e,n,function(t,e){return(t+.5-e/2)*r})}}}(r,a,a.util),function(t,e,i){function n(t,e){return i.defaultsDeep({},t,e,{x:0,y:0,angle:0,attrs:{".":{y:"0","text-anchor":"start"}}})}function r(t,e,r,a){a=i.defaults({},a,{offset:15});var s,l,c,g,h=e.center().theta(t),u=o(e),d=a.offset,p=0;g=h<u[1]||h>u[2]?(c=".3em",s=d,l=0,"start"):h<u[0]?(c="0",s=0,l=-d,r?(p=-90,"start"):"middle"):h<u[3]?(c=".3em",s=-d,l=0,"end"):(c=".6em",s=0,l=d,r?(p=90,"start"):"middle");var f=Math.round;return n({x:f(s),y:f(l),angle:p,attrs:{".":{y:c,"text-anchor":g}}})}function o(t){var e=t.center(),i=e.theta(t.origin()),n=e.theta(t.bottomLeft()),r=e.theta(t.corner());return[i,e.theta(t.topRight()),r,n]}function a(t,e,r,a){var s,l,c,g,h=e.center().theta(t),u=(a=i.defaults({},a,{offset:15})).offset,d=0,p=o(e);g=h<p[1]||h>p[2]?(c=".3em",s=-u,l=0,"end"):h<p[0]?(c=".6em",s=0,l=u,r?(d=90,"start"):"middle"):h<p[3]?(c=".3em",s=u,l=0,"start"):(c="0em",s=0,l=-u,r?(d=-90,"start"):"middle");var f=Math.round;return n({x:f(s),y:f(l),angle:d,attrs:{".":{y:c,"text-anchor":g}}})}function s(e,r,o){o=i.defaults({},o,{offset:20});var a,s=t.point(0,0),l=-e.theta(s),c=l,g=e.clone().move(s,o.offset).difference(e).round(),h=".3em";(l+90)%180==0?(a=r?"end":"middle",r||-270!==l||(h="0em")):-270<l&&l<-90?(a="start",c=l-180):a="end";var u=Math.round;return n({x:u(g.x),y:u(g.y),angle:r?c:0,attrs:{".":{y:h,"text-anchor":a}}})}e.layout.PortLabel={manual:function(t,e,i){return n(i,e)},left:function(t,e,i){return n(i,{x:-15,attrs:{".":{y:".3em","text-anchor":"end"}}})},right:function(t,e,i){return n(i,{x:15,attrs:{".":{y:".3em","text-anchor":"start"}}})},top:function(t,e,i){return n(i,{y:-15,attrs:{".":{"text-anchor":"middle"}}})},bottom:function(t,e,i){return n(i,{y:15,attrs:{".":{y:".6em","text-anchor":"middle"}}})},outsideOriented:function(t,e,i){return r(t,e,!0,i)},outside:function(t,e,i){return r(t,e,!1,i)},insideOriented:function(t,e,i){return a(t,e,!0,i)},inside:function(t,e,i){return a(t,e,!1,i)},radial:function(t,e,i){return s(t.difference(e.center()),!1,i)},radialOriented:function(t,e,i){return s(t.difference(e.center()),!0,i)}}}(r,a,a.util),a.highlighters.addClass={className:a.util.addClassNamePrefix("highlighted"),highlight:function(t,e,i){var n=(i||{}).className||this.className;o(e).addClass(n)},unhighlight:function(t,e,i){var n=(i||{}).className||this.className;o(e).removeClass(n)}},a.highlighters.opacity={highlight:function(t,e){o(e).addClass(a.util.addClassNamePrefix("highlight-opacity"))},unhighlight:function(t,e){o(e).removeClass(a.util.addClassNamePrefix("highlight-opacity"))}},a.highlighters.stroke={defaultOptions:{padding:3,rx:0,ry:0,attrs:{"stroke-width":3,stroke:"#FEB663"}},_views:{},getHighlighterId:function(t,e){return t.id+JSON.stringify(e)},removeHighlighter:function(t){this._views[t]&&(this._views[t].remove(),this._views[t]=null)},highlight:function(t,e,i){var n=this.getHighlighterId(e,i);if(!this._views[n]){var r,s=a.util.defaults(i||{},this.defaultOptions),l=o(e);try{var c=l.convertToPathData()}catch(t){r=l.bbox(!0),c=o.rectToPath(a.util.assign({},s,r))}var g=o("path").attr({d:c,"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"}).attr(s.attrs),h=l.getTransformToElement(t.el),u=s.padding;if(u){r||(r=l.bbox(!0));var d=r.x+r.width/2,p=r.y+r.height/2;r=o.transformRect(r,h);var f=Math.max(r.width,1),I=Math.max(r.height,1),m=(f+u)/f,A=(I+u)/I,C=o.createSVGMatrix({a:m,b:0,c:0,d:A,e:d-m*d,f:p-A*p});h=h.multiply(C)}g.transform(h);var v=this._views[n]=new a.mvc.View({svgElement:!0,className:"highlight-stroke",el:g.node}),w=this.removeHighlighter.bind(this,n),b=t.model;v.listenTo(b,"remove",w),v.listenTo(b.graph,"reset",w),t.vel.append(g)}},unhighlight:function(t,e,i){this.removeHighlighter(this.getHighlighterId(e,i))}},function(t,e){function i(t){return function(i,n,r,o){var a=!!o.rotate,s=a?i.getNodeUnrotatedBBox(n):i.getNodeBBox(n),l=s[t](),c=o.dx;if(c){var g=e.isPercentage(c);c=parseFloat(c),isFinite(c)&&(g&&(c/=100,c*=s.width),l.x+=c)}var h=o.dy;if(h){var u=e.isPercentage(h);h=parseFloat(h),isFinite(h)&&(u&&(h/=100,h*=s.height),l.y+=h)}return a?l.rotate(i.model.getBBox().center(),-i.model.angle()):l}}function n(t){return function(e,i,n,o){if(n instanceof Element){var a=this.paper.findView(n),s=a?a.getNodeBBox(n).center():new r.Point;return t.call(this,e,i,s,o)}return t.apply(this,arguments)}}t.anchors={center:i("center"),top:i("topMiddle"),bottom:i("bottomMiddle"),left:i("leftMiddle"),right:i("rightMiddle"),topLeft:i("origin"),topRight:i("topRight"),bottomLeft:i("bottomLeft"),bottomRight:i("corner"),perpendicular:n(function(t,e,i,n){var o=t.model.angle(),a=t.getNodeBBox(e),s=a.center(),l=a.origin(),c=a.corner(),g=n.padding;if(isFinite(g)||(g=0),l.y+g<=i.y&&i.y<=c.y-g){var h=i.y-s.y;s.x+=0===o||180===o?0:1*h/Math.tan(r.toRad(o)),s.y+=h}else if(l.x+g<=i.x&&i.x<=c.x-g){var u=i.x-s.x;s.y+=90===o||270===o?0:u*Math.tan(r.toRad(o)),s.x+=u}return s}),midSide:n(function(t,e,i,n){var r,o,a,s=!!n.rotate;s?(r=t.getNodeUnrotatedBBox(e),a=t.model.getBBox().center(),o=t.model.angle()):r=t.getNodeBBox(e);var l,c=n.padding;switch(isFinite(c)&&r.inflate(c),s&&i.rotate(a,o),r.sideNearestToPoint(i)){case"left":l=r.leftMiddle();break;case"right":l=r.rightMiddle();break;case"top":l=r.topMiddle();break;case"bottom":l=r.bottomMiddle()}return s?l.rotate(a,-o):l}),modelCenter:function(t,e){var i=t.model,n=i.getBBox(),o=n.center(),a=i.angle(),s=t.findAttribute("port",e);if(s){var l=i.portProp(s,"group"),c=i.getPortsPositions(l),g=new r.Point(c[s]).offset(n.origin());return g.rotate(o,-a),g}return o}}}(a,a.util),function(t,e,i,n){function r(t,i){return 1===t.length?t[0]:e.sortBy(t,function(t){return t.squaredDistance(i)})[0]}function o(t,e,i){if(!isFinite(i))return t;var n=t.distance(e);return 0===i&&0<n?t:t.move(e,-Math.min(i,n-1))}function a(t){var e=t.getAttribute("stroke-width");return null===e?0:parseFloat(e)||0}function s(t,e,i,n){var s=e.getNodeBBox(i);n.stroke&&s.inflate(a(i)/2);var l=t.intersect(s);return o(l?r(l,t.start):t.end,t.start,n.offset)}var l="segmentSubdivisons",c="shapeBBox";t.connectionPoints={anchor:function(t,e,i,n){return o(t.end,t.start,n.offset)},bbox:s,rectangle:function(t,e,i,n){var l=e.model.angle();if(0===l)return s(t,e,i,n);var c=e.getNodeUnrotatedBBox(i);n.stroke&&c.inflate(a(i)/2);var g=c.center(),h=t.clone().rotate(g,l),u=h.setLength(1e6).intersect(c);return o(u?r(u,h.start).rotate(g,-l):t.end,t.start,n.offset)},boundary:function(t,s,g,h){var u,d,p=h.selector,f=t.end;if(u="string"==typeof p?s.findBySelector(p)[0]:Array.isArray(p)?e.getByPath(g,p):function(t){if(!t)return null;var e=t;do{var i=e.tagName;if("string"!=typeof i)return null;if("G"===(i=i.toUpperCase()))e=e.firstElementChild;else{if("TITLE"!==i)break;e=e.nextElementSibling}}while(e);return e}(g),!n.isSVGGraphicsElement(u)){if(u===g||!n.isSVGGraphicsElement(g))return f;u=g}var I,m=s.getNodeShape(u),A=s.getNodeMatrix(u),C=s.getRootTranslateMatrix(),v=s.getRootRotateMatrix(),w=C.multiply(v).multiply(A),b=w.inverse(),y=n.transformLine(t,b),N=y.start.clone(),M=s.getNodeData(u);if(!1===h.insideout&&(M[c]||(M[c]=m.bbox()),M[c].containsPoint(N)))return f;if(m instanceof i.Path){var x=h.precision||2;M[l]||(M[l]=m.getSegmentSubdivisions({precision:x})),I={precision:x,segmentSubdivisions:M[l]}}!0===h.extrapolate&&y.setLength(1e6),(d=y.intersect(m,I))?n.isArray(d)&&(d=r(d,N)):!0===h.sticky&&(d=m instanceof i.Rect?m.pointNearestToPoint(N):m instanceof i.Ellipse?m.intersectionWithLineFromCenterToPoint(N):m.closestPoint(N,I));var k=d?n.transformPoint(d,w):f,z=h.offset||0;return h.stroke&&(z+=a(u)/2),o(k,t.start,z)}}}(a,a.util,r,o),function(t,e){function i(t,e){return 0===e?"0%":Math.round(t/e*100)+"%"}function n(t){return function(e,n,r,o){var a=n.model.angle(),s=n.getNodeUnrotatedBBox(r),l=n.model.getBBox().center();o.rotate(l,a);var c=o.x-s.x,g=o.y-s.y;return t&&(c=i(c,s.width),g=i(g,s.height)),e.anchor={name:"topLeft",args:{dx:c,dy:g,rotate:!0}},e}}t.connectionStrategies={useDefaults:e.noop,pinAbsolute:n(!1),pinRelative:n(!0)}}(a,a.util),function(t,e,i,n){function r(e,i,n){return t.connectionStrategies.pinRelative.call(this.paper,{},i,n,e,this.model).anchor}var o=t.dia.ToolView,a=t.mvc.View.extend({tagName:"circle",svgElement:!0,className:"marker-vertex",events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onDoubleClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},attributes:{r:6,fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move"},position:function(t,e){this.vel.attr({cx:t,cy:e})},onPointerDown:function(t){t.stopPropagation(),t.preventDefault(),this.options.paper.undelegateEvents(),this.delegateDocumentEvents(null,t.data),this.trigger("will-change")},onPointerMove:function(t){this.trigger("changing",this,t)},onDoubleClick:function(t){this.trigger("remove",this,t)},onPointerUp:function(t){this.trigger("changed",this,t),this.undelegateDocumentEvents(),this.options.paper.delegateEvents()}}),s=o.extend({name:"vertices",options:{handleClass:a,snapRadius:20,redundancyRemoval:!0,vertexAdding:!0},children:[{tagName:"path",selector:"connection",className:"joint-vertices-path",attributes:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"cell"}}],handles:null,events:{"mousedown .joint-vertices-path":"onPathPointerDown","touchstart .joint-vertices-path":"onPathPointerDown"},onRender:function(){this.resetHandles(),this.options.vertexAdding&&(this.renderChildren(),this.updatePath());for(var t=this.relatedView.model.vertices(),e=0,i=t.length;e<i;e++){var n=t[e],r=new this.options.handleClass({index:e,paper:this.paper});r.render(),r.position(n.x,n.y),this.simulateRelatedView(r.el),r.vel.appendTo(this.el),this.handles.push(r),this.startHandleListening(r)}return this},update:function(){return this.render(),this},updatePath:function(){var t=this.childNodes.connection;t&&t.setAttribute("d",this.relatedView.getConnection().serialize())},startHandleListening:function(t){var e=this.relatedView;e.can("vertexMove")&&(this.listenTo(t,"will-change",this.onHandleWillChange),this.listenTo(t,"changing",this.onHandleChanging),this.listenTo(t,"changed",this.onHandleChanged)),e.can("vertexRemove")&&this.listenTo(t,"remove",this.onHandleRemove)},resetHandles:function(){var t=this.handles;if(this.handles=[],this.stopListening(),Array.isArray(t))for(var e=0,i=t.length;e<i;e++)t[e].remove()},getNeighborPoints:function(t){var e=this.relatedView,i=e.model.vertices(),r=0<t?i[t-1]:e.sourceAnchor,o=t<i.length-1?i[t+1]:e.targetAnchor;return{prev:new n.Point(r),next:new n.Point(o)}},onHandleWillChange:function(t,e){this.focus(),this.relatedView.model.startBatch("vertex-move",{ui:!0,tool:this.cid})},onHandleChanging:function(t,i){var n=this.relatedView,r=n.paper,o=t.options.index,a=e.normalizeEvent(i),s=r.snapToGrid(a.clientX,a.clientY).toJSON();this.snapVertex(s,o),n.model.vertex(o,s,{ui:!0,tool:this.cid}),t.position(s.x,s.y)},snapVertex:function(t,e){var i=this.options.snapRadius;if(0<i){var n=this.getNeighborPoints(e),r=n.prev,o=n.next;Math.abs(t.x-r.x)<i?t.x=r.x:Math.abs(t.x-o.x)<i&&(t.x=o.x),Math.abs(t.y-r.y)<i?t.y=n.prev.y:Math.abs(t.y-o.y)<i&&(t.y=o.y)}},onHandleChanged:function(t,e){if(this.options.vertexAdding&&this.updatePath(),this.options.redundancyRemoval){var i=this.relatedView;i.removeRedundantLinearVertices({ui:!0,tool:this.cid})&&this.render(),this.blur(),i.model.stopBatch("vertex-move",{ui:!0,tool:this.cid}),this.eventData(e).vertexAdded&&i.model.stopBatch("vertex-add",{ui:!0,tool:this.cid})}},onHandleRemove:function(t){var e=t.options.index;this.relatedView.model.removeVertex(e,{ui:!0})},onPathPointerDown:function(t){t.stopPropagation(),t.preventDefault();var i=e.normalizeEvent(t),n=this.paper.snapToGrid(i.clientX,i.clientY).toJSON(),r=this.relatedView;r.model.startBatch("vertex-add",{ui:!0,tool:this.cid});var o=r.getVertexIndex(n.x,n.y);this.snapVertex(n,o),r.model.insertVertex(o,n,{ui:!0,tool:this.cid}),this.render();var a=this.handles[o];this.eventData(t,{vertexAdded:!0}),a.onPointerDown(t)},onRemove:function(){this.resetHandles()}},{VertexHandle:a}),l=t.mvc.View.extend({tagName:"g",svgElement:!0,className:"marker-segment",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},children:[{tagName:"line",selector:"line",attributes:{stroke:"#33334F","stroke-width":2,fill:"none","pointer-events":"none"}},{tagName:"rect",selector:"handle",attributes:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#33334F",stroke:"#FFFFFF","stroke-width":2}}],onRender:function(){this.renderChildren()},position:function(t,e,r,o){var a=i.createSVGMatrix().translate(t,e).rotate(r),s=this.childNodes.handle;s.setAttribute("transform",i.matrixToTransformString(a)),s.setAttribute("cursor",r%180==0?"row-resize":"col-resize");var l=o.getClosestPoint(new n.Point(t,e)),c=this.childNodes.line;c.setAttribute("x1",t),c.setAttribute("y1",e),c.setAttribute("x2",l.x),c.setAttribute("y2",l.y)},onPointerDown:function(t){this.trigger("change:start",this,t),t.stopPropagation(),t.preventDefault(),this.options.paper.undelegateEvents(),this.delegateDocumentEvents(null,t.data)},onPointerMove:function(t){this.trigger("changing",this,t)},onPointerUp:function(t){this.undelegateDocumentEvents(),this.options.paper.delegateEvents(),this.trigger("change:end",this,t)},show:function(){this.el.style.display=""},hide:function(){this.el.style.display="none"}}),c=o.extend({name:"segments",precision:.5,options:{handleClass:l,segmentLengthThreshold:40,redundancyRemoval:!0,anchor:r,snapRadius:10,snapHandle:!0},handles:null,onRender:function(){this.resetHandles();var t=this.relatedView,e=t.model.vertices();e.unshift(t.sourcePoint),e.push(t.targetPoint);for(var i=0,n=e.length;i<n-1;i++){var r=e[i],o=e[i+1],a=this.renderHandle(r,o);this.simulateRelatedView(a.el),this.handles.push(a),a.options.index=i}return this},renderHandle:function(t,e){var i=new this.options.handleClass({paper:this.paper});return i.render(),this.updateHandle(i,t,e),i.vel.appendTo(this.el),this.startHandleListening(i),i},update:function(){return this.render(),this},startHandleListening:function(t){this.listenTo(t,"change:start",this.onHandleChangeStart),this.listenTo(t,"changing",this.onHandleChanging),this.listenTo(t,"change:end",this.onHandleChangeEnd)},resetHandles:function(){var t=this.handles;if(this.handles=[],this.stopListening(),Array.isArray(t))for(var e=0,i=t.length;e<i;e++)t[e].remove()},shiftHandleIndexes:function(t){for(var e=this.handles,i=0,n=e.length;i<n;i++)e[i].options.index+=t},resetAnchor:function(t,e){var i=this.relatedView.model;e?i.prop([t,"anchor"],e,{rewrite:!0,ui:!0,tool:this.cid}):i.removeProp([t,"anchor"],{ui:!0,tool:this.cid})},snapHandle:function(t,e,i){var n=t.options.index,r=this.relatedView.model.vertices(),o=t.options.axis,a=r[n-2]||i.sourceAnchor,s=r[n+1]||i.targetAnchor,l=this.options.snapRadius;return Math.abs(e[o]-a[o])<l?e[o]=a[o]:Math.abs(e[o]-s[o])<l&&(e[o]=s[o]),e},onHandleChanging:function(t,i){var n=this.eventData(i),r=this.relatedView,o=r.paper,a=t.options.index-1,s=e.normalizeEvent(i),l=o.snapToGrid(s.clientX,s.clientY),c=this.snapHandle(t,l.clone(),n),g=t.options.axis,h=this.options.snapHandle?0:l[g]-c[g],u=r.model,d=e.cloneDeep(u.vertices()),p=d[a],f=d[a+1],I=this.options.anchor;"function"!=typeof I&&(I=null);var m=r.sourceView,A=r.sourceBBox,C=!1,v=!1;if(p?0===a?A.containsPoint(p)?(d.shift(),this.shiftHandleIndexes(-1),C=!0):(p[g]=c[g],v=!0):p[g]=c[g]:((p=r.sourceAnchor.toJSON())[g]=c[g],A.containsPoint(p)?(p[g]=c[g],C=!0):(d.unshift(p),this.shiftHandleIndexes(1),v=!0)),I&&m){if(C){var w=n.sourceAnchor.clone();w[g]=c[g];var b=I.call(r,w,m,r.sourceMagnet||m.el,"source",r);this.resetAnchor("source",b)}v&&this.resetAnchor("source",n.sourceAnchorDef)}var y=r.targetView,N=r.targetBBox,M=!1,x=!1;if(f?a===d.length-2?N.containsPoint(f)?(d.pop(),M=!0):(f[g]=c[g],x=!0):f[g]=c[g]:((f=r.targetAnchor.toJSON())[g]=c[g],N.containsPoint(f)?M=!0:(d.push(f),x=!0)),I&&y){if(M){var k=n.targetAnchor.clone();k[g]=c[g];var z=I.call(r,k,y,r.targetMagnet||y.el,"target",r);this.resetAnchor("target",z)}x&&this.resetAnchor("target",n.targetAnchorDef)}u.vertices(d,{ui:!0,tool:this.cid}),this.updateHandle(t,p,f,h)},onHandleChangeStart:function(t,i){var n=t.options.index,r=this.handles;if(Array.isArray(r)){for(var o=0,a=r.length;o<a;o++)o!==n&&r[o].hide();this.focus();var s=this.relatedView,l=s.model;this.eventData(i,{sourceAnchor:s.sourceAnchor.clone(),targetAnchor:s.targetAnchor.clone(),sourceAnchorDef:e.clone(l.prop(["source","anchor"])),targetAnchorDef:e.clone(l.prop(["target","anchor"]))}),s.model.startBatch("segment-move",{ui:!0,tool:this.cid})}},onHandleChangeEnd:function(t){var e=this.relatedView;this.options.redundancyRemoval&&e.removeRedundantLinearVertices({ui:!0,tool:this.cid}),this.render(),this.blur(),e.model.stopBatch("segment-move",{ui:!0,tool:this.cid})},updateHandle:function(t,e,i,r){var o=Math.abs(e.x-i.x)<this.precision,a=Math.abs(e.y-i.y)<this.precision;if(o||a){var s=new n.Line(e,i);if(s.length()<this.options.segmentLengthThreshold)t.hide();else{var l=s.midpoint(),c=o?"x":"y";l[c]+=r||0;var g=s.vector().vectorAngle(new n.Point(1,0));t.position(l.x,l.y,g,this.relatedView),t.show(),t.options.axis=c}}else t.hide()},onRemove:function(){this.resetHandles()}},{SegmentHandle:l}),g=o.extend({tagName:"path",xAxisVector:new n.Point(1,0),events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},onRender:function(){this.update()},update:function(){var t,e,n=this.ratio,r=this.relatedView,o=r.getTangentAtRatio(n);e=o?(t=o.start,o.vector().vectorAngle(this.xAxisVector)||0):(t=r.getPointAtRatio(n),0);var a=i.createSVGMatrix().translate(t.x,t.y).rotate(e);return this.vel.transform(a,{absolute:!0}),this},onPointerDown:function(t){t.stopPropagation(),t.preventDefault();var e=this.relatedView;e.model.startBatch("arrowhead-move",{ui:!0,tool:this.cid}),e.can("arrowheadMove")&&(e.startArrowheadMove(this.arrowheadType),this.delegateDocumentEvents(),e.paper.undelegateEvents()),this.focus(),this.el.style.pointerEvents="none"},onPointerMove:function(t){var i=e.normalizeEvent(t),n=this.paper.snapToGrid(i.clientX,i.clientY);this.relatedView.pointermove(i,n.x,n.y)},onPointerUp:function(t){this.undelegateDocumentEvents();var i=this.relatedView,n=i.paper,r=e.normalizeEvent(t),o=n.snapToGrid(r.clientX,r.clientY);i.pointerup(r,o.x,o.y),n.delegateEvents(),this.blur(),this.el.style.pointerEvents="",i.model.stopBatch("arrowhead-move",{ui:!0,tool:this.cid})}}),h=g.extend({name:"target-arrowhead",ratio:1,arrowheadType:"target",attributes:{d:"M -10 -8 10 0 -10 8 Z",fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move",class:"target-arrowhead"}}),u=g.extend({name:"source-arrowhead",ratio:0,arrowheadType:"source",attributes:{d:"M 10 -8 -10 0 10 8 Z",fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move",class:"source-arrowhead"}}),d=o.extend({name:"button",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},options:{distance:0,offset:0,rotate:!1},onRender:function(){this.renderChildren(this.options.markup),this.update()},update:function(){var t,r,o,a=this.options.distance||0;o=(t=e.isPercentage(a)?this.relatedView.getTangentAtRatio(parseFloat(a)/100):this.relatedView.getTangentAtLength(a))?(r=t.start,t.vector().vectorAngle(new n.Point(1,0))||0):(r=this.relatedView.getConnection().start,0);var s=i.createSVGMatrix().translate(r.x,r.y).rotate(o).translate(0,this.options.offset||0);return this.options.rotate||(s=s.rotate(-o)),this.vel.transform(s,{absolute:!0}),this},onPointerDown:function(t){t.stopPropagation(),t.preventDefault();var e=this.options.action;"function"==typeof e&&e.call(this.relatedView,t,this.relatedView)}}),p=d.extend({children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],options:{distance:60,offset:0,action:function(t){this.model.remove({ui:!0,tool:this.cid})}}}),f=o.extend({name:"boundary",tagName:"rect",options:{padding:10},attributes:{fill:"none",stroke:"#33334F","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"},onRender:function(){this.update()},update:function(){var t=this.options.padding;isFinite(t)||(t=0);var e=this.relatedView.getConnection().bbox().inflate(t);return this.vel.attr(e.toJSON()),this}}),I=o.extend({tagName:"g",type:null,children:[{tagName:"circle",selector:"anchor",attributes:{cursor:"pointer"}},{tagName:"rect",selector:"area",attributes:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onPointerDblClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},options:{snap:function(t,e,i,n,r,o){var a=o.options.snapRadius,s="source"===n,l=s?0:-1,c=this.model.vertex(l)||this.getEndAnchor(s?"target":"source");return c&&(Math.abs(c.x-t.x)<a&&(t.x=c.x),Math.abs(c.y-t.y)<a&&(t.y=c.y)),t},anchor:r,customAnchorAttributes:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttributes:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,restrictArea:!0,redundancyRemoval:!0},onRender:function(){this.renderChildren(),this.toggleArea(!1),this.update()},update:function(){var t=this.type,e=this.relatedView.getEndView(t);return this.el.style.display=e?(this.updateAnchor(),this.updateArea(),""):"none",this},updateAnchor:function(){var t=this.childNodes;if(t){var e=t.anchor;if(e){var i=this.relatedView,n=this.type,r=i.getEndAnchor(n),o=this.options,a=i.model.prop([n,"anchor"]);e.setAttribute("transform","translate("+r.x+","+r.y+")");var s=a?o.customAnchorAttributes:o.defaultAnchorAttributes;for(var l in s)e.setAttribute(l,s[l])}}},updateArea:function(){var t=this.childNodes;if(t){var e=t.area;if(e){var i=this.relatedView,n=this.type,r=i.getEndView(n),o=i.getEndMagnet(n),a=this.options.areaPadding;isFinite(a)||(a=0);var s=r.getNodeUnrotatedBBox(o).inflate(a),l=r.model.angle();e.setAttribute("x",-s.width/2),e.setAttribute("y",-s.height/2),e.setAttribute("width",s.width),e.setAttribute("height",s.height);var c=r.model.getBBox().center(),g=s.center().rotate(c,-l);e.setAttribute("transform","translate("+g.x+","+g.y+") rotate("+l+")")}}},toggleArea:function(t){this.childNodes.area.style.display=t?"":"none"},onPointerDown:function(t){t.stopPropagation(),t.preventDefault(),this.paper.undelegateEvents(),this.delegateDocumentEvents(),this.focus(),this.toggleArea(this.options.restrictArea),this.relatedView.model.startBatch("anchor-move",{ui:!0,tool:this.cid})},resetAnchor:function(t){var e=this.type,i=this.relatedView.model;t?i.prop([e,"anchor"],t,{rewrite:!0,ui:!0,tool:this.cid}):i.removeProp([e,"anchor"],{ui:!0,tool:this.cid})},onPointerMove:function(t){var i,r=this.relatedView,o=this.type,a=r.getEndView(o),s=r.getEndMagnet(o),l=e.normalizeEvent(t),c=this.paper.clientToLocalPoint(l.clientX,l.clientY),g=this.options.snap;if("function"==typeof g&&(c=g.call(r,c,a,s,o,r,this),c=new n.Point(c)),this.options.restrictArea){var h=a.getNodeUnrotatedBBox(s),u=a.model.angle(),d=a.model.getBBox().center(),p=c.clone().rotate(d,u);h.containsPoint(p)||(c=h.pointNearestToPoint(p).rotate(d,-u))}var f=this.options.anchor;"function"==typeof f&&(i=f.call(r,c,a,s,o,r)),this.resetAnchor(i),this.update()},onPointerUp:function(t){this.paper.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1);var e=this.relatedView;this.options.redundancyRemoval&&e.removeRedundantLinearVertices({ui:!0,tool:this.cid}),e.model.stopBatch("anchor-move",{ui:!0,tool:this.cid})},onPointerDblClick:function(){this.resetAnchor(),this.update()}}),m=I.extend({name:"source-anchor",type:"source"}),A=I.extend({
name:"target-anchor",type:"target"});t.linkTools={Vertices:s,Segments:c,SourceArrowhead:u,TargetArrowhead:h,SourceAnchor:m,TargetAnchor:A,Button:d,Remove:p,Boundary:f}}(a,a.util,o,r),a.dia.Element.define("erd.Entity",{size:{width:150,height:60},attrs:{".outer":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"100,0 100,60 0,60 0,0"},".inner":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"95,5 95,55 5,55 5,5",display:"none"},text:{text:"Entity","font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),a.shapes.erd.Entity.define("erd.WeakEntity",{attrs:{".inner":{display:"auto"},text:{text:"Weak Entity"}}}),a.dia.Element.define("erd.Relationship",{size:{width:80,height:80},attrs:{".outer":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,0 80,40 40,80 0,40"},".inner":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,5 75,40 40,75 5,40",display:"none"},text:{text:"Relationship","font-family":"Arial","font-size":12,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),a.shapes.erd.Relationship.define("erd.IdentifyingRelationship",{attrs:{".inner":{display:"auto"},text:{text:"Identifying"}}}),a.dia.Element.define("erd.Attribute",{size:{width:100,height:50},attrs:{ellipse:{transform:"translate(50, 25)"},".outer":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:50,ry:25,fill:"#E67E22"},".inner":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:45,ry:20,fill:"#E67E22",display:"none"},text:{"font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse class="outer"/><ellipse class="inner"/></g><text/></g>'}),a.shapes.erd.Attribute.define("erd.Multivalued",{attrs:{".inner":{display:"block"},text:{text:"multivalued"}}}),a.shapes.erd.Attribute.define("erd.Derived",{attrs:{".outer":{"stroke-dasharray":"3,5"},text:{text:"derived"}}}),a.shapes.erd.Attribute.define("erd.Key",{attrs:{ellipse:{"stroke-width":4},text:{text:"key","font-weight":"800","text-decoration":"underline"}}}),a.shapes.erd.Attribute.define("erd.Normal",{attrs:{text:{text:"Normal"}}}),a.dia.Element.define("erd.ISA",{type:"erd.ISA",size:{width:100,height:50},attrs:{polygon:{points:"0,0 50,50 100,0",fill:"#F1C40F",stroke:"#F39C12","stroke-width":2},text:{text:"ISA","font-size":18,"ref-x":.5,"ref-y":.3,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),a.dia.Link.define("erd.Line",{},{cardinality:function(t){this.set("labels",[{position:-20,attrs:{text:{dy:-8,text:t}}}])}}),a.shapes.basic.Circle.define("fsa.State",{attrs:{circle:{"stroke-width":3},text:{"font-weight":"800"}}}),a.dia.Element.define("fsa.StartState",{size:{width:20,height:20},attrs:{circle:{transform:"translate(10, 10)",r:10,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g></g>'}),a.dia.Element.define("fsa.EndState",{size:{width:20,height:20},attrs:{".outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#000000"},".inner":{transform:"translate(10, 10)",r:6,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),a.dia.Link.define("fsa.Arrow",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}},smooth:!0}),a.dia.Element.define("org.Member",{size:{width:180,height:70},attrs:{rect:{width:170,height:60},".card":{fill:"#FFFFFF",stroke:"#000000","stroke-width":2,"pointer-events":"visiblePainted",rx:10,ry:10},image:{width:48,height:48,ref:".card","ref-x":10,"ref-y":5},".rank":{"text-decoration":"underline",ref:".card","ref-x":.9,"ref-y":.2,"font-family":"Courier New","font-size":14,"text-anchor":"end"},".name":{"font-weight":"800",ref:".card","ref-x":.9,"ref-y":.6,"font-family":"Courier New","font-size":14,"text-anchor":"end"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="card"/><image/></g><text class="rank"/><text class="name"/></g>'}),a.dia.Link.define("org.Arrow",{source:{selector:".card"},target:{selector:".card"},attrs:{".connection":{stroke:"#585858","stroke-width":3}},z:-1}),a.shapes.basic.Generic.define("chess.KingWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;"><path      d="M 22.5,11.63 L 22.5,6"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 20,8 L 25,8"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"      style="fill:#ffffff; stroke:#000000; stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 11.5,30 C 17,27 27,27 32.5,30"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,37 C 17,34 27,34 32.5,37"      style="fill:none; stroke:#000000;" />  </g></g></g>'}),a.shapes.basic.Generic.define("chess.KingBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path       d="M 22.5,11.63 L 22.5,6"       style="fill:none; stroke:#000000; stroke-linejoin:miter;"       id="path6570" />    <path       d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"       style="fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;" />    <path       d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "       style="fill:#000000; stroke:#000000;" />    <path       d="M 20,8 L 25,8"       style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path       d="M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),a.shapes.basic.Generic.define("chess.QueenWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(-1,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(15.5,-5.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(32,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(7,-4.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(24,-4)" />    <path      d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 11.5,30 C 15,29 30,29 33.5,30"      style="fill:none;" />    <path      d="M 12,33.5 C 18,32.5 27,32.5 33,33.5"      style="fill:none;" />  </g></g></g>'}),a.shapes.basic.Generic.define("chess.QueenBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:none;">      <circle cx="6"    cy="12" r="2.75" />      <circle cx="14"   cy="9"  r="2.75" />      <circle cx="22.5" cy="8"  r="2.75" />      <circle cx="31"   cy="9"  r="2.75" />      <circle cx="39"   cy="12" r="2.75" />    </g>    <path       d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"       style="stroke-linecap:butt; stroke:#000000;" />    <path       d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"       style="stroke-linecap:butt;" />    <path       d="M 11,38.5 A 35,35 1 0 0 34,38.5"       style="fill:none; stroke:#000000; stroke-linecap:butt;" />    <path       d="M 11,29 A 35,35 1 0 1 34,29"       style="fill:none; stroke:#ffffff;" />    <path       d="M 12.5,31.5 L 32.5,31.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),a.shapes.basic.Generic.define("chess.RookWhite",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14"      style="stroke-linecap:butt;" />    <path      d="M 34,14 L 31,17 L 14,17 L 11,14" />    <path      d="M 31,17 L 31,29.5 L 14,29.5 L 14,17"      style="stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),a.shapes.basic.Generic.define("chess.RookBlack",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z "      style="stroke-linecap:butt;stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z "      style="stroke-linecap:butt;" />    <path      d="M 12,35.5 L 33,35.5 L 33,35.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 13,31.5 L 32,31.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,29.5 L 31,29.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 31,16.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />  </g></g></g>'}),a.shapes.basic.Generic.define("chess.BishopWhite",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#ffffff; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path      d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),a.shapes.basic.Generic.define("chess.BishopBlack",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path       d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"       style="fill:none; stroke:#ffffff; stroke-linejoin:miter;" />  </g></g></g>'}),a.shapes.basic.Generic.define("chess.KnightWhite",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#000000; stroke:#000000;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#000000; stroke:#000000;" />  </g></g></g>'}),a.shapes.basic.Generic.define("chess.KnightBlack",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#000000; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#000000; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z "      style="fill:#ffffff; stroke:none;" />  </g></g></g>'}),a.shapes.basic.Generic.define("chess.PawnWhite",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),a.shapes.basic.Generic.define("chess.PawnBlack",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),a.shapes.basic.Generic.define("pn.Place",{size:{width:50,height:50},attrs:{".root":{r:25,fill:"#ffffff",stroke:"#000000",transform:"translate(25, 25)"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:".root",fill:"#000000","font-size":12},".tokens > circle":{fill:"#000000",r:5},".tokens.one > circle":{transform:"translate(25, 25)"},".tokens.two > circle:nth-child(1)":{transform:"translate(19, 25)"},".tokens.two > circle:nth-child(2)":{transform:"translate(31, 25)"},".tokens.three > circle:nth-child(1)":{transform:"translate(18, 29)"},".tokens.three > circle:nth-child(2)":{transform:"translate(25, 19)"},".tokens.three > circle:nth-child(3)":{transform:"translate(32, 29)"},".tokens.alot > text":{transform:"translate(25, 18)","text-anchor":"middle",fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="root"/><g class="tokens" /></g><text class="label"/></g>'}),a.shapes.pn.PlaceView=a.dia.ElementView.extend({initialize:function(){a.dia.ElementView.prototype.initialize.apply(this,arguments),this.model.on("change:tokens",function(){this.renderTokens(),this.update()},this)},render:function(){a.dia.ElementView.prototype.render.apply(this,arguments),this.renderTokens(),this.update()},renderTokens:function(){var t=this.$(".tokens").empty();t[0].className.baseVal="tokens";var e=this.model.get("tokens");if(e)switch(e){case 1:t[0].className.baseVal+=" one",t.append(o("<circle/>").node);break;case 2:t[0].className.baseVal+=" two",t.append(o("<circle/>").node,o("<circle/>").node);break;case 3:t[0].className.baseVal+=" three",t.append(o("<circle/>").node,o("<circle/>").node,o("<circle/>").node);break;default:t[0].className.baseVal+=" alot",t.append(o("<text/>").text(e+"").node)}}}),a.shapes.basic.Generic.define("pn.Transition",{size:{width:12,height:50},attrs:{rect:{width:12,height:50,fill:"#000000",stroke:"#000000"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:"rect",fill:"#000000","font-size":12}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="root"/></g></g><text class="label"/>'}),a.dia.Link.define("pn.Link",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}}}),a.shapes.basic.Generic.define("devs.Model",{inPorts:[],outPorts:[],size:{width:80,height:80},attrs:{".":{magnet:!1},".label":{text:"Model","ref-x":.5,"ref-y":10,"font-size":18,"text-anchor":"middle",fill:"#000"},".body":{"ref-width":"100%","ref-height":"100%",stroke:"#000"}},ports:{groups:{in:{position:{name:"left"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"left",args:{y:10}}}},out:{position:{name:"right"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"right",args:{y:10}}}}}}},{markup:'<g class="rotatable"><rect class="body"/><text class="label"/></g>',portMarkup:'<circle class="port-body"/>',portLabelMarkup:'<text class="port-label"/>',initialize:function(){a.shapes.basic.Generic.prototype.initialize.apply(this,arguments),this.on("change:inPorts change:outPorts",this.updatePortItems,this),this.updatePortItems()},updatePortItems:function(t,e,i){var n=a.util.uniq(this.get("inPorts")),r=a.util.difference(a.util.uniq(this.get("outPorts")),n),o=this.createPortItems("in",n),s=this.createPortItems("out",r);this.prop("ports/items",o.concat(s),a.util.assign({rewrite:!0},i))},createPortItem:function(t,e){return{id:e,group:t,attrs:{".port-label":{text:e}}}},createPortItems:function(t,e){return a.util.toArray(e).map(this.createPortItem.bind(this,t))},_addGroupPort:function(t,e,i){var n=this.get(e);return this.set(e,Array.isArray(n)?n.concat(t):[t],i)},addOutPort:function(t,e){return this._addGroupPort(t,"outPorts",e)},addInPort:function(t,e){return this._addGroupPort(t,"inPorts",e)},_removeGroupPort:function(t,e,i){return this.set(e,a.util.without(this.get(e),t),i)},removeOutPort:function(t,e){return this._removeGroupPort(t,"outPorts",e)},removeInPort:function(t,e){return this._removeGroupPort(t,"inPorts",e)},_changeGroup:function(t,e,i){return this.prop("ports/groups/"+t,a.util.isObject(e)?e:{},i)},changeInGroup:function(t,e){return this._changeGroup("in",t,e)},changeOutGroup:function(t,e){return this._changeGroup("out",t,e)}}),a.shapes.devs.Model.define("devs.Atomic",{size:{width:80,height:80},attrs:{".label":{text:"Atomic"}}}),a.shapes.devs.Model.define("devs.Coupled",{size:{width:200,height:300},attrs:{".label":{text:"Coupled"}}}),a.dia.Link.define("devs.Link",{attrs:{".connection":{"stroke-width":2}}}),a.shapes.basic.Generic.define("uml.Class",{attrs:{rect:{width:200},".uml-class-name-rect":{stroke:"black","stroke-width":2,fill:"#3498db"},".uml-class-attrs-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-methods-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-name-text":{ref:".uml-class-name-rect","ref-y":.5,"ref-x":.5,"text-anchor":"middle","y-alignment":"middle","font-weight":"bold",fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-attrs-text":{ref:".uml-class-attrs-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-methods-text":{ref:".uml-class-methods-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"}},name:[],attributes:[],methods:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-class-name-rect"/><rect class="uml-class-attrs-rect"/><rect class="uml-class-methods-rect"/>',"</g>",'<text class="uml-class-name-text"/><text class="uml-class-attrs-text"/><text class="uml-class-methods-text"/>',"</g>"].join(""),initialize:function(){this.on("change:name change:attributes change:methods",function(){this.updateRectangles(),this.trigger("uml-update")},this),this.updateRectangles(),a.shapes.basic.Generic.prototype.initialize.apply(this,arguments)},getClassName:function(){return this.get("name")},updateRectangles:function(){var t=this.get("attrs"),e=[{type:"name",text:this.getClassName()},{type:"attrs",text:this.get("attributes")},{type:"methods",text:this.get("methods")}],i=0;e.forEach(function(e){var n=Array.isArray(e.text)?e.text:[e.text],r=20*n.length+20;t[".uml-class-"+e.type+"-text"].text=n.join("\n"),t[".uml-class-"+e.type+"-rect"].height=r,t[".uml-class-"+e.type+"-rect"].transform="translate(0,"+i+")",i+=r})}}),a.shapes.uml.ClassView=a.dia.ElementView.extend({initialize:function(){a.dia.ElementView.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"uml-update",function(){this.update(),this.resize()})}}),a.shapes.uml.Class.define("uml.Abstract",{attrs:{".uml-class-name-rect":{fill:"#e74c3c"},".uml-class-attrs-rect":{fill:"#c0392b"},".uml-class-methods-rect":{fill:"#c0392b"}}},{getClassName:function(){return["<<Abstract>>",this.get("name")]}}),a.shapes.uml.AbstractView=a.shapes.uml.ClassView,a.shapes.uml.Class.define("uml.Interface",{attrs:{".uml-class-name-rect":{fill:"#f1c40f"},".uml-class-attrs-rect":{fill:"#f39c12"},".uml-class-methods-rect":{fill:"#f39c12"}}},{getClassName:function(){return["<<Interface>>",this.get("name")]}}),a.shapes.uml.InterfaceView=a.shapes.uml.ClassView,a.dia.Link.define("uml.Generalization",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"}}}),a.dia.Link.define("uml.Implementation",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"},".connection":{"stroke-dasharray":"3,3"}}}),a.dia.Link.define("uml.Aggregation",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"white"}}}),a.dia.Link.define("uml.Composition",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"black"}}}),a.dia.Link.define("uml.Association"),a.shapes.basic.Generic.define("uml.State",{attrs:{".uml-state-body":{width:200,height:200,rx:10,ry:10,fill:"#ecf0f1",stroke:"#bdc3c7","stroke-width":3},".uml-state-separator":{stroke:"#bdc3c7","stroke-width":2},".uml-state-name":{ref:".uml-state-body","ref-x":.5,"ref-y":5,"text-anchor":"middle",fill:"#000000","font-family":"Courier New","font-size":14},".uml-state-events":{ref:".uml-state-separator","ref-x":5,"ref-y":5,fill:"#000000","font-family":"Courier New","font-size":14}},name:"State",events:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-state-body"/>',"</g>",'<path class="uml-state-separator"/>','<text class="uml-state-name"/>','<text class="uml-state-events"/>',"</g>"].join(""),initialize:function(){this.on({"change:name":this.updateName,"change:events":this.updateEvents,"change:size":this.updatePath},this),this.updateName(),this.updateEvents(),this.updatePath(),a.shapes.basic.Generic.prototype.initialize.apply(this,arguments)},updateName:function(){this.attr(".uml-state-name/text",this.get("name"))},updateEvents:function(){this.attr(".uml-state-events/text",this.get("events").join("\n"))},updatePath:function(){var t="M 0 20 L "+this.get("size").width+" 20";this.attr(".uml-state-separator/d",t,{silent:!0})}}),a.shapes.basic.Circle.define("uml.StartState",{type:"uml.StartState",attrs:{circle:{fill:"#34495e",stroke:"#2c3e50","stroke-width":2,rx:1}}}),a.shapes.basic.Generic.define("uml.EndState",{size:{width:20,height:20},attrs:{"circle.outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#2c3e50"},"circle.inner":{transform:"translate(10, 10)",r:6,fill:"#34495e"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),a.dia.Link.define("uml.Transition",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z",fill:"#34495e",stroke:"#2c3e50"},".connection":{stroke:"#2c3e50"}}}),a.shapes.basic.Generic.define("logic.Gate",{size:{width:80,height:40},attrs:{".":{magnet:!1},".body":{width:100,height:50},circle:{r:7,stroke:"black",fill:"transparent","stroke-width":2}}},{operation:function(){return!0}}),a.shapes.logic.Gate.define("logic.IO",{size:{width:60,height:30},attrs:{".body":{fill:"white",stroke:"black","stroke-width":2},".wire":{ref:".body","ref-y":.5,stroke:"black"},text:{fill:"black",ref:".body","ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle","font-weight":"bold","font-variant":"small-caps","text-transform":"capitalize","font-size":"14px"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><path class="wire"/><circle/><text/></g>'}),a.shapes.logic.IO.define("logic.Input",{attrs:{".wire":{"ref-dx":0,d:"M 0 0 L 23 0"},circle:{ref:".body","ref-dx":30,"ref-y":.5,magnet:!0,class:"output",port:"out"},text:{text:"input"}}}),a.shapes.logic.IO.define("logic.Output",{attrs:{".wire":{"ref-x":0,d:"M 0 0 L -23 0"},circle:{ref:".body","ref-x":-30,"ref-y":.5,magnet:"passive",class:"input",port:"in"},text:{text:"output"}}}),a.shapes.logic.Gate.define("logic.Gate11",{attrs:{".input":{ref:".body","ref-x":-2,"ref-y":.5,magnet:"passive",port:"in"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input"/><circle class="output"/></g>'}),a.shapes.logic.Gate.define("logic.Gate21",{attrs:{".input1":{ref:".body","ref-x":-2,"ref-y":.3,magnet:"passive",port:"in1"},".input2":{ref:".body","ref-x":-2,"ref-y":.7,magnet:"passive",port:"in2"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input input1"/><circle  class="input input2"/><circle class="output"/></g>'}),a.shapes.logic.Gate11.define("logic.Repeater",{attrs:{image:{
"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzIuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(t){return t}}),a.shapes.logic.Gate11.define("logic.Not",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzkuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDI2NzEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzYiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA4MCwyNSBBIDQsNCAwIDEgMSA3MiwyNSBBIDQsNCAwIDEgMSA4MCwyNSB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEsMCkiIC8+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t){return!t}}),a.shapes.logic.Gate21.define("logic.Or",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik9SIEFOU0kuc3ZnIgogICBpbmtzY2FwZTpvdXRwdXRfZXh0ZW5zaW9uPSJvcmcuaW5rc2NhcGUub3V0cHV0LnN2Zy5pbmtzY2FwZSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTAgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjcxNCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iMSA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMC41IDogMC4zMzMzMzMzMyA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODA2IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODE5IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjM3Mi4wNDcyNCA6IDM1MC43ODczOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI3NDQuMDk0NDggOiA1MjYuMTgxMDkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzc3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49Ijc1IDogNDAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTUwIDogNjAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDYwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTMyNzUiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNTAgOiAzMy4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTAwIDogNTAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTU1MzMiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzIgOiAyMS4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNjQgOiAzMiA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMzIgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjU1NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDE2LjY2NjY2NyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDI1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAyNSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iNCIKICAgICBpbmtzY2FwZTpjeD0iMTEzLjAwMDM5IgogICAgIGlua3NjYXBlOmN5PSIxMi44OTM3MzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImcyNTYwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpncmlkLWJib3g9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1wb2ludHM9InRydWUiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAwMDAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMzk5IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijg3NCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMzciCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii00IgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gNzAsMjUgYyAyMCwwIDI1LDAgMjUsMCIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMSwxNSA1LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzIsMzUgNSwzNSIKICAgICAgIGlkPSJwYXRoMzk0NCIgLz4KICAgIDxnCiAgICAgICBpZD0iZzI1NjAiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2LjUsLTM5LjUpIj4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(t,e){return t||e}}),a.shapes.logic.Gate21.define("logic.And",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkFORCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI4IgogICAgIGlua3NjYXBlOmN4PSI1Ni42OTgzNDgiCiAgICAgaW5rc2NhcGU6Y3k9IjI1LjMyNjg5OSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDozO21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGU7Zm9udC1mYW1pbHk6Qml0c3RyZWFtIFZlcmEgU2FuczstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkJpdHN0cmVhbSBWZXJhIFNhbnMiCiAgICAgICBkPSJNIDMwLDUgTCAzMCw2LjQyODU3MTQgTCAzMCw0My41NzE0MjkgTCAzMCw0NSBMIDMxLjQyODU3MSw0NSBMIDUwLjQ3NjE5LDQ1IEMgNjEuNzQ0MDk4LDQ1IDcwLjQ3NjE5LDM1Ljk5OTk1NSA3MC40NzYxOSwyNSBDIDcwLjQ3NjE5LDE0LjAwMDA0NSA2MS43NDQwOTksNS4wMDAwMDAyIDUwLjQ3NjE5LDUgQyA1MC40NzYxOSw1IDUwLjQ3NjE5LDUgMzEuNDI4NTcxLDUgTCAzMCw1IHogTSAzMi44NTcxNDMsNy44NTcxNDI5IEMgNDAuODM0MjY0LDcuODU3MTQyOSA0NS45MTgzNjgsNy44NTcxNDI5IDQ4LjA5NTIzOCw3Ljg1NzE0MjkgQyA0OS4yODU3MTQsNy44NTcxNDI5IDQ5Ljg4MDk1Miw3Ljg1NzE0MjkgNTAuMTc4NTcxLDcuODU3MTQyOSBDIDUwLjMyNzM4MSw3Ljg1NzE0MjkgNTAuNDA5MjI3LDcuODU3MTQyOSA1MC40NDY0MjksNy44NTcxNDI5IEMgNTAuNDY1MDI5LDcuODU3MTQyOSA1MC40NzE1NDMsNy44NTcxNDI5IDUwLjQ3NjE5LDcuODU3MTQyOSBDIDYwLjIzNjg1Myw3Ljg1NzE0MyA2Ny4xNDI4NTcsMTUuNDk3MDk4IDY3LjE0Mjg1NywyNSBDIDY3LjE0Mjg1NywzNC41MDI5MDIgNTkuNzYwNjYyLDQyLjE0Mjg1NyA1MCw0Mi4xNDI4NTcgTCAzMi44NTcxNDMsNDIuMTQyODU3IEwgMzIuODU3MTQzLDcuODU3MTQyOSB6IgogICAgICAgaWQ9InBhdGgyODg0IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NzY2NjY3Nzc3NzY2NjIiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return t&&e}}),a.shapes.logic.Gate21.define("logic.Nor",{attrs:{image:{
"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjEiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjY3NzY0NCIKICAgICBpbmtzY2FwZTpjeT0iMjIuMTAyMzQ0IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjM3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItNCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc5LDI1IEMgOTksMjUgOTUsMjUgOTUsMjUiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHNvZGlwb2RpOnR5cGU9ImFyYyIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgICBpZD0icGF0aDI2MDQiCiAgICAgICAgIHNvZGlwb2RpOmN4PSI3NSIKICAgICAgICAgc29kaXBvZGk6Y3k9IjI1IgogICAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgICAgc29kaXBvZGk6cnk9IjQiCiAgICAgICAgIGQ9Ik0gNzksMjUgQSA0LDQgMCAxIDEgNzEsMjUgQSA0LDQgMCAxIDEgNzksMjUgeiIKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjUsMzkuNSkiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t,e){return!(t||e)}}),a.shapes.logic.Gate21.define("logic.Nand",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5BTkQgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMTYiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjI4MzMwNyIKICAgICBpbmtzY2FwZTpjeT0iMTYuNDQyODQzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzksMjUgQyA5MS44LDI1IDk1LDI1IDk1LDI1IgogICAgICAgaWQ9InBhdGgzMDU5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMxLDE1IDUsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMiwzNSA1LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmb250LXNpemU6bWVkaXVtO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOnN0YXJ0O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MzttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OkJpdHN0cmVhbSBWZXJhIFNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpCaXRzdHJlYW0gVmVyYSBTYW5zIgogICAgICAgZD0iTSAzMCw1IEwgMzAsNi40Mjg1NzE0IEwgMzAsNDMuNTcxNDI5IEwgMzAsNDUgTCAzMS40Mjg1NzEsNDUgTCA1MC40NzYxOSw0NSBDIDYxLjc0NDA5OCw0NSA3MC40NzYxOSwzNS45OTk5NTUgNzAuNDc2MTksMjUgQyA3MC40NzYxOSwxNC4wMDAwNDUgNjEuNzQ0MDk5LDUuMDAwMDAwMiA1MC40NzYxOSw1IEMgNTAuNDc2MTksNSA1MC40NzYxOSw1IDMxLjQyODU3MSw1IEwgMzAsNSB6IE0gMzIuODU3MTQzLDcuODU3MTQyOSBDIDQwLjgzNDI2NCw3Ljg1NzE0MjkgNDUuOTE4MzY4LDcuODU3MTQyOSA0OC4wOTUyMzgsNy44NTcxNDI5IEMgNDkuMjg1NzE0LDcuODU3MTQyOSA0OS44ODA5NTIsNy44NTcxNDI5IDUwLjE3ODU3MSw3Ljg1NzE0MjkgQyA1MC4zMjczODEsNy44NTcxNDI5IDUwLjQwOTIyNyw3Ljg1NzE0MjkgNTAuNDQ2NDI5LDcuODU3MTQyOSBDIDUwLjQ2NTAyOSw3Ljg1NzE0MjkgNTAuNDcxNTQzLDcuODU3MTQyOSA1MC40NzYxOSw3Ljg1NzE0MjkgQyA2MC4yMzY4NTMsNy44NTcxNDMgNjcuMTQyODU3LDE1LjQ5NzA5OCA2Ny4xNDI4NTcsMjUgQyA2Ny4xNDI4NTcsMzQuNTAyOTAyIDU5Ljc2MDY2Miw0Mi4xNDI4NTcgNTAsNDIuMTQyODU3IEwgMzIuODU3MTQzLDQyLjE0Mjg1NyBMIDMyLjg1NzE0Myw3Ljg1NzE0MjkgeiIKICAgICAgIGlkPSJwYXRoMjg4NCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2Njc2NjY2Nzc3Nzc2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDQwMDgiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return!(t&&e)}}),a.shapes.logic.Gate21.define("logic.Xor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhPUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjUuNjU2ODU0MiIKICAgICBpbmtzY2FwZTpjeD0iMjUuOTM4MTE2IgogICAgIGlua3NjYXBlOmN5PSIxNy4yMzAwNSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzAuMzg1NzE3LDE1IEwgNC45OTk5OTk4LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5NzY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEuMzYyMDkxLDM1IEwgNC45OTk5OTk4LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPGcKICAgICAgIGlkPSJnMjU2MCIKICAgICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYuNSwtMzkuNSkiPgogICAgICA8cGF0aAogICAgICAgICBpZD0icGF0aDM1MTYiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi4yNSw4MS41MDAwMDUgQyAtMy44NDczNzQsODQuMTQ0NDA1IC00LjUsODQuNTAwMDA1IC00LjUsODQuNTAwMDA1IEwgLTguMTU2MjUsODQuNTAwMDA1IEwgLTYuMTU2MjUsODIuMDYyNTA1IEMgLTYuMTU2MjUsODIuMDYyNTA1IC0wLjUsNzUuMDYyNDUxIC0wLjUsNjQuNSBDIC0wLjUsNTMuOTM3NTQ5IC02LjE1NjI1LDQ2LjkzNzUgLTYuMTU2MjUsNDYuOTM3NSBMIC04LjE1NjI1LDQ0LjUgTCAtNC41LDQ0LjUgQyAtMy43MTg3NSw0NS40Mzc1IC0zLjA3ODEyNSw0Ni4xNTYyNSAtMi4yODEyNSw0Ny41IEMgLTAuNDA4NTMxLDUwLjU5OTgxNSAyLjUsNTYuNTI2NjQ2IDIuNSw2NC41IEMgMi41LDcyLjQ1MDY1IC0wLjM5NjY5Nyw3OC4zNzk0MjUgLTIuMjUsODEuNTAwMDA1IHoiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY3NjY2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t,e){return(!t||e)&&(t||!e)}}),a.shapes.logic.Gate21.define("logic.Xnor",{attrs:{image:{
"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhOT1IgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNTU3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTYuNjY2NjY3IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDI1IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0IgogICAgIGlua3NjYXBlOmN4PSI5NS43MjM2NiIKICAgICBpbmtzY2FwZTpjeT0iLTI2Ljc3NTAyMyIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjAwMDAwMDI0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc4LjMzMzMzMiwyNSBDIDkxLjY2NjY2NiwyNSA5NSwyNSA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMC4zODU3MTcsMTUgTCA0Ljk5OTk5OTgsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk3NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMS4zNjIwOTEsMzUgTCA0Ljk5OTk5OTgsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlkPSJwYXRoMzUxNiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjI1LDgxLjUwMDAwNSBDIC0zLjg0NzM3NCw4NC4xNDQ0MDUgLTQuNSw4NC41MDAwMDUgLTQuNSw4NC41MDAwMDUgTCAtOC4xNTYyNSw4NC41MDAwMDUgTCAtNi4xNTYyNSw4Mi4wNjI1MDUgQyAtNi4xNTYyNSw4Mi4wNjI1MDUgLTAuNSw3NS4wNjI0NTEgLTAuNSw2NC41IEMgLTAuNSw1My45Mzc1NDkgLTYuMTU2MjUsNDYuOTM3NSAtNi4xNTYyNSw0Ni45Mzc1IEwgLTguMTU2MjUsNDQuNSBMIC00LjUsNDQuNSBDIC0zLjcxODc1LDQ1LjQzNzUgLTMuMDc4MTI1LDQ2LjE1NjI1IC0yLjI4MTI1LDQ3LjUgQyAtMC40MDg1MzEsNTAuNTk5ODE1IDIuNSw1Ni41MjY2NDYgMi41LDY0LjUgQyAyLjUsNzIuNDUwNjUgLTAuMzk2Njk3LDc4LjM3OTQyNSAtMi4yNSw4MS41MDAwMDUgeiIKICAgICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2Njc2NjY2NzYyIgLz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDM1NTEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return(!t||!e)&&(t||e)}}),a.dia.Link.define("logic.Wire",{attrs:{".connection":{"stroke-width":2},".marker-vertex":{r:7}},router:{name:"orthogonal"},connector:{name:"rounded",args:{radius:10}}},{arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<circle class="marker-arrowhead" end="<%= end %>" r="7"/>',"</g>"].join(""),vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<g class="marker-vertex-remove-group">','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>","</g>"].join("")}),"object"==typeof exports)var s=require("graphlib"),l=require("dagre");return s=s||"undefined"!=typeof window&&window.graphlib,l=l||"undefined"!=typeof window&&window.dagre,a.layout.DirectedGraph={exportElement:function(t){return t.size()},exportLink:function(t){var e=t.get("labelSize")||{};return{minLen:t.get("minLen")||1,weight:t.get("weight")||1,labelpos:t.get("labelPosition")||"c",labeloffset:t.get("labelOffset")||0,width:e.width||0,height:e.height||0}},importElement:function(t,e,i){var n=this.getCell(e),r=i.node(e);t.setPosition?t.setPosition(n,r):n.set("position",{x:r.x-r.width/2,y:r.y-r.height/2})},importLink:function(t,e,i){var n=this.getCell(e.name),o=i.edge(e),s=o.points||[];if((t.setVertices||t.setLinkVertices)&&(a.util.isFunction(t.setVertices)?t.setVertices(n,s):n.set("vertices",s.slice(1,s.length-1))),t.setLabels&&"x"in o&&"y"in o){var l={x:o.x,y:o.y};if(a.util.isFunction(t.setLabels))t.setLabels(n,l,s);else{var c=r.Polyline(s),g=c.closestPointLength(l),h=c.pointAtLength(g),u=g/c.length();n.label(0,{position:{distance:u,offset:r.Point(l).difference(h).toJSON()}})}}},layout:function(t,e){var i;i=t instanceof a.dia.Graph?t:(new a.dia.Graph).resetCells(t,{dry:!0,sort:!1}),t=null,e=a.util.defaults(e||{},{resizeClusters:!0,clusterPadding:10,exportElement:this.exportElement,exportLink:this.exportLink});var n=i.toGraphLib({directed:!0,multigraph:!0,compound:!0,setNodeLabel:e.exportElement,setEdgeLabel:e.exportLink,setEdgeName:function(t){return t.id}}),o={},s=e.marginX||0,c=e.marginY||0;if(e.rankDir&&(o.rankdir=e.rankDir),e.align&&(o.align=e.align),e.nodeSep&&(o.nodesep=e.nodeSep),e.edgeSep&&(o.edgesep=e.edgeSep),e.rankSep&&(o.ranksep=e.rankSep),e.ranker&&(o.ranker=e.ranker),s&&(o.marginx=s),c&&(o.marginy=c),n.setGraph(o),l.layout(n,{debugTiming:!!e.debugTiming}),i.startBatch("layout"),i.fromGraphLib(n,{importNode:this.importElement.bind(i,e),importEdge:this.importLink.bind(i,e)}),e.resizeClusters){var g=n.nodes().filter(function(t){return 0<n.children(t).length}).map(i.getCell.bind(i)).sort(function(t,e){return e.getAncestors().length-t.getAncestors().length});a.util.invoke(g,"fitEmbeds",{padding:e.clusterPadding})}i.stopBatch("layout");var h=n.graph();return r.Rect(s,c,Math.abs(h.width-2*s),Math.abs(h.height-2*c))},fromGraphLib:function(t,e){var i=(e=e||{}).importNode||a.util.noop,n=e.importEdge||a.util.noop,r=this instanceof a.dia.Graph?this:new a.dia.Graph;return t.nodes().forEach(function(n){i.call(r,n,t,r,e)}),t.edges().forEach(function(i){n.call(r,i,t,r,e)}),r},toGraphLib:function(t,e){e=e||{};for(var i=a.util.pick(e,"directed","compound","multigraph"),n=new s.Graph(i),r=e.setNodeLabel||a.util.noop,o=e.setEdgeLabel||a.util.noop,l=e.setEdgeName||a.util.noop,c=t.get("cells"),g=0,h=c.length;g<h;g++){var u=c.at(g);if(u.isLink()){var d=u.get("source"),p=u.get("target");if(!d.id||!p.id)break;n.setEdge(d.id,p.id,o(u),l(u))}else if(n.setNode(u.id,r(u)),n.isCompound()&&u.has("parent")){var f=u.get("parent");c.has(f)&&n.setParent(u.id,f)}}return n}},a.dia.Graph.prototype.toGraphLib=function(t){return a.layout.DirectedGraph.toGraphLib(this,t)},a.dia.Graph.prototype.fromGraphLib=function(t,e){return a.layout.DirectedGraph.fromGraphLib.call(this,t,e)},a.g=r,a.V=a.Vectorizer=o,a});
},{"backbone":11,"dagre":32,"graphlib":64,"jquery":92,"lodash":93}],92:[function(require,module,exports){
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t,n){t=t||ae;var r,i=t.createElement("script");if(i.text=e,n)for(r in be)n[r]&&(i[r]=n[r]);t.head.appendChild(i).parentNode.removeChild(i)}function r(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?pe[de.call(e)]||"object":typeof e}function i(e){var t=!!e&&"length"in e&&e.length,n=r(e);return!me(e)&&!xe(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function o(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function a(e,t,n){return me(t)?we.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?we.grep(e,function(e){return e===t!==n}):"string"!=typeof t?we.grep(e,function(e){return fe.call(t,e)>-1!==n}):we.filter(t,e,n)}function s(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function u(e){var t={};return we.each(e.match(Le)||[],function(e,n){t[n]=!0}),t}function l(e){return e}function c(e){throw e}function f(e,t,n,r){var i;try{e&&me(i=e.promise)?i.call(e).done(t).fail(n):e&&me(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function p(){ae.removeEventListener("DOMContentLoaded",p),e.removeEventListener("load",p),we.ready()}function d(e,t){return t.toUpperCase()}function h(e){return e.replace(Me,"ms-").replace(Re,d)}function g(){this.expando=we.expando+g.uid++}function v(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Be.test(e)?JSON.parse(e):e)}function y(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Fe,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=v(n)}catch(e){}$e.set(e,t,n)}else n=void 0;return n}function m(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return we.css(e,t,"")},u=s(),l=n&&n[3]||(we.cssNumber[t]?"":"px"),c=(we.cssNumber[t]||"px"!==l&&+u)&&ze.exec(we.css(e,t));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)we.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,we.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}function x(e){var t,n=e.ownerDocument,r=e.nodeName,i=Ge[r];return i||(t=n.body.appendChild(n.createElement(r)),i=we.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),Ge[r]=i,i)}function b(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)r=e[o],r.style&&(n=r.style.display,t?("none"===n&&(i[o]=We.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&Ue(r)&&(i[o]=x(r))):"none"!==n&&(i[o]="none",We.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}function w(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&o(e,t)?we.merge([e],n):n}function T(e,t){for(var n=0,r=e.length;n<r;n++)We.set(e[n],"globalEval",!t||We.get(t[n],"globalEval"))}function C(e,t,n,i,o){for(var a,s,u,l,c,f,p=t.createDocumentFragment(),d=[],h=0,g=e.length;h<g;h++)if((a=e[h])||0===a)if("object"===r(a))we.merge(d,a.nodeType?[a]:a);else if(Ze.test(a)){for(s=s||p.appendChild(t.createElement("div")),u=(Qe.exec(a)||["",""])[1].toLowerCase(),l=Ke[u]||Ke._default,s.innerHTML=l[1]+we.htmlPrefilter(a)+l[2],f=l[0];f--;)s=s.lastChild;we.merge(d,s.childNodes),s=p.firstChild,s.textContent=""}else d.push(t.createTextNode(a));for(p.textContent="",h=0;a=d[h++];)if(i&&we.inArray(a,i)>-1)o&&o.push(a);else if(c=we.contains(a.ownerDocument,a),s=w(p.appendChild(a),"script"),c&&T(s),n)for(f=0;a=s[f++];)Je.test(a.type||"")&&n.push(a);return p}function E(){return!0}function k(){return!1}function S(){try{return ae.activeElement}catch(e){}}function D(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)D(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=k;else if(!i)return e;return 1===o&&(a=i,i=function(e){return we().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=we.guid++)),e.each(function(){we.event.add(this,t,i,r,n)})}function N(e,t){return o(e,"table")&&o(11!==t.nodeType?t:t.firstChild,"tr")?we(e).children("tbody")[0]||e:e}function A(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function j(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function q(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(We.hasData(e)&&(o=We.access(e),a=We.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)we.event.add(t,i,l[i][n])}$e.hasData(e)&&(s=$e.access(e),u=we.extend({},s),$e.set(t,u))}}function L(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ye.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function H(e,t,r,i){t=le.apply([],t);var o,a,s,u,l,c,f=0,p=e.length,d=p-1,h=t[0],g=me(h);if(g||p>1&&"string"==typeof h&&!ye.checkClone&&at.test(h))return e.each(function(n){var o=e.eq(n);g&&(t[0]=h.call(this,n,o.html())),H(o,t,r,i)});if(p&&(o=C(t,e[0].ownerDocument,!1,e,i),a=o.firstChild,1===o.childNodes.length&&(o=a),a||i)){for(s=we.map(w(o,"script"),A),u=s.length;f<p;f++)l=o,f!==d&&(l=we.clone(l,!0,!0),u&&we.merge(s,w(l,"script"))),r.call(e[f],l,f);if(u)for(c=s[s.length-1].ownerDocument,we.map(s,j),f=0;f<u;f++)l=s[f],Je.test(l.type||"")&&!We.access(l,"globalEval")&&we.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?we._evalUrl&&we._evalUrl(l.src):n(l.textContent.replace(st,""),c,l))}return e}function O(e,t,n){for(var r,i=t?we.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||we.cleanData(w(r)),r.parentNode&&(n&&we.contains(r.ownerDocument,r)&&T(w(r,"script")),r.parentNode.removeChild(r));return e}function P(e,t,n){var r,i,o,a,s=e.style;return n=n||lt(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||we.contains(e.ownerDocument,e)||(a=we.style(e,t)),!ye.pixelBoxStyles()&&ut.test(a)&&ct.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function M(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function R(e){if(e in vt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=gt.length;n--;)if((e=gt[n]+t)in vt)return e}function I(e){var t=we.cssProps[e];return t||(t=we.cssProps[e]=R(e)||e),t}function W(e,t,n){var r=ze.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function $(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=we.css(e,n+Xe[a],!0,i)),r?("content"===n&&(u-=we.css(e,"padding"+Xe[a],!0,i)),"margin"!==n&&(u-=we.css(e,"border"+Xe[a]+"Width",!0,i))):(u+=we.css(e,"padding"+Xe[a],!0,i),"padding"!==n?u+=we.css(e,"border"+Xe[a]+"Width",!0,i):s+=we.css(e,"border"+Xe[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))),u}function B(e,t,n){var r=lt(e),i=P(e,t,r),o="border-box"===we.css(e,"boxSizing",!1,r),a=o;if(ut.test(i)){if(!n)return i;i="auto"}return a=a&&(ye.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===we.css(e,"display",!1,r))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(i=parseFloat(i)||0)+$(e,t,n||(o?"border":"content"),a,r,i)+"px"}function F(e,t,n,r,i){return new F.prototype.init(e,t,n,r,i)}function _(){mt&&(!1===ae.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(_):e.setTimeout(_,we.fx.interval),we.fx.tick())}function z(){return e.setTimeout(function(){yt=void 0}),yt=Date.now()}function X(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=Xe[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function U(e,t,n){for(var r,i=(Y.tweeners[t]||[]).concat(Y.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function V(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&Ue(e),v=We.get(e,"fxshow");n.queue||(a=we._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,we.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],xt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||we.style(e,r)}if((u=!we.isEmptyObject(t))||!we.isEmptyObject(d)){f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],l=v&&v.display,null==l&&(l=We.get(e,"display")),c=we.css(e,"display"),"none"===c&&(l?c=l:(b([e],!0),l=e.style.display||l,c=we.css(e,"display"),b([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===we.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1;for(r in d)u||(v?"hidden"in v&&(g=v.hidden):v=We.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&b([e],!0),p.done(function(){g||b([e]),We.remove(e,"fxshow");for(r in d)we.style(e,r,d[r])})),u=U(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}}function G(e,t){var n,r,i,o,a;for(n in e)if(r=h(n),i=t[r],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=we.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function Y(e,t,n){var r,i,o=0,a=Y.prefilters.length,s=we.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=yt||z(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),o<1&&u?n:(u||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:we.extend({},t),opts:we.extend(!0,{specialEasing:{},easing:we.easing._default},n),originalProperties:t,originalOptions:n,startTime:yt||z(),duration:n.duration,tweens:[],createTween:function(t,n){var r=we.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(G(c,l.opts.specialEasing);o<a;o++)if(r=Y.prefilters[o].call(l,e,c,l.opts))return me(r.stop)&&(we._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return we.map(c,U,l),me(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),we.fx.timer(we.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}function Q(e){return(e.match(Le)||[]).join(" ")}function J(e){return e.getAttribute&&e.getAttribute("class")||""}function K(e){return Array.isArray(e)?e:"string"==typeof e?e.match(Le)||[]:[]}function Z(e,t,n,i){var o;if(Array.isArray(t))we.each(t,function(t,r){n||qt.test(e)?i(e,r):Z(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==r(t))i(e,t);else for(o in t)Z(e+"["+o+"]",t[o],n,i)}function ee(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(Le)||[];if(me(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function te(e,t,n,r){function i(s){var u;return o[s]=!0,we.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===_t;return i(t.dataTypes[0])||!o["*"]&&i("*")}function ne(e,t){var n,r,i=we.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&we.extend(!0,e,r),e}function re(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function ie(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}var oe=[],ae=e.document,se=Object.getPrototypeOf,ue=oe.slice,le=oe.concat,ce=oe.push,fe=oe.indexOf,pe={},de=pe.toString,he=pe.hasOwnProperty,ge=he.toString,ve=ge.call(Object),ye={},me=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},xe=function(e){return null!=e&&e===e.window},be={type:!0,src:!0,noModule:!0},we=function(e,t){return new we.fn.init(e,t)},Te=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;we.fn=we.prototype={jquery:"3.3.1",constructor:we,length:0,toArray:function(){return ue.call(this)},get:function(e){return null==e?ue.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=we.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return we.each(this,e)},map:function(e){return this.pushStack(we.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ue.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ce,sort:oe.sort,splice:oe.splice},we.extend=we.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||me(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(l&&r&&(we.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&we.isPlainObject(n)?n:{},a[t]=we.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},we.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==de.call(e))&&(!(t=se(e))||"function"==typeof(n=he.call(t,"constructor")&&t.constructor)&&ge.call(n)===ve)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){n(e)},each:function(e,t){var n,r=0;if(i(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(Te,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?we.merge(n,"string"==typeof e?[e]:e):ce.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:fe.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,o,a=0,s=[];if(i(e))for(r=e.length;a<r;a++)null!=(o=t(e[a],a,n))&&s.push(o);else for(a in e)null!=(o=t(e[a],a,n))&&s.push(o);return le.apply([],s)},guid:1,support:ye}),"function"==typeof Symbol&&(we.fn[Symbol.iterator]=oe[Symbol.iterator]),we.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){pe["[object "+t+"]"]=t.toLowerCase()});var Ce=function(e){function t(e,t,n,r){var i,o,a,s,u,c,p,d=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!r&&((t?t.ownerDocument||t:W)!==q&&j(t),t=t||q,H)){if(11!==h&&(u=ge.exec(e)))if(i=u[1]){if(9===h){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(d&&(a=d.getElementById(i))&&R(t,a)&&a.id===i)return n.push(a),n}else{if(u[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((i=u[3])&&b.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(i)),n}if(b.qsa&&!z[e+" "]&&(!O||!O.test(e))){if(1!==h)d=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(xe,be):t.setAttribute("id",s=I),c=E(e),o=c.length;o--;)c[o]="#"+s+" "+f(c[o]);p=c.join(","),d=ve.test(e)&&l(t.parentNode)||t}if(p)try{return Q.apply(n,d.querySelectorAll(p)),n}catch(e){}finally{s===I&&t.removeAttribute("id")}}}return S(e.replace(oe,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[I]=!0,e}function i(e){var t=q.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)w.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Te(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function l(e){return e&&void 0!==e.getElementsByTagName&&e}function c(){}function f(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=B++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,f,p=[$,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(f=t[I]||(t[I]={}),c=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===$&&l[1]===s)return p[2]=l[2];if(c[o]=p,p[2]=e(t,n,u))return!0}return!1}}function d(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function h(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function v(e,t,n,i,o,a){return i&&!i[I]&&(i=v(i)),o&&!o[I]&&(o=v(o,a)),r(function(r,a,s,u){var l,c,f,p=[],d=[],v=a.length,y=r||h(t||"*",s.nodeType?[s]:s,[]),m=!e||!r&&t?y:g(y,p,e,s,u),x=n?o||(r?e:v||i)?[]:a:m;if(n&&n(m,x,s,u),i)for(l=g(x,d),i(l,[],s,u),c=l.length;c--;)(f=l[c])&&(x[d[c]]=!(m[d[c]]=f));if(r){if(o||e){if(o){for(l=[],c=x.length;c--;)(f=x[c])&&l.push(m[c]=f);o(null,x=[],l,u)}for(c=x.length;c--;)(f=x[c])&&(l=o?K(r,f):p[c])>-1&&(r[l]=!(a[l]=f))}}else x=g(x===a?x.splice(v,x.length):x),o?o(null,a,x,u):Q.apply(a,x)})}function y(e){for(var t,n,r,i=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,u=p(function(e){return e===t},a,!0),l=p(function(e){return K(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==D)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];s<i;s++)if(n=w.relative[e[s].type])c=[p(d(c),n)];else{if(n=w.filter[e[s].type].apply(null,e[s].matches),n[I]){for(r=++s;r<i&&!w.relative[e[r].type];r++);return v(s>1&&d(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(oe,"$1"),n,s<r&&y(e.slice(s,r)),r<i&&y(e=e.slice(r)),r<i&&f(e))}c.push(n)}return d(c)}function m(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,f,p,d=0,h="0",v=r&&[],y=[],m=D,x=r||o&&w.find.TAG("*",l),b=$+=null==m?1:Math.random()||.1,T=x.length;for(l&&(D=a===q||a||l);h!==T&&null!=(c=x[h]);h++){if(o&&c){for(f=0,a||c.ownerDocument===q||(j(c),s=!H);p=e[f++];)if(p(c,a||q,s)){u.push(c);break}l&&($=b)}i&&((c=!p&&c)&&d--,r&&v.push(c))}if(d+=h,i&&h!==d){for(f=0;p=n[f++];)p(v,y,a,s);if(r){if(d>0)for(;h--;)v[h]||y[h]||(y[h]=G.call(u));y=g(y)}Q.apply(u,y),l&&!r&&y.length>0&&d+n.length>1&&t.uniqueSort(u)}return l&&($=b,D=m),v};return i?r(a):a}var x,b,w,T,C,E,k,S,D,N,A,j,q,L,H,O,P,M,R,I="sizzle"+1*new Date,W=e.document,$=0,B=0,F=n(),_=n(),z=n(),X=function(e,t){return e===t&&(A=!0),0},U={}.hasOwnProperty,V=[],G=V.pop,Y=V.push,Q=V.push,J=V.slice,K=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",re=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",ie=new RegExp(ee+"+","g"),oe=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ae=new RegExp("^"+ee+"*,"+ee+"*"),se=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),ue=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),le=new RegExp(re),ce=new RegExp("^"+te+"$"),fe={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,de=/^h\d$/i,he=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,ye=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),me=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},xe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,be=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},we=function(){j()},Te=p(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{Q.apply(V=J.call(W.childNodes),W.childNodes),V[W.childNodes.length].nodeType}catch(e){Q={apply:V.length?function(e,t){Y.apply(e,J.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}b=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},j=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:W;return r!==q&&9===r.nodeType&&r.documentElement?(q=r,L=q.documentElement,H=!C(q),W!==q&&(n=q.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",we,!1):n.attachEvent&&n.attachEvent("onunload",we)),b.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=i(function(e){return e.appendChild(q.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=he.test(q.getElementsByClassName),b.getById=i(function(e){return L.appendChild(e).id=I,!q.getElementsByName||!q.getElementsByName(I).length}),b.getById?(w.filter.ID=function(e){var t=e.replace(ye,me);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&H){var n=t.getElementById(e);return n?[n]:[]}}):(w.filter.ID=function(e){var t=e.replace(ye,me);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&H){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),w.find.TAG=b.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},w.find.CLASS=b.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&H)return t.getElementsByClassName(e)},P=[],O=[],(b.qsa=he.test(q.querySelectorAll))&&(i(function(e){L.appendChild(e).innerHTML="<a id='"+I+"'></a><select id='"+I+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||O.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+I+"-]").length||O.push("~="),e.querySelectorAll(":checked").length||O.push(":checked"),e.querySelectorAll("a#"+I+"+*").length||O.push(".#.+[+~]")}),i(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=q.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&O.push("name"+ee+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&O.push(":enabled",":disabled"),L.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&O.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),O.push(",.*:")})),(b.matchesSelector=he.test(M=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&i(function(e){b.disconnectedMatch=M.call(e,"*"),M.call(e,"[s!='']:x"),P.push("!=",re)}),O=O.length&&new RegExp(O.join("|")),P=P.length&&new RegExp(P.join("|")),t=he.test(L.compareDocumentPosition),R=t||he.test(L.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},X=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!b.sortDetached&&t.compareDocumentPosition(e)===n?e===q||e.ownerDocument===W&&R(W,e)?-1:t===q||t.ownerDocument===W&&R(W,t)?1:N?K(N,e)-K(N,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],u=[t];if(!i||!o)return e===q?-1:t===q?1:i?-1:o?1:N?K(N,e)-K(N,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]===W?-1:u[r]===W?1:0},q):q},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==q&&j(e),n=n.replace(ue,"='$1']"),b.matchesSelector&&H&&!z[n+" "]&&(!P||!P.test(n))&&(!O||!O.test(n)))try{var r=M.call(e,n);if(r||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,q,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==q&&j(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==q&&j(e);var n=w.attrHandle[t.toLowerCase()],r=n&&U.call(w.attrHandle,t.toLowerCase())?n(e,t,!H):void 0;return void 0!==r?r:b.attributes||!H?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(xe,be)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!b.detectDuplicates,N=!b.sortStable&&e.slice(0),e.sort(X),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return N=null,e},T=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=T(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=T(t);return n},w=t.selectors={cacheLength:50,createPseudo:r,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,me),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,me),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&le.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,me).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=F[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&F(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ie," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==a?"nextSibling":"previousSibling",v=t.parentNode,y=s&&t.nodeName.toLowerCase(),m=!u&&!s,x=!1;if(v){if(o){for(;g;){for(p=t;p=p[g];)if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?v.firstChild:v.lastChild],a&&m){for(p=v,f=p[I]||(p[I]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),l=c[e]||[],d=l[0]===$&&l[1],x=d&&l[2],p=d&&v.childNodes[d];p=++d&&p&&p[g]||(x=d=0)||h.pop();)if(1===p.nodeType&&++x&&p===t){c[e]=[$,d,x];break}}else if(m&&(p=t,f=p[I]||(p[I]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),l=c[e]||[],d=l[0]===$&&l[1],x=d),!1===x)for(;(p=++d&&p&&p[g]||(x=d=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++x||(m&&(f=p[I]||(p[I]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),c[e]=[$,x]),p!==t)););return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(e,n){var i,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[I]?o(n):o.length>1?(i=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=K(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=k(e.replace(oe,"$1"));return i[I]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(ye,me),function(t){return(t.textContent||t.innerText||T(t)).indexOf(e)>-1}}),lang:r(function(e){return ce.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ye,me).toLowerCase(),function(t){var n;do{if(n=H?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===q.activeElement&&(!q.hasFocus||q.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},
empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return de.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},w.pseudos.nth=w.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[x]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(x);for(x in{submit:!0,reset:!0})w.pseudos[x]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(x);return c.prototype=w.filters=w.pseudos,w.setFilters=new c,E=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=_[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=w.preFilter;s;){r&&!(i=ae.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=se.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(oe," ")}),s=s.slice(r.length));for(a in w.filter)!(i=fe[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):_(e,u).slice(0)},k=t.compile=function(e,t){var n,r=[],i=[],o=z[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=y(t[n]),o[I]?r.push(o):i.push(o);o=z(e,m(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,a,s,u,c="function"==typeof e&&e,p=!r&&E(e=c.selector||e);if(n=n||[],1===p.length){if(o=p[0]=p[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&H&&w.relative[o[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(ye,me),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=fe.needsContext.test(e)?0:o.length;i--&&(a=o[i],!w.relative[s=a.type]);)if((u=w.find[s])&&(r=u(a.matches[0].replace(ye,me),ve.test(o[0].type)&&l(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&f(o)))return Q.apply(n,r),n;break}}return(c||k(e,p))(r,t,!H,n,!t||ve.test(e)&&l(t.parentNode)||t),n},b.sortStable=I.split("").sort(X).join("")===I,b.detectDuplicates=!!A,j(),b.sortDetached=i(function(e){return 1&e.compareDocumentPosition(q.createElement("fieldset"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(Z,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);we.find=Ce,we.expr=Ce.selectors,we.expr[":"]=we.expr.pseudos,we.uniqueSort=we.unique=Ce.uniqueSort,we.text=Ce.getText,we.isXMLDoc=Ce.isXML,we.contains=Ce.contains,we.escapeSelector=Ce.escape;var Ee=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&we(e).is(n))break;r.push(e)}return r},ke=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Se=we.expr.match.needsContext,De=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;we.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?we.find.matchesSelector(r,e)?[r]:[]:we.find.matches(e,we.grep(t,function(e){return 1===e.nodeType}))},we.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(we(e).filter(function(){for(t=0;t<r;t++)if(we.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)we.find(e,i[t],n);return r>1?we.uniqueSort(n):n},filter:function(e){return this.pushStack(a(this,e||[],!1))},not:function(e){return this.pushStack(a(this,e||[],!0))},is:function(e){return!!a(this,"string"==typeof e&&Se.test(e)?we(e):e||[],!1).length}});var Ne,Ae=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(we.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||Ne,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Ae.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof we?t[0]:t,we.merge(this,we.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:ae,!0)),De.test(r[1])&&we.isPlainObject(t))for(r in t)me(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=ae.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):me(e)?void 0!==n.ready?n.ready(e):e(we):we.makeArray(e,this)}).prototype=we.fn,Ne=we(ae);var je=/^(?:parents|prev(?:Until|All))/,qe={children:!0,contents:!0,next:!0,prev:!0};we.fn.extend({has:function(e){var t=we(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(we.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&we(e);if(!Se.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&we.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?we.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?fe.call(we(e),this[0]):fe.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(we.uniqueSort(we.merge(this.get(),we(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),we.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ee(e,"parentNode")},parentsUntil:function(e,t,n){return Ee(e,"parentNode",n)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return Ee(e,"nextSibling")},prevAll:function(e){return Ee(e,"previousSibling")},nextUntil:function(e,t,n){return Ee(e,"nextSibling",n)},prevUntil:function(e,t,n){return Ee(e,"previousSibling",n)},siblings:function(e){return ke((e.parentNode||{}).firstChild,e)},children:function(e){return ke(e.firstChild)},contents:function(e){return o(e,"iframe")?e.contentDocument:(o(e,"template")&&(e=e.content||e),we.merge([],e.childNodes))}},function(e,t){we.fn[e]=function(n,r){var i=we.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=we.filter(r,i)),this.length>1&&(qe[e]||we.uniqueSort(i),je.test(e)&&i.reverse()),this.pushStack(i)}});var Le=/[^\x20\t\r\n\f]+/g;we.Callbacks=function(e){e="string"==typeof e?u(e):we.extend({},e);var t,n,i,o,a=[],s=[],l=-1,c=function(){for(o=o||e.once,i=t=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)!1===a[l].apply(n[0],n[1])&&e.stopOnFalse&&(l=a.length,n=!1);e.memory||(n=!1),t=!1,o&&(a=n?[]:"")},f={add:function(){return a&&(n&&!t&&(l=a.length-1,s.push(n)),function t(n){we.each(n,function(n,i){me(i)?e.unique&&f.has(i)||a.push(i):i&&i.length&&"string"!==r(i)&&t(i)})}(arguments),n&&!t&&c()),this},remove:function(){return we.each(arguments,function(e,t){for(var n;(n=we.inArray(t,a,n))>-1;)a.splice(n,1),n<=l&&l--}),this},has:function(e){return e?we.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return o=s=[],n||t||(a=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!i}};return f},we.extend({Deferred:function(t){var n=[["notify","progress",we.Callbacks("memory"),we.Callbacks("memory"),2],["resolve","done",we.Callbacks("once memory"),we.Callbacks("once memory"),0,"resolved"],["reject","fail",we.Callbacks("once memory"),we.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return we.Deferred(function(t){we.each(n,function(n,r){var i=me(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&me(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){function o(t,n,r,i){return function(){var s=this,u=arguments,f=function(){var e,f;if(!(t<a)){if((e=r.apply(s,u))===n.promise())throw new TypeError("Thenable self-resolution");f=e&&("object"==typeof e||"function"==typeof e)&&e.then,me(f)?i?f.call(e,o(a,n,l,i),o(a,n,c,i)):(a++,f.call(e,o(a,n,l,i),o(a,n,c,i),o(a,n,l,n.notifyWith))):(r!==l&&(s=void 0,u=[e]),(i||n.resolveWith)(s,u))}},p=i?f:function(){try{f()}catch(e){we.Deferred.exceptionHook&&we.Deferred.exceptionHook(e,p.stackTrace),t+1>=a&&(r!==c&&(s=void 0,u=[e]),n.rejectWith(s,u))}};t?p():(we.Deferred.getStackHook&&(p.stackTrace=we.Deferred.getStackHook()),e.setTimeout(p))}}var a=0;return we.Deferred(function(e){n[0][3].add(o(0,e,me(i)?i:l,e.notifyWith)),n[1][3].add(o(0,e,me(t)?t:l)),n[2][3].add(o(0,e,me(r)?r:c))}).promise()},promise:function(e){return null!=e?we.extend(e,i):i}},o={};return we.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=ue.call(arguments),o=we.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?ue.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(f(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||me(i[n]&&i[n].then)))return o.then();for(;n--;)f(i[n],a(n),o.reject);return o.promise()}});var He=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;we.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&He.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},we.readyException=function(t){e.setTimeout(function(){throw t})};var Oe=we.Deferred();we.fn.ready=function(e){return Oe.then(e).catch(function(e){we.readyException(e)}),this},we.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--we.readyWait:we.isReady)||(we.isReady=!0,!0!==e&&--we.readyWait>0||Oe.resolveWith(ae,[we]))}}),we.ready.then=Oe.then,"complete"===ae.readyState||"loading"!==ae.readyState&&!ae.documentElement.doScroll?e.setTimeout(we.ready):(ae.addEventListener("DOMContentLoaded",p),e.addEventListener("load",p));var Pe=function(e,t,n,i,o,a,s){var u=0,l=e.length,c=null==n;if("object"===r(n)){o=!0;for(u in n)Pe(e,t,u,n[u],!0,a,s)}else if(void 0!==i&&(o=!0,me(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(we(e),n)})),t))for(;u<l;u++)t(e[u],n,s?i:i.call(e[u],u,t(e[u],n)));return o?e:c?t.call(e):l?t(e[0],n):a},Me=/^-ms-/,Re=/-([a-z])/g,Ie=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};g.uid=1,g.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Ie(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[h(t)]=n;else for(r in t)i[h(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][h(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){Array.isArray(t)?t=t.map(h):(t=h(t),t=t in r?[t]:t.match(Le)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||we.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!we.isEmptyObject(t)}};var We=new g,$e=new g,Be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Fe=/[A-Z]/g;we.extend({hasData:function(e){return $e.hasData(e)||We.hasData(e)},data:function(e,t,n){return $e.access(e,t,n)},removeData:function(e,t){$e.remove(e,t)},_data:function(e,t,n){return We.access(e,t,n)},_removeData:function(e,t){We.remove(e,t)}}),we.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=$e.get(o),1===o.nodeType&&!We.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=h(r.slice(5)),y(o,r,i[r])));We.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){$e.set(this,e)}):Pe(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=$e.get(o,e)))return n;if(void 0!==(n=y(o,e)))return n}else this.each(function(){$e.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){$e.remove(this,e)})}}),we.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=We.get(e,t),n&&(!r||Array.isArray(n)?r=We.access(e,t,we.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=we.queue(e,t),r=n.length,i=n.shift(),o=we._queueHooks(e,t),a=function(){we.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return We.get(e,n)||We.access(e,n,{empty:we.Callbacks("once memory").add(function(){We.remove(e,[t+"queue",n])})})}}),we.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?we.queue(this[0],e):void 0===t?this:this.each(function(){var n=we.queue(this,e,t);we._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&we.dequeue(this,e)})},dequeue:function(e){return this.each(function(){we.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=we.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=We.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var _e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ze=new RegExp("^(?:([+-])=|)("+_e+")([a-z%]*)$","i"),Xe=["Top","Right","Bottom","Left"],Ue=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&we.contains(e.ownerDocument,e)&&"none"===we.css(e,"display")},Ve=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},Ge={};we.fn.extend({show:function(){return b(this,!0)},hide:function(){return b(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ue(this)?we(this).show():we(this).hide()})}});var Ye=/^(?:checkbox|radio)$/i,Qe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Je=/^$|^module$|\/(?:java|ecma)script/i,Ke={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ke.optgroup=Ke.option,Ke.tbody=Ke.tfoot=Ke.colgroup=Ke.caption=Ke.thead,Ke.th=Ke.td;var Ze=/<|&#?\w+;/;!function(){var e=ae.createDocumentFragment(),t=e.appendChild(ae.createElement("div")),n=ae.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),ye.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ye.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var et=ae.documentElement,tt=/^key/,nt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rt=/^([^.]*)(?:\.(.+)|)/;we.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=We.get(e);if(v)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&we.find.matchesSelector(et,i),n.guid||(n.guid=we.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(t){return void 0!==we&&we.event.triggered!==t.type?we.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Le)||[""],l=t.length;l--;)s=rt.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d&&(f=we.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=we.event.special[d]||{},c=we.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&we.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||(p=u[d]=[],p.delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),we.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=We.hasData(e)&&We.get(e);if(v&&(u=v.events)){for(t=(t||"").match(Le)||[""],l=t.length;l--;)if(s=rt.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){for(f=we.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=u[d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||we.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)we.event.remove(e,d+t[l],n,r,!0);we.isEmptyObject(u)&&We.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=we.event.fix(e),u=new Array(arguments.length),l=(We.get(this,"events")||{})[s.type]||[],c=we.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=we.event.handlers.call(this,s,l),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((we.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)r=t[n],i=r.selector+" ",void 0===a[i]&&(a[i]=r.needsContext?we(i,this).index(l)>-1:we.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(we.Event.prototype,e,{enumerable:!0,configurable:!0,get:me(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[we.expando]?e:new we.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==S()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===S()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&o(this,"input"))return this.click(),!1},_default:function(e){return o(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},we.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},we.Event=function(e,t){if(!(this instanceof we.Event))return new we.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?E:k,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&we.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[we.expando]=!0},we.Event.prototype={constructor:we.Event,isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=E,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=E,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=E,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},we.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&tt.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&nt.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},we.event.addProp),we.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){we.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||we.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),we.fn.extend({on:function(e,t,n,r){return D(this,e,t,n,r)},one:function(e,t,n,r){return D(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,we(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=k),this.each(function(){we.event.remove(this,e,n,t)})}});var it=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ot=/<script|<style|<link/i,at=/checked\s*(?:[^=]|=\s*.checked.)/i,st=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;we.extend({htmlPrefilter:function(e){return e.replace(it,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=we.contains(e.ownerDocument,e);if(!(ye.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||we.isXMLDoc(e)))for(a=w(s),o=w(e),r=0,i=o.length;r<i;r++)L(o[r],a[r]);if(t)if(n)for(o=o||w(e),a=a||w(s),r=0,i=o.length;r<i;r++)q(o[r],a[r]);else q(e,s);return a=w(s,"script"),a.length>0&&T(a,!u&&w(e,"script")),s},cleanData:function(e){for(var t,n,r,i=we.event.special,o=0;void 0!==(n=e[o]);o++)if(Ie(n)){if(t=n[We.expando]){if(t.events)for(r in t.events)i[r]?we.event.remove(n,r):we.removeEvent(n,r,t.handle);n[We.expando]=void 0}n[$e.expando]&&(n[$e.expando]=void 0)}}}),we.fn.extend({detach:function(e){return O(this,e,!0)},remove:function(e){return O(this,e)},text:function(e){return Pe(this,function(e){return void 0===e?we.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return H(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){N(this,e).appendChild(e)}})},prepend:function(){return H(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=N(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return H(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return H(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(we.cleanData(w(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return we.clone(this,e,t)})},html:function(e){return Pe(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ot.test(e)&&!Ke[(Qe.exec(e)||["",""])[1].toLowerCase()]){e=we.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(we.cleanData(w(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return H(this,arguments,function(t){var n=this.parentNode;we.inArray(this,e)<0&&(we.cleanData(w(this)),n&&n.replaceChild(t,this))},e)}}),we.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){we.fn[e]=function(e){for(var n,r=[],i=we(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),we(i[a])[t](n),ce.apply(r,n.get());return this.pushStack(r)}});var ut=new RegExp("^("+_e+")(?!px)[a-z%]+$","i"),lt=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},ct=new RegExp(Xe.join("|"),"i");!function(){function t(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",et.appendChild(u).appendChild(l);var t=e.getComputedStyle(l);r="1%"!==t.top,s=12===n(t.marginLeft),l.style.right="60%",a=36===n(t.right),i=36===n(t.width),l.style.position="absolute",o=36===l.offsetWidth||"absolute",et.removeChild(u),l=null}}function n(e){return Math.round(parseFloat(e))}var r,i,o,a,s,u=ae.createElement("div"),l=ae.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",ye.clearCloneStyle="content-box"===l.style.backgroundClip,we.extend(ye,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),s},scrollboxSize:function(){return t(),o}}))}();var ft=/^(none|table(?!-c[ea]).+)/,pt=/^--/,dt={position:"absolute",visibility:"hidden",display:"block"},ht={letterSpacing:"0",fontWeight:"400"},gt=["Webkit","Moz","ms"],vt=ae.createElement("div").style;we.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=P(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=h(t),u=pt.test(t),l=e.style;if(u||(t=I(s)),a=we.cssHooks[t]||we.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];o=typeof n,"string"===o&&(i=ze.exec(n))&&i[1]&&(n=m(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(we.cssNumber[s]?"":"px")),ye.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=h(t);return pt.test(t)||(t=I(s)),a=we.cssHooks[t]||we.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=P(e,t,r)),"normal"===i&&t in ht&&(i=ht[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),we.each(["height","width"],function(e,t){we.cssHooks[t]={get:function(e,n,r){if(n)return!ft.test(we.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?B(e,t,r):Ve(e,dt,function(){return B(e,t,r)})},set:function(e,n,r){var i,o=lt(e),a="border-box"===we.css(e,"boxSizing",!1,o),s=r&&$(e,t,r,a,o);return a&&ye.scrollboxSize()===o.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-$(e,t,"border",!1,o)-.5)),s&&(i=ze.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=we.css(e,t)),W(e,n,s)}}}),we.cssHooks.marginLeft=M(ye.reliableMarginLeft,function(e,t){if(t)return(parseFloat(P(e,"marginLeft"))||e.getBoundingClientRect().left-Ve(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),we.each({margin:"",padding:"",border:"Width"},function(e,t){we.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Xe[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(we.cssHooks[e+t].set=W)}),we.fn.extend({css:function(e,t){return Pe(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=lt(e),i=t.length;a<i;a++)o[t[a]]=we.css(e,t[a],!1,r);return o}return void 0!==n?we.style(e,t,n):we.css(e,t)},e,t,arguments.length>1)}}),we.Tween=F,F.prototype={constructor:F,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||we.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(we.cssNumber[n]?"":"px")},cur:function(){var e=F.propHooks[this.prop];return e&&e.get?e.get(this):F.propHooks._default.get(this)},run:function(e){var t,n=F.propHooks[this.prop];return this.options.duration?this.pos=t=we.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=we.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){we.fx.step[e.prop]?we.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[we.cssProps[e.prop]]&&!we.cssHooks[e.prop]?e.elem[e.prop]=e.now:we.style(e.elem,e.prop,e.now+e.unit)}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},we.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},we.fx=F.prototype.init,we.fx.step={};var yt,mt,xt=/^(?:toggle|show|hide)$/,bt=/queueHooks$/;we.Animation=we.extend(Y,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return m(n.elem,e,ze.exec(t),n),n}]},tweener:function(e,t){me(e)?(t=e,e=["*"]):e=e.match(Le);for(var n,r=0,i=e.length;r<i;r++)n=e[r],Y.tweeners[n]=Y.tweeners[n]||[],Y.tweeners[n].unshift(t)},prefilters:[V],prefilter:function(e,t){t?Y.prefilters.unshift(e):Y.prefilters.push(e)}}),we.speed=function(e,t,n){var r=e&&"object"==typeof e?we.extend({},e):{complete:n||!n&&t||me(e)&&e,duration:e,easing:n&&t||t&&!me(t)&&t};return we.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in we.fx.speeds?r.duration=we.fx.speeds[r.duration]:r.duration=we.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){me(r.old)&&r.old.call(this),r.queue&&we.dequeue(this,r.queue)},r},we.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ue).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=we.isEmptyObject(e),o=we.speed(t,n,r),a=function(){var t=Y(this,we.extend({},e),o);(i||We.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=we.timers,a=We.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&bt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||we.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){
var t,n=We.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=we.timers,a=r?r.length:0;for(n.finish=!0,we.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),we.each(["toggle","show","hide"],function(e,t){var n=we.fn[t];we.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(X(t,!0),e,r,i)}}),we.each({slideDown:X("show"),slideUp:X("hide"),slideToggle:X("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){we.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),we.timers=[],we.fx.tick=function(){var e,t=0,n=we.timers;for(yt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||we.fx.stop(),yt=void 0},we.fx.timer=function(e){we.timers.push(e),we.fx.start()},we.fx.interval=13,we.fx.start=function(){mt||(mt=!0,_())},we.fx.stop=function(){mt=null},we.fx.speeds={slow:600,fast:200,_default:400},we.fn.delay=function(t,n){return t=we.fx?we.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=ae.createElement("input"),t=ae.createElement("select"),n=t.appendChild(ae.createElement("option"));e.type="checkbox",ye.checkOn=""!==e.value,ye.optSelected=n.selected,e=ae.createElement("input"),e.value="t",e.type="radio",ye.radioValue="t"===e.value}();var wt,Tt=we.expr.attrHandle;we.fn.extend({attr:function(e,t){return Pe(this,we.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){we.removeAttr(this,e)})}}),we.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?we.prop(e,t,n):(1===o&&we.isXMLDoc(e)||(i=we.attrHooks[t.toLowerCase()]||(we.expr.match.bool.test(t)?wt:void 0)),void 0!==n?null===n?void we.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=we.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!ye.radioValue&&"radio"===t&&o(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(Le);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),wt={set:function(e,t,n){return!1===t?we.removeAttr(e,n):e.setAttribute(n,n),n}},we.each(we.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Tt[t]||we.find.attr;Tt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=Tt[a],Tt[a]=i,i=null!=n(e,t,r)?a:null,Tt[a]=o),i}});var Ct=/^(?:input|select|textarea|button)$/i,Et=/^(?:a|area)$/i;we.fn.extend({prop:function(e,t){return Pe(this,we.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[we.propFix[e]||e]})}}),we.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&we.isXMLDoc(e)||(t=we.propFix[t]||t,i=we.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=we.find.attr(e,"tabindex");return t?parseInt(t,10):Ct.test(e.nodeName)||Et.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ye.optSelected||(we.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),we.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){we.propFix[this.toLowerCase()]=this}),we.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(me(e))return this.each(function(t){we(this).addClass(e.call(this,t,J(this)))});if(t=K(e),t.length)for(;n=this[u++];)if(i=J(n),r=1===n.nodeType&&" "+Q(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=Q(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(me(e))return this.each(function(t){we(this).removeClass(e.call(this,t,J(this)))});if(!arguments.length)return this.attr("class","");if(t=K(e),t.length)for(;n=this[u++];)if(i=J(n),r=1===n.nodeType&&" "+Q(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=Q(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):me(e)?this.each(function(n){we(this).toggleClass(e.call(this,n,J(this),t),t)}):this.each(function(){var t,i,o,a;if(r)for(i=0,o=we(this),a=K(e);t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||(t=J(this),t&&We.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":We.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+Q(J(n))+" ").indexOf(t)>-1)return!0;return!1}});var kt=/\r/g;we.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=me(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,we(this).val()):e,null==i?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=we.map(i,function(e){return null==e?"":e+""})),(t=we.valHooks[this.type]||we.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=we.valHooks[i.type]||we.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(kt,""):null==n?"":n)}}}),we.extend({valHooks:{option:{get:function(e){var t=we.find.attr(e,"value");return null!=t?t:Q(we.text(e))}},select:{get:function(e){var t,n,r,i=e.options,a=e.selectedIndex,s="select-one"===e.type,u=s?null:[],l=s?a+1:i.length;for(r=a<0?l:s?a:0;r<l;r++)if(n=i[r],(n.selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!o(n.parentNode,"optgroup"))){if(t=we(n).val(),s)return t;u.push(t)}return u},set:function(e,t){for(var n,r,i=e.options,o=we.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=we.inArray(we.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),we.each(["radio","checkbox"],function(){we.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=we.inArray(we(e).val(),t)>-1}},ye.checkOn||(we.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),ye.focusin="onfocusin"in e;var St=/^(?:focusinfocus|focusoutblur)$/,Dt=function(e){e.stopPropagation()};we.extend(we.event,{trigger:function(t,n,r,i){var o,a,s,u,l,c,f,p,d=[r||ae],h=he.call(t,"type")?t.type:t,g=he.call(t,"namespace")?t.namespace.split("."):[];if(a=p=s=r=r||ae,3!==r.nodeType&&8!==r.nodeType&&!St.test(h+we.event.triggered)&&(h.indexOf(".")>-1&&(g=h.split("."),h=g.shift(),g.sort()),l=h.indexOf(":")<0&&"on"+h,t=t[we.expando]?t:new we.Event(h,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=g.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:we.makeArray(n,[t]),f=we.event.special[h]||{},i||!f.trigger||!1!==f.trigger.apply(r,n))){if(!i&&!f.noBubble&&!xe(r)){for(u=f.delegateType||h,St.test(u+h)||(a=a.parentNode);a;a=a.parentNode)d.push(a),s=a;s===(r.ownerDocument||ae)&&d.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=d[o++])&&!t.isPropagationStopped();)p=a,t.type=o>1?u:f.bindType||h,c=(We.get(a,"events")||{})[t.type]&&We.get(a,"handle"),c&&c.apply(a,n),(c=l&&a[l])&&c.apply&&Ie(a)&&(t.result=c.apply(a,n),!1===t.result&&t.preventDefault());return t.type=h,i||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(d.pop(),n)||!Ie(r)||l&&me(r[h])&&!xe(r)&&(s=r[l],s&&(r[l]=null),we.event.triggered=h,t.isPropagationStopped()&&p.addEventListener(h,Dt),r[h](),t.isPropagationStopped()&&p.removeEventListener(h,Dt),we.event.triggered=void 0,s&&(r[l]=s)),t.result}},simulate:function(e,t,n){var r=we.extend(new we.Event,n,{type:e,isSimulated:!0});we.event.trigger(r,null,t)}}),we.fn.extend({trigger:function(e,t){return this.each(function(){we.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return we.event.trigger(e,t,n,!0)}}),ye.focusin||we.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){we.event.simulate(t,e.target,we.event.fix(e))};we.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=We.access(r,t);i||r.addEventListener(e,n,!0),We.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=We.access(r,t)-1;i?We.access(r,t,i):(r.removeEventListener(e,n,!0),We.remove(r,t))}}});var Nt=e.location,At=Date.now(),jt=/\?/;we.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||we.error("Invalid XML: "+t),n};var qt=/\[\]$/,Lt=/\r?\n/g,Ht=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;we.param=function(e,t){var n,r=[],i=function(e,t){var n=me(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!we.isPlainObject(e))we.each(e,function(){i(this.name,this.value)});else for(n in e)Z(n,e[n],t,i);return r.join("&")},we.fn.extend({serialize:function(){return we.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=we.prop(this,"elements");return e?we.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!we(this).is(":disabled")&&Ot.test(this.nodeName)&&!Ht.test(e)&&(this.checked||!Ye.test(e))}).map(function(e,t){var n=we(this).val();return null==n?null:Array.isArray(n)?we.map(n,function(e){return{name:t.name,value:e.replace(Lt,"\r\n")}}):{name:t.name,value:n.replace(Lt,"\r\n")}}).get()}});var Pt=/%20/g,Mt=/#.*$/,Rt=/([?&])_=[^&]*/,It=/^(.*?):[ \t]*([^\r\n]*)$/gm,Wt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,$t=/^(?:GET|HEAD)$/,Bt=/^\/\//,Ft={},_t={},zt="*/".concat("*"),Xt=ae.createElement("a");Xt.href=Nt.href,we.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Nt.href,type:"GET",isLocal:Wt.test(Nt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":we.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ne(ne(e,we.ajaxSettings),t):ne(we.ajaxSettings,e)},ajaxPrefilter:ee(Ft),ajaxTransport:ee(_t),ajax:function(t,n){function r(t,n,r,s){var l,p,d,b,w,T=n;c||(c=!0,u&&e.clearTimeout(u),i=void 0,a=s||"",C.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(b=re(h,C,r)),b=ie(h,b,C,l),l?(h.ifModified&&(w=C.getResponseHeader("Last-Modified"),w&&(we.lastModified[o]=w),(w=C.getResponseHeader("etag"))&&(we.etag[o]=w)),204===t||"HEAD"===h.type?T="nocontent":304===t?T="notmodified":(T=b.state,p=b.data,d=b.error,l=!d)):(d=T,!t&&T||(T="error",t<0&&(t=0))),C.status=t,C.statusText=(n||T)+"",l?y.resolveWith(g,[p,T,C]):y.rejectWith(g,[C,T,d]),C.statusCode(x),x=void 0,f&&v.trigger(l?"ajaxSuccess":"ajaxError",[C,h,l?p:d]),m.fireWith(g,[C,T]),f&&(v.trigger("ajaxComplete",[C,h]),--we.active||we.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,l,c,f,p,d,h=we.ajaxSetup({},n),g=h.context||h,v=h.context&&(g.nodeType||g.jquery)?we(g):we.event,y=we.Deferred(),m=we.Callbacks("once memory"),x=h.statusCode||{},b={},w={},T="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=It.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)C.always(e[C.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||T;return i&&i.abort(t),r(0,t),this}};if(y.promise(C),h.url=((t||h.url||Nt.href)+"").replace(Bt,Nt.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(Le)||[""],null==h.crossDomain){l=ae.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=Xt.protocol+"//"+Xt.host!=l.protocol+"//"+l.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=we.param(h.data,h.traditional)),te(Ft,h,n,C),c)return C;f=we.event&&h.global,f&&0==we.active++&&we.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!$t.test(h.type),o=h.url.replace(Mt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Pt,"+")):(d=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(jt.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(Rt,"$1"),d=(jt.test(o)?"&":"?")+"_="+At+++d),h.url=o+d),h.ifModified&&(we.lastModified[o]&&C.setRequestHeader("If-Modified-Since",we.lastModified[o]),we.etag[o]&&C.setRequestHeader("If-None-Match",we.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&C.setRequestHeader("Content-Type",h.contentType),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+zt+"; q=0.01":""):h.accepts["*"]);for(p in h.headers)C.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(!1===h.beforeSend.call(g,C,h)||c))return C.abort();if(T="abort",m.add(h.complete),C.done(h.success),C.fail(h.error),i=te(_t,h,n,C)){if(C.readyState=1,f&&v.trigger("ajaxSend",[C,h]),c)return C;h.async&&h.timeout>0&&(u=e.setTimeout(function(){C.abort("timeout")},h.timeout));try{c=!1,i.send(b,r)}catch(e){if(c)throw e;r(-1,e)}}else r(-1,"No Transport");return C},getJSON:function(e,t,n){return we.get(e,t,n,"json")},getScript:function(e,t){return we.get(e,void 0,t,"script")}}),we.each(["get","post"],function(e,t){we[t]=function(e,n,r,i){return me(n)&&(i=i||r,r=n,n=void 0),we.ajax(we.extend({url:e,type:t,dataType:i,data:n,success:r},we.isPlainObject(e)&&e))}}),we._evalUrl=function(e){return we.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},we.fn.extend({wrapAll:function(e){var t;return this[0]&&(me(e)&&(e=e.call(this[0])),t=we(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return me(e)?this.each(function(t){we(this).wrapInner(e.call(this,t))}):this.each(function(){var t=we(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=me(e);return this.each(function(n){we(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){we(this).replaceWith(this.childNodes)}),this}}),we.expr.pseudos.hidden=function(e){return!we.expr.pseudos.visible(e)},we.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},we.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Ut={0:200,1223:204},Vt=we.ajaxSettings.xhr();ye.cors=!!Vt&&"withCredentials"in Vt,ye.ajax=Vt=!!Vt,we.ajaxTransport(function(t){var n,r;if(ye.cors||Vt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Ut[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),we.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),we.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return we.globalEval(e),e}}}),we.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),we.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=we("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),ae.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Gt=[],Yt=/(=)\?(?=&|$)|\?\?/;we.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||we.expando+"_"+At++;return this[e]=!0,e}}),we.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Yt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=me(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Yt,"$1"+i):!1!==t.jsonp&&(t.url+=(jt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||we.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?we(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Gt.push(i)),a&&me(o)&&o(a[0]),a=o=void 0}),"script"}),ye.createHTMLDocument=function(){var e=ae.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),we.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,i,o;return t||(ye.createHTMLDocument?(t=ae.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=ae.location.href,t.head.appendChild(r)):t=ae),i=De.exec(e),o=!n&&[],i?[t.createElement(i[1])]:(i=C([e],t,o),o&&o.length&&we(o).remove(),we.merge([],i.childNodes))},we.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=Q(e.slice(s)),e=e.slice(0,s)),me(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&we.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?we("<div>").append(we.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},we.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){we.fn[t]=function(e){return this.on(t,e)}}),we.expr.pseudos.animated=function(e){return we.grep(we.timers,function(t){return e===t.elem}).length},we.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=we.css(e,"position"),f=we(e),p={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=we.css(e,"top"),u=we.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),me(t)&&(t=t.call(e,n,we.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):f.css(p)}},we.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){we.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===we.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===we.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&(i=we(e).offset(),i.top+=we.css(e,"borderTopWidth",!0),i.left+=we.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-we.css(r,"marginTop",!0),left:t.left-i.left-we.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===we.css(e,"position");)e=e.offsetParent;return e||et})}}),we.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;we.fn[e]=function(r){return Pe(this,function(e,r,i){var o;if(xe(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),we.each(["top","left"],function(e,t){we.cssHooks[t]=M(ye.pixelPosition,function(e,n){if(n)return n=P(e,t),ut.test(n)?we(e).position()[t]+"px":n})}),we.each({Height:"height",Width:"width"},function(e,t){we.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){we.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return Pe(this,function(t,n,i){var o;return xe(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?we.css(t,n,s):we.style(t,n,i,s)},t,a?i:void 0,a)}})}),we.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){we.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),we.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),we.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),we.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),me(e))return r=ue.call(arguments,2),i=function(){return e.apply(t||this,r.concat(ue.call(arguments)))},i.guid=e.guid=e.guid||we.guid++,i},we.holdReady=function(e){e?we.readyWait++:we.ready(!0)},we.isArray=Array.isArray,we.parseJSON=JSON.parse,we.nodeName=o,we.isFunction=me,we.isWindow=xe,we.camelCase=h,we.type=r,we.now=Date.now,we.isNumeric=function(e){var t=we.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return we});var Qt=e.jQuery,Jt=e.$;return we.noConflict=function(t){return e.$===we&&(e.$=Jt),t&&e.jQuery===we&&(e.jQuery=Qt),we},t||(e.jQuery=e.$=we),we});
},{}],93:[function(require,module,exports){
(function (global){
(function(){function n(n,t,r){switch(r.length){case 0:return n.call(t);case 1:return n.call(t,r[0]);case 2:return n.call(t,r[0],r[1]);case 3:return n.call(t,r[0],r[1],r[2])}return n.apply(t,r)}function t(n,t,r,e){for(var u=-1,i=null==n?0:n.length;++u<i;){var o=n[u];t(e,o,r(o),n)}return e}function r(n,t){for(var r=-1,e=null==n?0:n.length;++r<e&&!1!==t(n[r],r,n););return n}function e(n,t){for(var r=null==n?0:n.length;r--&&!1!==t(n[r],r,n););return n}function u(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function i(n,t){for(var r=-1,e=null==n?0:n.length,u=0,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[u++]=o)}return i}function o(n,t){return!!(null==n?0:n.length)&&y(n,t,0)>-1}function f(n,t,r){for(var e=-1,u=null==n?0:n.length;++e<u;)if(r(t,n[e]))return!0;return!1}function c(n,t){for(var r=-1,e=null==n?0:n.length,u=Array(e);++r<e;)u[r]=t(n[r],r,n);return u}function a(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function l(n,t,r,e){var u=-1,i=null==n?0:n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);return r}function s(n,t,r,e){var u=null==n?0:n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function h(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function p(n){return n.split("")}function _(n){return n.match(Wt)||[]}function v(n,t,r){var e;return r(n,function(n,r,u){if(t(n,r,u))return e=r,!1}),e}function g(n,t,r,e){for(var u=n.length,i=r+(e?1:-1);e?i--:++i<u;)if(t(n[i],i,n))return i;return-1}function y(n,t,r){return t===t?q(n,t,r):g(n,b,r)}function d(n,t,r,e){for(var u=r-1,i=n.length;++u<i;)if(e(n[u],t))return u;return-1}function b(n){return n!==n}function w(n,t){var r=null==n?0:n.length;return r?k(n,t)/r:zn}function m(n){return function(t){return null==t?Y:t[n]}}function x(n){return function(t){return null==n?Y:n[t]}}function j(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function A(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}function k(n,t){for(var r,e=-1,u=n.length;++e<u;){var i=t(n[e]);i!==Y&&(r=r===Y?i:r+i)}return r}function O(n,t){for(var r=-1,e=Array(n);++r<n;)e[r]=t(r);return e}function I(n,t){return c(t,function(t){return[t,n[t]]})}function R(n){return function(t){return n(t)}}function z(n,t){return c(t,function(t){return n[t]})}function E(n,t){return n.has(t)}function S(n,t){for(var r=-1,e=n.length;++r<e&&y(t,n[r],0)>-1;);return r}function L(n,t){for(var r=n.length;r--&&y(t,n[r],0)>-1;);return r}function W(n,t){for(var r=n.length,e=0;r--;)n[r]===t&&++e;return e}function C(n){return"\\"+wr[n]}function U(n,t){return null==n?Y:n[t]}function B(n){return sr.test(n)}function T(n){return hr.test(n)}function $(n){for(var t,r=[];!(t=n.next()).done;)r.push(t.value);return r}function D(n){var t=-1,r=Array(n.size);return n.forEach(function(n,e){r[++t]=[e,n]}),r}function M(n,t){return function(r){return n(t(r))}}function F(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r];o!==t&&o!==en||(n[r]=en,i[u++]=r)}return i}function N(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=n}),r}function P(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=[n,n]}),r}function q(n,t,r){for(var e=r-1,u=n.length;++e<u;)if(n[e]===t)return e;return-1}function Z(n,t,r){for(var e=r+1;e--;)if(n[e]===t)return e;return e}function K(n){return B(n)?G(n):Tr(n)}function V(n){return B(n)?H(n):p(n)}function G(n){for(var t=ar.lastIndex=0;ar.test(n);)++t;return t}function H(n){return n.match(ar)||[]}function J(n){return n.match(lr)||[]}var Y,Q=200,X="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",nn="Expected a function",tn="__lodash_hash_undefined__",rn=500,en="__lodash_placeholder__",un=1,on=2,fn=4,cn=1,an=2,ln=1,sn=2,hn=4,pn=8,_n=16,vn=32,gn=64,yn=128,dn=256,bn=512,wn=30,mn="...",xn=800,jn=16,An=1,kn=2,On=1/0,In=9007199254740991,Rn=1.7976931348623157e308,zn=NaN,En=4294967295,Sn=En-1,Ln=En>>>1,Wn=[["ary",yn],["bind",ln],["bindKey",sn],["curry",pn],["curryRight",_n],["flip",bn],["partial",vn],["partialRight",gn],["rearg",dn]],Cn="[object Arguments]",Un="[object Array]",Bn="[object AsyncFunction]",Tn="[object Boolean]",$n="[object Date]",Dn="[object DOMException]",Mn="[object Error]",Fn="[object Function]",Nn="[object GeneratorFunction]",Pn="[object Map]",qn="[object Number]",Zn="[object Null]",Kn="[object Object]",Vn="[object Proxy]",Gn="[object RegExp]",Hn="[object Set]",Jn="[object String]",Yn="[object Symbol]",Qn="[object Undefined]",Xn="[object WeakMap]",nt="[object WeakSet]",tt="[object ArrayBuffer]",rt="[object DataView]",et="[object Float32Array]",ut="[object Float64Array]",it="[object Int8Array]",ot="[object Int16Array]",ft="[object Int32Array]",ct="[object Uint8Array]",at="[object Uint8ClampedArray]",lt="[object Uint16Array]",st="[object Uint32Array]",ht=/\b__p \+= '';/g,pt=/\b(__p \+=) '' \+/g,_t=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vt=/&(?:amp|lt|gt|quot|#39);/g,gt=/[&<>"']/g,yt=RegExp(vt.source),dt=RegExp(gt.source),bt=/<%-([\s\S]+?)%>/g,wt=/<%([\s\S]+?)%>/g,mt=/<%=([\s\S]+?)%>/g,xt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jt=/^\w*$/,At=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kt=/[\\^$.*+?()[\]{}|]/g,Ot=RegExp(kt.source),It=/^\s+|\s+$/g,Rt=/^\s+/,zt=/\s+$/,Et=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,St=/\{\n\/\* \[wrapped with (.+)\] \*/,Lt=/,? & /,Wt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ct=/\\(\\)?/g,Ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Bt=/\w*$/,Tt=/^[-+]0x[0-9a-f]+$/i,$t=/^0b[01]+$/i,Dt=/^\[object .+?Constructor\]$/,Mt=/^0o[0-7]+$/i,Ft=/^(?:0|[1-9]\d*)$/,Nt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Pt=/($^)/,qt=/['\n\r\u2028\u2029\\]/g,Zt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Kt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Vt="["+Kt+"]",Gt="["+Zt+"]",Ht="[a-z\\xdf-\\xf6\\xf8-\\xff]",Jt="[^\\ud800-\\udfff"+Kt+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Yt="\\ud83c[\\udffb-\\udfff]",Qt="(?:\\ud83c[\\udde6-\\uddff]){2}",Xt="[\\ud800-\\udbff][\\udc00-\\udfff]",nr="[A-Z\\xc0-\\xd6\\xd8-\\xde]",tr="(?:"+Ht+"|"+Jt+")",rr="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",er="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",Qt,Xt].join("|")+")[\\ufe0e\\ufe0f]?"+rr+")*",ur="[\\ufe0e\\ufe0f]?"+rr+er,ir="(?:"+["[\\u2700-\\u27bf]",Qt,Xt].join("|")+")"+ur,or="(?:"+["[^\\ud800-\\udfff]"+Gt+"?",Gt,Qt,Xt,"[\\ud800-\\udfff]"].join("|")+")",fr=RegExp("['’]","g"),cr=RegExp(Gt,"g"),ar=RegExp(Yt+"(?="+Yt+")|"+or+ur,"g"),lr=RegExp([nr+"?"+Ht+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Vt,nr,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Vt,nr+tr,"$"].join("|")+")",nr+"?"+tr+"+(?:['’](?:d|ll|m|re|s|t|ve))?",nr+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",ir].join("|"),"g"),sr=RegExp("[\\u200d\\ud800-\\udfff"+Zt+"\\ufe0e\\ufe0f]"),hr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,pr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_r=-1,vr={};vr[et]=vr[ut]=vr[it]=vr[ot]=vr[ft]=vr[ct]=vr[at]=vr[lt]=vr[st]=!0,vr[Cn]=vr[Un]=vr[tt]=vr[Tn]=vr[rt]=vr[$n]=vr[Mn]=vr[Fn]=vr[Pn]=vr[qn]=vr[Kn]=vr[Gn]=vr[Hn]=vr[Jn]=vr[Xn]=!1;var gr={};gr[Cn]=gr[Un]=gr[tt]=gr[rt]=gr[Tn]=gr[$n]=gr[et]=gr[ut]=gr[it]=gr[ot]=gr[ft]=gr[Pn]=gr[qn]=gr[Kn]=gr[Gn]=gr[Hn]=gr[Jn]=gr[Yn]=gr[ct]=gr[at]=gr[lt]=gr[st]=!0,gr[Mn]=gr[Fn]=gr[Xn]=!1;var yr={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},dr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},br={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},wr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},mr=parseFloat,xr=parseInt,jr="object"==typeof global&&global&&global.Object===Object&&global,Ar="object"==typeof self&&self&&self.Object===Object&&self,kr=jr||Ar||Function("return this")(),Or="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ir=Or&&"object"==typeof module&&module&&!module.nodeType&&module,Rr=Ir&&Ir.exports===Or,zr=Rr&&jr.process,Er=function(){try{var n=Ir&&Ir.require&&Ir.require("util").types;return n||zr&&zr.binding&&zr.binding("util")}catch(n){}}(),Sr=Er&&Er.isArrayBuffer,Lr=Er&&Er.isDate,Wr=Er&&Er.isMap,Cr=Er&&Er.isRegExp,Ur=Er&&Er.isSet,Br=Er&&Er.isTypedArray,Tr=m("length"),$r=x(yr),Dr=x(dr),Mr=x(br),Fr=function p(x){function q(n){if(rc(n)&&!ph(n)&&!(n instanceof Wt)){if(n instanceof H)return n;if(pl.call(n,"__wrapped__"))return Yi(n)}return new H(n)}function G(){}function H(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=Y}function Wt(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=En,this.__views__=[]}function Zt(){var n=new Wt(this.__wrapped__);return n.__actions__=Lu(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Lu(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Lu(this.__views__),n}function Kt(){if(this.__filtered__){var n=new Wt(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Vt(){var n=this.__wrapped__.value(),t=this.__dir__,r=ph(n),e=t<0,u=r?n.length:0,i=mi(0,u,this.__views__),o=i.start,f=i.end,c=f-o,a=e?f:o-1,l=this.__iteratees__,s=l.length,h=0,p=Pl(c,this.__takeCount__);if(!r||!e&&u==c&&p==c)return vu(n,this.__actions__);var _=[];n:for(;c--&&h<p;){a+=t;for(var v=-1,g=n[a];++v<s;){var y=l[v],d=y.iteratee,b=y.type,w=d(g);if(b==kn)g=w;else if(!w){if(b==An)continue n;break n}}_[h++]=g}return _}function Gt(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function Ht(){this.__data__=Xl?Xl(null):{},this.size=0}function Jt(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}function Yt(n){var t=this.__data__;if(Xl){var r=t[n];return r===tn?Y:r}return pl.call(t,n)?t[n]:Y}function Qt(n){var t=this.__data__;return Xl?t[n]!==Y:pl.call(t,n)}function Xt(n,t){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=Xl&&t===Y?tn:t,this}function nr(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function tr(){this.__data__=[],this.size=0}function rr(n){var t=this.__data__,r=Vr(t,n);return!(r<0)&&(r==t.length-1?t.pop():Il.call(t,r,1),--this.size,!0)}function er(n){var t=this.__data__,r=Vr(t,n);return r<0?Y:t[r][1]}function ur(n){return Vr(this.__data__,n)>-1}function ir(n,t){var r=this.__data__,e=Vr(r,n);return e<0?(++this.size,r.push([n,t])):r[e][1]=t,this}function or(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function ar(){this.size=0,this.__data__={hash:new Gt,map:new(Hl||nr),string:new Gt}}function lr(n){var t=yi(this,n).delete(n);return this.size-=t?1:0,t}function sr(n){return yi(this,n).get(n)}function hr(n){return yi(this,n).has(n)}function yr(n,t){var r=yi(this,n),e=r.size;return r.set(n,t),this.size+=r.size==e?0:1,this}function dr(n){var t=-1,r=null==n?0:n.length;for(this.__data__=new or;++t<r;)this.add(n[t])}function br(n){return this.__data__.set(n,tn),this}function wr(n){return this.__data__.has(n)}function jr(n){var t=this.__data__=new nr(n);this.size=t.size}function Ar(){this.__data__=new nr,this.size=0}function Or(n){var t=this.__data__,r=t.delete(n);return this.size=t.size,r}function Ir(n){return this.__data__.get(n)}function zr(n){return this.__data__.has(n)}function Er(n,t){var r=this.__data__;if(r instanceof nr){var e=r.__data__;if(!Hl||e.length<Q-1)return e.push([n,t]),this.size=++r.size,this;r=this.__data__=new or(e)}return r.set(n,t),this.size=r.size,this}function Tr(n,t){var r=ph(n),e=!r&&hh(n),u=!r&&!e&&vh(n),i=!r&&!e&&!u&&wh(n),o=r||e||u||i,f=o?O(n.length,ol):[],c=f.length;for(var a in n)!t&&!pl.call(n,a)||o&&("length"==a||u&&("offset"==a||"parent"==a)||i&&("buffer"==a||"byteLength"==a||"byteOffset"==a)||zi(a,c))||f.push(a);return f}function Nr(n){var t=n.length;return t?n[Je(0,t-1)]:Y}function Pr(n,t){return Vi(Lu(n),Xr(t,0,n.length))}function qr(n){return Vi(Lu(n))}function Zr(n,t,r){(r===Y||Nf(n[t],r))&&(r!==Y||t in n)||Yr(n,t,r)}function Kr(n,t,r){var e=n[t];pl.call(n,t)&&Nf(e,r)&&(r!==Y||t in n)||Yr(n,t,r)}function Vr(n,t){for(var r=n.length;r--;)if(Nf(n[r][0],t))return r;return-1}function Gr(n,t,r,e){return ss(n,function(n,u,i){t(e,n,r(n),i)}),e}function Hr(n,t){return n&&Wu(t,Tc(t),n)}function Jr(n,t){return n&&Wu(t,$c(t),n)}function Yr(n,t,r){"__proto__"==t&&Sl?Sl(n,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[t]=r}function Qr(n,t){for(var r=-1,e=t.length,u=Xa(e),i=null==n;++r<e;)u[r]=i?Y:Cc(n,t[r]);return u}function Xr(n,t,r){return n===n&&(r!==Y&&(n=n<=r?n:r),t!==Y&&(n=n>=t?n:t)),n}function ne(n,t,e,u,i,o){var f,c=t&un,a=t&on,l=t&fn;if(e&&(f=i?e(n,u,i,o):e(n)),f!==Y)return f;if(!tc(n))return n;var s=ph(n);if(s){if(f=Ai(n),!c)return Lu(n,f)}else{var h=js(n),p=h==Fn||h==Nn;if(vh(n))return xu(n,c);if(h==Kn||h==Cn||p&&!i){if(f=a||p?{}:ki(n),!c)return a?Uu(n,Jr(f,n)):Cu(n,Hr(f,n))}else{if(!gr[h])return i?n:{};f=Oi(n,h,c)}}o||(o=new jr);var _=o.get(n);if(_)return _;if(o.set(n,f),bh(n))return n.forEach(function(r){f.add(ne(r,t,e,r,n,o))}),f;if(yh(n))return n.forEach(function(r,u){f.set(u,ne(r,t,e,u,n,o))}),f;var v=l?a?pi:hi:a?$c:Tc,g=s?Y:v(n);return r(g||n,function(r,u){g&&(u=r,r=n[u]),Kr(f,u,ne(r,t,e,u,n,o))}),f}function te(n){var t=Tc(n);return function(r){return re(r,n,t)}}function re(n,t,r){var e=r.length;if(null==n)return!e;for(n=ul(n);e--;){var u=r[e],i=t[u],o=n[u];if(o===Y&&!(u in n)||!i(o))return!1}return!0}function ee(n,t,r){if("function"!=typeof n)throw new fl(nn);return Os(function(){n.apply(Y,r)},t)}function ue(n,t,r,e){var u=-1,i=o,a=!0,l=n.length,s=[],h=t.length;if(!l)return s;r&&(t=c(t,R(r))),e?(i=f,a=!1):t.length>=Q&&(i=E,a=!1,t=new dr(t));n:for(;++u<l;){var p=n[u],_=null==r?p:r(p);if(p=e||0!==p?p:0,a&&_===_){for(var v=h;v--;)if(t[v]===_)continue n;s.push(p)}else i(t,_,e)||s.push(p)}return s}function ie(n,t){var r=!0;return ss(n,function(n,e,u){return r=!!t(n,e,u)}),r}function oe(n,t,r){for(var e=-1,u=n.length;++e<u;){var i=n[e],o=t(i);if(null!=o&&(f===Y?o===o&&!pc(o):r(o,f)))var f=o,c=i}return c}function fe(n,t,r,e){var u=n.length;for(r=bc(r),r<0&&(r=-r>u?0:u+r),e=e===Y||e>u?u:bc(e),e<0&&(e+=u),e=r>e?0:wc(e);r<e;)n[r++]=t;return n}function ce(n,t){var r=[];return ss(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function ae(n,t,r,e,u){var i=-1,o=n.length;for(r||(r=Ri),u||(u=[]);++i<o;){var f=n[i];t>0&&r(f)?t>1?ae(f,t-1,r,e,u):a(u,f):e||(u[u.length]=f)}return u}function le(n,t){return n&&ps(n,t,Tc)}function se(n,t){return n&&_s(n,t,Tc)}function he(n,t){return i(t,function(t){return Qf(n[t])})}function pe(n,t){t=wu(t,n);for(var r=0,e=t.length;null!=n&&r<e;)n=n[Gi(t[r++])];return r&&r==e?n:Y}function _e(n,t,r){var e=t(n);return ph(n)?e:a(e,r(n))}function ve(n){return null==n?n===Y?Qn:Zn:El&&El in ul(n)?wi(n):Mi(n)}function ge(n,t){return n>t}function ye(n,t){return null!=n&&pl.call(n,t)}function de(n,t){return null!=n&&t in ul(n)}function be(n,t,r){return n>=Pl(t,r)&&n<Nl(t,r)}function we(n,t,r){for(var e=r?f:o,u=n[0].length,i=n.length,a=i,l=Xa(i),s=1/0,h=[];a--;){var p=n[a];a&&t&&(p=c(p,R(t))),s=Pl(p.length,s),l[a]=!r&&(t||u>=120&&p.length>=120)?new dr(a&&p):Y}p=n[0];var _=-1,v=l[0];n:for(;++_<u&&h.length<s;){var g=p[_],y=t?t(g):g;if(g=r||0!==g?g:0,!(v?E(v,y):e(h,y,r))){for(a=i;--a;){var d=l[a];if(!(d?E(d,y):e(n[a],y,r)))continue n}v&&v.push(y),h.push(g)}}return h}function me(n,t,r,e){return le(n,function(n,u,i){t(e,r(n),u,i)}),e}function xe(t,r,e){r=wu(r,t),t=Ni(t,r);var u=null==t?t:t[Gi(go(r))];return null==u?Y:n(u,t,e)}function je(n){return rc(n)&&ve(n)==Cn}function Ae(n){return rc(n)&&ve(n)==tt}function ke(n){return rc(n)&&ve(n)==$n}function Oe(n,t,r,e,u){return n===t||(null==n||null==t||!rc(n)&&!rc(t)?n!==n&&t!==t:Ie(n,t,r,e,Oe,u))}function Ie(n,t,r,e,u,i){var o=ph(n),f=ph(t),c=o?Un:js(n),a=f?Un:js(t);c=c==Cn?Kn:c,a=a==Cn?Kn:a;var l=c==Kn,s=a==Kn,h=c==a;if(h&&vh(n)){if(!vh(t))return!1;o=!0,l=!1}if(h&&!l)return i||(i=new jr),o||wh(n)?ci(n,t,r,e,u,i):ai(n,t,c,r,e,u,i);if(!(r&cn)){var p=l&&pl.call(n,"__wrapped__"),_=s&&pl.call(t,"__wrapped__");if(p||_){var v=p?n.value():n,g=_?t.value():t;return i||(i=new jr),u(v,g,r,e,i)}}return!!h&&(i||(i=new jr),li(n,t,r,e,u,i))}function Re(n){return rc(n)&&js(n)==Pn}function ze(n,t,r,e){var u=r.length,i=u,o=!e;if(null==n)return!i;for(n=ul(n);u--;){var f=r[u];if(o&&f[2]?f[1]!==n[f[0]]:!(f[0]in n))return!1}for(;++u<i;){f=r[u];var c=f[0],a=n[c],l=f[1];if(o&&f[2]){if(a===Y&&!(c in n))return!1}else{var s=new jr;if(e)var h=e(a,l,c,n,t,s);if(!(h===Y?Oe(l,a,cn|an,e,s):h))return!1}}return!0}function Ee(n){return!(!tc(n)||Ci(n))&&(Qf(n)?bl:Dt).test(Hi(n))}function Se(n){return rc(n)&&ve(n)==Gn}function Le(n){return rc(n)&&js(n)==Hn}function We(n){return rc(n)&&nc(n.length)&&!!vr[ve(n)]}function Ce(n){return"function"==typeof n?n:null==n?Ia:"object"==typeof n?ph(n)?Me(n[0],n[1]):De(n):Ua(n)}function Ue(n){if(!Ui(n))return Fl(n);var t=[];for(var r in ul(n))pl.call(n,r)&&"constructor"!=r&&t.push(r);return t}function Be(n){if(!tc(n))return Di(n);var t=Ui(n),r=[];for(var e in n)("constructor"!=e||!t&&pl.call(n,e))&&r.push(e);return r}function Te(n,t){return n<t}function $e(n,t){var r=-1,e=Pf(n)?Xa(n.length):[];return ss(n,function(n,u,i){e[++r]=t(n,u,i)}),e}function De(n){var t=di(n);return 1==t.length&&t[0][2]?Ti(t[0][0],t[0][1]):function(r){return r===n||ze(r,n,t)}}function Me(n,t){return Si(n)&&Bi(t)?Ti(Gi(n),t):function(r){var e=Cc(r,n);return e===Y&&e===t?Bc(r,n):Oe(t,e,cn|an)}}function Fe(n,t,r,e,u){n!==t&&ps(t,function(i,o){if(tc(i))u||(u=new jr),Ne(n,t,o,r,Fe,e,u);else{var f=e?e(qi(n,o),i,o+"",n,t,u):Y;f===Y&&(f=i),Zr(n,o,f)}},$c)}function Ne(n,t,r,e,u,i,o){var f=qi(n,r),c=qi(t,r),a=o.get(c);if(a)return void Zr(n,r,a);var l=i?i(f,c,r+"",n,t,o):Y,s=l===Y;if(s){var h=ph(c),p=!h&&vh(c),_=!h&&!p&&wh(c);l=c,h||p||_?ph(f)?l=f:qf(f)?l=Lu(f):p?(s=!1,l=xu(c,!0)):_?(s=!1,l=Iu(c,!0)):l=[]:lc(c)||hh(c)?(l=f,hh(f)?l=xc(f):tc(f)&&!Qf(f)||(l=ki(c))):s=!1}s&&(o.set(c,l),u(l,c,e,i,o),o.delete(c)),Zr(n,r,l)}function Pe(n,t){var r=n.length;if(r)return t+=t<0?r:0,zi(t,r)?n[t]:Y}function qe(n,t,r){var e=-1;return t=c(t.length?t:[Ia],R(gi())),A($e(n,function(n,r,u){return{criteria:c(t,function(t){return t(n)}),index:++e,value:n}}),function(n,t){return zu(n,t,r)})}function Ze(n,t){return Ke(n,t,function(t,r){return Bc(n,r)})}function Ke(n,t,r){for(var e=-1,u=t.length,i={};++e<u;){var o=t[e],f=pe(n,o);r(f,o)&&ru(i,wu(o,n),f)}return i}function Ve(n){return function(t){return pe(t,n)}}function Ge(n,t,r,e){var u=e?d:y,i=-1,o=t.length,f=n;for(n===t&&(t=Lu(t)),r&&(f=c(n,R(r)));++i<o;)for(var a=0,l=t[i],s=r?r(l):l;(a=u(f,s,a,e))>-1;)f!==n&&Il.call(f,a,1),Il.call(n,a,1);return n}function He(n,t){for(var r=n?t.length:0,e=r-1;r--;){var u=t[r];if(r==e||u!==i){var i=u;zi(u)?Il.call(n,u,1):hu(n,u)}}return n}function Je(n,t){return n+Bl(Kl()*(t-n+1))}function Ye(n,t,r,e){for(var u=-1,i=Nl(Ul((t-n)/(r||1)),0),o=Xa(i);i--;)o[e?i:++u]=n,n+=r;return o}function Qe(n,t){var r="";if(!n||t<1||t>In)return r;do{t%2&&(r+=n),(t=Bl(t/2))&&(n+=n)}while(t);return r}function Xe(n,t){return Is(Fi(n,t,Ia),n+"")}function nu(n){return Nr(Jc(n))}function tu(n,t){var r=Jc(n);return Vi(r,Xr(t,0,r.length))}function ru(n,t,r,e){if(!tc(n))return n;t=wu(t,n);for(var u=-1,i=t.length,o=i-1,f=n;null!=f&&++u<i;){var c=Gi(t[u]),a=r;if(u!=o){var l=f[c];a=e?e(l,c,f):Y,a===Y&&(a=tc(l)?l:zi(t[u+1])?[]:{})}Kr(f,c,a),f=f[c]}return n}function eu(n){return Vi(Jc(n))}function uu(n,t,r){var e=-1,u=n.length;t<0&&(t=-t>u?0:u+t),r=r>u?u:r,r<0&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var i=Xa(u);++e<u;)i[e]=n[e+t];return i}function iu(n,t){var r;return ss(n,function(n,e,u){return!(r=t(n,e,u))}),!!r}function ou(n,t,r){var e=0,u=null==n?e:n.length;if("number"==typeof t&&t===t&&u<=Ln){for(;e<u;){var i=e+u>>>1,o=n[i];null!==o&&!pc(o)&&(r?o<=t:o<t)?e=i+1:u=i}return u}return fu(n,t,Ia,r)}function fu(n,t,r,e){t=r(t);for(var u=0,i=null==n?0:n.length,o=t!==t,f=null===t,c=pc(t),a=t===Y;u<i;){var l=Bl((u+i)/2),s=r(n[l]),h=s!==Y,p=null===s,_=s===s,v=pc(s);if(o)var g=e||_;else g=a?_&&(e||h):f?_&&h&&(e||!p):c?_&&h&&!p&&(e||!v):!p&&!v&&(e?s<=t:s<t);g?u=l+1:i=l}return Pl(i,Sn)}function cu(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r],f=t?t(o):o;if(!r||!Nf(f,c)){var c=f;i[u++]=0===o?0:o}}return i}function au(n){return"number"==typeof n?n:pc(n)?zn:+n}function lu(n){if("string"==typeof n)return n;if(ph(n))return c(n,lu)+"";if(pc(n))return as?as.call(n):"";var t=n+"";return"0"==t&&1/n==-On?"-0":t}function su(n,t,r){var e=-1,u=o,i=n.length,c=!0,a=[],l=a;if(r)c=!1,u=f;else if(i>=Q){var s=t?null:bs(n);if(s)return N(s);c=!1,u=E,l=new dr}else l=t?[]:a;n:for(;++e<i;){var h=n[e],p=t?t(h):h;if(h=r||0!==h?h:0,c&&p===p){for(var _=l.length;_--;)if(l[_]===p)continue n;t&&l.push(p),a.push(h)}else u(l,p,r)||(l!==a&&l.push(p),a.push(h))}return a}function hu(n,t){return t=wu(t,n),null==(n=Ni(n,t))||delete n[Gi(go(t))]}function pu(n,t,r,e){return ru(n,t,r(pe(n,t)),e)}function _u(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?uu(n,e?0:i,e?i+1:u):uu(n,e?i+1:0,e?u:i)}function vu(n,t){var r=n;return r instanceof Wt&&(r=r.value()),l(t,function(n,t){return t.func.apply(t.thisArg,a([n],t.args))},r)}function gu(n,t,r){var e=n.length;if(e<2)return e?su(n[0]):[];for(var u=-1,i=Xa(e);++u<e;)for(var o=n[u],f=-1;++f<e;)f!=u&&(i[u]=ue(i[u]||o,n[f],t,r));return su(ae(i,1),t,r)}function yu(n,t,r){for(var e=-1,u=n.length,i=t.length,o={};++e<u;){var f=e<i?t[e]:Y;r(o,n[e],f)}return o}function du(n){return qf(n)?n:[]}function bu(n){return"function"==typeof n?n:Ia}function wu(n,t){return ph(n)?n:Si(n,t)?[n]:Rs(Ac(n))}function mu(n,t,r){var e=n.length;return r=r===Y?e:r,!t&&r>=e?n:uu(n,t,r)}function xu(n,t){if(t)return n.slice();var r=n.length,e=jl?jl(r):new n.constructor(r);return n.copy(e),e}function ju(n){var t=new n.constructor(n.byteLength);return new xl(t).set(new xl(n)),t}function Au(n,t){var r=t?ju(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.byteLength)}function ku(n){var t=new n.constructor(n.source,Bt.exec(n));return t.lastIndex=n.lastIndex,t}function Ou(n){return cs?ul(cs.call(n)):{}}function Iu(n,t){var r=t?ju(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.length)}function Ru(n,t){if(n!==t){var r=n!==Y,e=null===n,u=n===n,i=pc(n),o=t!==Y,f=null===t,c=t===t,a=pc(t);if(!f&&!a&&!i&&n>t||i&&o&&c&&!f&&!a||e&&o&&c||!r&&c||!u)return 1;if(!e&&!i&&!a&&n<t||a&&r&&u&&!e&&!i||f&&r&&u||!o&&u||!c)return-1}return 0}function zu(n,t,r){for(var e=-1,u=n.criteria,i=t.criteria,o=u.length,f=r.length;++e<o;){var c=Ru(u[e],i[e]);if(c){if(e>=f)return c;return c*("desc"==r[e]?-1:1)}}return n.index-t.index}function Eu(n,t,r,e){for(var u=-1,i=n.length,o=r.length,f=-1,c=t.length,a=Nl(i-o,0),l=Xa(c+a),s=!e;++f<c;)l[f]=t[f];for(;++u<o;)(s||u<i)&&(l[r[u]]=n[u]);for(;a--;)l[f++]=n[u++];return l}function Su(n,t,r,e){for(var u=-1,i=n.length,o=-1,f=r.length,c=-1,a=t.length,l=Nl(i-f,0),s=Xa(l+a),h=!e;++u<l;)s[u]=n[u];for(var p=u;++c<a;)s[p+c]=t[c];for(;++o<f;)(h||u<i)&&(s[p+r[o]]=n[u++]);return s}function Lu(n,t){var r=-1,e=n.length;for(t||(t=Xa(e));++r<e;)t[r]=n[r];return t}function Wu(n,t,r,e){var u=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var f=t[i],c=e?e(r[f],n[f],f,r,n):Y;c===Y&&(c=n[f]),u?Yr(r,f,c):Kr(r,f,c)}return r}function Cu(n,t){return Wu(n,ms(n),t)}function Uu(n,t){return Wu(n,xs(n),t)}function Bu(n,r){return function(e,u){var i=ph(e)?t:Gr,o=r?r():{};return i(e,n,gi(u,2),o)}}function Tu(n){return Xe(function(t,r){var e=-1,u=r.length,i=u>1?r[u-1]:Y,o=u>2?r[2]:Y;for(i=n.length>3&&"function"==typeof i?(u--,i):Y,o&&Ei(r[0],r[1],o)&&(i=u<3?Y:i,u=1),t=ul(t);++e<u;){var f=r[e];f&&n(t,f,e,i)}return t})}function $u(n,t){return function(r,e){if(null==r)return r;if(!Pf(r))return n(r,e);for(var u=r.length,i=t?u:-1,o=ul(r);(t?i--:++i<u)&&!1!==e(o[i],i,o););return r}}function Du(n){return function(t,r,e){for(var u=-1,i=ul(t),o=e(t),f=o.length;f--;){var c=o[n?f:++u];if(!1===r(i[c],c,i))break}return t}}function Mu(n,t,r){function e(){return(this&&this!==kr&&this instanceof e?i:n).apply(u?r:this,arguments)}var u=t&ln,i=Pu(n);return e}function Fu(n){return function(t){t=Ac(t);var r=B(t)?V(t):Y,e=r?r[0]:t.charAt(0),u=r?mu(r,1).join(""):t.slice(1);return e[n]()+u}}function Nu(n){return function(t){return l(xa(ra(t).replace(fr,"")),n,"")}}function Pu(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=ls(n.prototype),e=n.apply(r,t);return tc(e)?e:r}}function qu(t,r,e){function u(){for(var o=arguments.length,f=Xa(o),c=o,a=vi(u);c--;)f[c]=arguments[c];var l=o<3&&f[0]!==a&&f[o-1]!==a?[]:F(f,a);return(o-=l.length)<e?ti(t,r,Vu,u.placeholder,Y,f,l,Y,Y,e-o):n(this&&this!==kr&&this instanceof u?i:t,this,f)}var i=Pu(t);return u}function Zu(n){return function(t,r,e){var u=ul(t);if(!Pf(t)){var i=gi(r,3);t=Tc(t),r=function(n){return i(u[n],n,u)}}var o=n(t,r,e);return o>-1?u[i?t[o]:o]:Y}}function Ku(n){return si(function(t){var r=t.length,e=r,u=H.prototype.thru;for(n&&t.reverse();e--;){var i=t[e];if("function"!=typeof i)throw new fl(nn);if(u&&!o&&"wrapper"==_i(i))var o=new H([],!0)}for(e=o?e:r;++e<r;){i=t[e];var f=_i(i),c="wrapper"==f?ws(i):Y;o=c&&Wi(c[0])&&c[1]==(yn|pn|vn|dn)&&!c[4].length&&1==c[9]?o[_i(c[0])].apply(o,c[3]):1==i.length&&Wi(i)?o[f]():o.thru(i)}return function(){var n=arguments,e=n[0];if(o&&1==n.length&&ph(e))return o.plant(e).value();for(var u=0,i=r?t[u].apply(this,n):e;++u<r;)i=t[u].call(this,i);return i}})}function Vu(n,t,r,e,u,i,o,f,c,a){function l(){for(var y=arguments.length,d=Xa(y),b=y;b--;)d[b]=arguments[b];if(_)var w=vi(l),m=W(d,w);if(e&&(d=Eu(d,e,u,_)),i&&(d=Su(d,i,o,_)),y-=m,_&&y<a){var x=F(d,w);return ti(n,t,Vu,l.placeholder,r,d,x,f,c,a-y)}var j=h?r:this,A=p?j[n]:n;return y=d.length,f?d=Pi(d,f):v&&y>1&&d.reverse(),s&&c<y&&(d.length=c),this&&this!==kr&&this instanceof l&&(A=g||Pu(A)),A.apply(j,d)}var s=t&yn,h=t&ln,p=t&sn,_=t&(pn|_n),v=t&bn,g=p?Y:Pu(n);return l}function Gu(n,t){return function(r,e){return me(r,n,t(e),{})}}function Hu(n,t){return function(r,e){var u;if(r===Y&&e===Y)return t;if(r!==Y&&(u=r),e!==Y){if(u===Y)return e;"string"==typeof r||"string"==typeof e?(r=lu(r),e=lu(e)):(r=au(r),e=au(e)),u=n(r,e)}return u}}function Ju(t){return si(function(r){return r=c(r,R(gi())),Xe(function(e){var u=this;return t(r,function(t){return n(t,u,e)})})})}function Yu(n,t){t=t===Y?" ":lu(t);var r=t.length;if(r<2)return r?Qe(t,n):t;var e=Qe(t,Ul(n/K(t)));return B(t)?mu(V(e),0,n).join(""):e.slice(0,n)}function Qu(t,r,e,u){function i(){for(var r=-1,c=arguments.length,a=-1,l=u.length,s=Xa(l+c),h=this&&this!==kr&&this instanceof i?f:t;++a<l;)s[a]=u[a];for(;c--;)s[a++]=arguments[++r];return n(h,o?e:this,s)}var o=r&ln,f=Pu(t);return i}function Xu(n){return function(t,r,e){return e&&"number"!=typeof e&&Ei(t,r,e)&&(r=e=Y),t=dc(t),r===Y?(r=t,t=0):r=dc(r),e=e===Y?t<r?1:-1:dc(e),Ye(t,r,e,n)}}function ni(n){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=mc(t),r=mc(r)),n(t,r)}}function ti(n,t,r,e,u,i,o,f,c,a){var l=t&pn,s=l?o:Y,h=l?Y:o,p=l?i:Y,_=l?Y:i;t|=l?vn:gn,(t&=~(l?gn:vn))&hn||(t&=~(ln|sn));var v=[n,t,u,p,s,_,h,f,c,a],g=r.apply(Y,v);return Wi(n)&&ks(g,v),g.placeholder=e,Zi(g,n,t)}function ri(n){var t=el[n];return function(n,r){if(n=mc(n),r=null==r?0:Pl(bc(r),292)){var e=(Ac(n)+"e").split("e");return e=(Ac(t(e[0]+"e"+(+e[1]+r)))+"e").split("e"),+(e[0]+"e"+(+e[1]-r))}return t(n)}}function ei(n){return function(t){var r=js(t);return r==Pn?D(t):r==Hn?P(t):I(t,n(t))}}function ui(n,t,r,e,u,i,o,f){var c=t&sn;if(!c&&"function"!=typeof n)throw new fl(nn);var a=e?e.length:0;if(a||(t&=~(vn|gn),e=u=Y),o=o===Y?o:Nl(bc(o),0),f=f===Y?f:bc(f),a-=u?u.length:0,t&gn){var l=e,s=u;e=u=Y}var h=c?Y:ws(n),p=[n,t,r,e,u,l,s,i,o,f];if(h&&$i(p,h),n=p[0],t=p[1],r=p[2],e=p[3],u=p[4],f=p[9]=p[9]===Y?c?0:n.length:Nl(p[9]-a,0),!f&&t&(pn|_n)&&(t&=~(pn|_n)),t&&t!=ln)_=t==pn||t==_n?qu(n,t,f):t!=vn&&t!=(ln|vn)||u.length?Vu.apply(Y,p):Qu(n,t,r,e);else var _=Mu(n,t,r);return Zi((h?vs:ks)(_,p),n,t)}function ii(n,t,r,e){return n===Y||Nf(n,ll[r])&&!pl.call(e,r)?t:n}function oi(n,t,r,e,u,i){return tc(n)&&tc(t)&&(i.set(t,n),Fe(n,t,Y,oi,i),i.delete(t)),n}function fi(n){return lc(n)?Y:n}function ci(n,t,r,e,u,i){var o=r&cn,f=n.length,c=t.length;if(f!=c&&!(o&&c>f))return!1;var a=i.get(n);if(a&&i.get(t))return a==t;var l=-1,s=!0,p=r&an?new dr:Y;for(i.set(n,t),i.set(t,n);++l<f;){var _=n[l],v=t[l];if(e)var g=o?e(v,_,l,t,n,i):e(_,v,l,n,t,i);if(g!==Y){if(g)continue;s=!1;break}if(p){if(!h(t,function(n,t){if(!E(p,t)&&(_===n||u(_,n,r,e,i)))return p.push(t)})){s=!1;break}}else if(_!==v&&!u(_,v,r,e,i)){s=!1;break}}return i.delete(n),i.delete(t),s}function ai(n,t,r,e,u,i,o){switch(r){case rt:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case tt:return!(n.byteLength!=t.byteLength||!i(new xl(n),new xl(t)));case Tn:case $n:case qn:return Nf(+n,+t);case Mn:return n.name==t.name&&n.message==t.message;case Gn:case Jn:return n==t+"";case Pn:var f=D;case Hn:var c=e&cn;if(f||(f=N),n.size!=t.size&&!c)return!1;var a=o.get(n);if(a)return a==t;e|=an,o.set(n,t);var l=ci(f(n),f(t),e,u,i,o);return o.delete(n),l;case Yn:if(cs)return cs.call(n)==cs.call(t)}return!1}function li(n,t,r,e,u,i){var o=r&cn,f=hi(n),c=f.length;if(c!=hi(t).length&&!o)return!1;for(var a=c;a--;){var l=f[a];if(!(o?l in t:pl.call(t,l)))return!1}var s=i.get(n);if(s&&i.get(t))return s==t;var h=!0;i.set(n,t),i.set(t,n);for(var p=o;++a<c;){l=f[a]
;var _=n[l],v=t[l];if(e)var g=o?e(v,_,l,t,n,i):e(_,v,l,n,t,i);if(!(g===Y?_===v||u(_,v,r,e,i):g)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var y=n.constructor,d=t.constructor;y!=d&&"constructor"in n&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof d&&d instanceof d)&&(h=!1)}return i.delete(n),i.delete(t),h}function si(n){return Is(Fi(n,Y,co),n+"")}function hi(n){return _e(n,Tc,ms)}function pi(n){return _e(n,$c,xs)}function _i(n){for(var t=n.name+"",r=ts[t],e=pl.call(ts,t)?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function vi(n){return(pl.call(q,"placeholder")?q:n).placeholder}function gi(){var n=q.iteratee||Ra;return n=n===Ra?Ce:n,arguments.length?n(arguments[0],arguments[1]):n}function yi(n,t){var r=n.__data__;return Li(t)?r["string"==typeof t?"string":"hash"]:r.map}function di(n){for(var t=Tc(n),r=t.length;r--;){var e=t[r],u=n[e];t[r]=[e,u,Bi(u)]}return t}function bi(n,t){var r=U(n,t);return Ee(r)?r:Y}function wi(n){var t=pl.call(n,El),r=n[El];try{n[El]=Y;var e=!0}catch(n){}var u=gl.call(n);return e&&(t?n[El]=r:delete n[El]),u}function mi(n,t,r){for(var e=-1,u=r.length;++e<u;){var i=r[e],o=i.size;switch(i.type){case"drop":n+=o;break;case"dropRight":t-=o;break;case"take":t=Pl(t,n+o);break;case"takeRight":n=Nl(n,t-o)}}return{start:n,end:t}}function xi(n){var t=n.match(St);return t?t[1].split(Lt):[]}function ji(n,t,r){t=wu(t,n);for(var e=-1,u=t.length,i=!1;++e<u;){var o=Gi(t[e]);if(!(i=null!=n&&r(n,o)))break;n=n[o]}return i||++e!=u?i:!!(u=null==n?0:n.length)&&nc(u)&&zi(o,u)&&(ph(n)||hh(n))}function Ai(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&pl.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function ki(n){return"function"!=typeof n.constructor||Ui(n)?{}:ls(Al(n))}function Oi(n,t,r){var e=n.constructor;switch(t){case tt:return ju(n);case Tn:case $n:return new e(+n);case rt:return Au(n,r);case et:case ut:case it:case ot:case ft:case ct:case at:case lt:case st:return Iu(n,r);case Pn:return new e;case qn:case Jn:return new e(n);case Gn:return ku(n);case Hn:return new e;case Yn:return Ou(n)}}function Ii(n,t){var r=t.length;if(!r)return n;var e=r-1;return t[e]=(r>1?"& ":"")+t[e],t=t.join(r>2?", ":" "),n.replace(Et,"{\n/* [wrapped with "+t+"] */\n")}function Ri(n){return ph(n)||hh(n)||!!(Rl&&n&&n[Rl])}function zi(n,t){var r=typeof n;return!!(t=null==t?In:t)&&("number"==r||"symbol"!=r&&Ft.test(n))&&n>-1&&n%1==0&&n<t}function Ei(n,t,r){if(!tc(r))return!1;var e=typeof t;return!!("number"==e?Pf(r)&&zi(t,r.length):"string"==e&&t in r)&&Nf(r[t],n)}function Si(n,t){if(ph(n))return!1;var r=typeof n;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=n&&!pc(n))||(jt.test(n)||!xt.test(n)||null!=t&&n in ul(t))}function Li(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n}function Wi(n){var t=_i(n),r=q[t];if("function"!=typeof r||!(t in Wt.prototype))return!1;if(n===r)return!0;var e=ws(r);return!!e&&n===e[0]}function Ci(n){return!!vl&&vl in n}function Ui(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||ll)}function Bi(n){return n===n&&!tc(n)}function Ti(n,t){return function(r){return null!=r&&(r[n]===t&&(t!==Y||n in ul(r)))}}function $i(n,t){var r=n[1],e=t[1],u=r|e,i=u<(ln|sn|yn),o=e==yn&&r==pn||e==yn&&r==dn&&n[7].length<=t[8]||e==(yn|dn)&&t[7].length<=t[8]&&r==pn;if(!i&&!o)return n;e&ln&&(n[2]=t[2],u|=r&ln?0:hn);var f=t[3];if(f){var c=n[3];n[3]=c?Eu(c,f,t[4]):f,n[4]=c?F(n[3],en):t[4]}return f=t[5],f&&(c=n[5],n[5]=c?Su(c,f,t[6]):f,n[6]=c?F(n[5],en):t[6]),f=t[7],f&&(n[7]=f),e&yn&&(n[8]=null==n[8]?t[8]:Pl(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=u,n}function Di(n){var t=[];if(null!=n)for(var r in ul(n))t.push(r);return t}function Mi(n){return gl.call(n)}function Fi(t,r,e){return r=Nl(r===Y?t.length-1:r,0),function(){for(var u=arguments,i=-1,o=Nl(u.length-r,0),f=Xa(o);++i<o;)f[i]=u[r+i];i=-1;for(var c=Xa(r+1);++i<r;)c[i]=u[i];return c[r]=e(f),n(t,this,c)}}function Ni(n,t){return t.length<2?n:pe(n,uu(t,0,-1))}function Pi(n,t){for(var r=n.length,e=Pl(t.length,r),u=Lu(n);e--;){var i=t[e];n[e]=zi(i,r)?u[i]:Y}return n}function qi(n,t){if("__proto__"!=t)return n[t]}function Zi(n,t,r){var e=t+"";return Is(n,Ii(e,Ji(xi(e),r)))}function Ki(n){var t=0,r=0;return function(){var e=ql(),u=jn-(e-r);if(r=e,u>0){if(++t>=xn)return arguments[0]}else t=0;return n.apply(Y,arguments)}}function Vi(n,t){var r=-1,e=n.length,u=e-1;for(t=t===Y?e:t;++r<t;){var i=Je(r,u),o=n[i];n[i]=n[r],n[r]=o}return n.length=t,n}function Gi(n){if("string"==typeof n||pc(n))return n;var t=n+"";return"0"==t&&1/n==-On?"-0":t}function Hi(n){if(null!=n){try{return hl.call(n)}catch(n){}try{return n+""}catch(n){}}return""}function Ji(n,t){return r(Wn,function(r){var e="_."+r[0];t&r[1]&&!o(n,e)&&n.push(e)}),n.sort()}function Yi(n){if(n instanceof Wt)return n.clone();var t=new H(n.__wrapped__,n.__chain__);return t.__actions__=Lu(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}function Qi(n,t,r){t=(r?Ei(n,t,r):t===Y)?1:Nl(bc(t),0);var e=null==n?0:n.length;if(!e||t<1)return[];for(var u=0,i=0,o=Xa(Ul(e/t));u<e;)o[i++]=uu(n,u,u+=t);return o}function Xi(n){for(var t=-1,r=null==n?0:n.length,e=0,u=[];++t<r;){var i=n[t];i&&(u[e++]=i)}return u}function no(){var n=arguments.length;if(!n)return[];for(var t=Xa(n-1),r=arguments[0],e=n;e--;)t[e-1]=arguments[e];return a(ph(r)?Lu(r):[r],ae(t,1))}function to(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===Y?1:bc(t),uu(n,t<0?0:t,e)):[]}function ro(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===Y?1:bc(t),t=e-t,uu(n,0,t<0?0:t)):[]}function eo(n,t){return n&&n.length?_u(n,gi(t,3),!0,!0):[]}function uo(n,t){return n&&n.length?_u(n,gi(t,3),!0):[]}function io(n,t,r,e){var u=null==n?0:n.length;return u?(r&&"number"!=typeof r&&Ei(n,t,r)&&(r=0,e=u),fe(n,t,r,e)):[]}function oo(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:bc(r);return u<0&&(u=Nl(e+u,0)),g(n,gi(t,3),u)}function fo(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e-1;return r!==Y&&(u=bc(r),u=r<0?Nl(e+u,0):Pl(u,e-1)),g(n,gi(t,3),u,!0)}function co(n){return(null==n?0:n.length)?ae(n,1):[]}function ao(n){return(null==n?0:n.length)?ae(n,On):[]}function lo(n,t){return(null==n?0:n.length)?(t=t===Y?1:bc(t),ae(n,t)):[]}function so(n){for(var t=-1,r=null==n?0:n.length,e={};++t<r;){var u=n[t];e[u[0]]=u[1]}return e}function ho(n){return n&&n.length?n[0]:Y}function po(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:bc(r);return u<0&&(u=Nl(e+u,0)),y(n,t,u)}function _o(n){return(null==n?0:n.length)?uu(n,0,-1):[]}function vo(n,t){return null==n?"":Ml.call(n,t)}function go(n){var t=null==n?0:n.length;return t?n[t-1]:Y}function yo(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e;return r!==Y&&(u=bc(r),u=u<0?Nl(e+u,0):Pl(u,e-1)),t===t?Z(n,t,u):g(n,b,u,!0)}function bo(n,t){return n&&n.length?Pe(n,bc(t)):Y}function wo(n,t){return n&&n.length&&t&&t.length?Ge(n,t):n}function mo(n,t,r){return n&&n.length&&t&&t.length?Ge(n,t,gi(r,2)):n}function xo(n,t,r){return n&&n.length&&t&&t.length?Ge(n,t,Y,r):n}function jo(n,t){var r=[];if(!n||!n.length)return r;var e=-1,u=[],i=n.length;for(t=gi(t,3);++e<i;){var o=n[e];t(o,e,n)&&(r.push(o),u.push(e))}return He(n,u),r}function Ao(n){return null==n?n:Vl.call(n)}function ko(n,t,r){var e=null==n?0:n.length;return e?(r&&"number"!=typeof r&&Ei(n,t,r)?(t=0,r=e):(t=null==t?0:bc(t),r=r===Y?e:bc(r)),uu(n,t,r)):[]}function Oo(n,t){return ou(n,t)}function Io(n,t,r){return fu(n,t,gi(r,2))}function Ro(n,t){var r=null==n?0:n.length;if(r){var e=ou(n,t);if(e<r&&Nf(n[e],t))return e}return-1}function zo(n,t){return ou(n,t,!0)}function Eo(n,t,r){return fu(n,t,gi(r,2),!0)}function So(n,t){if(null==n?0:n.length){var r=ou(n,t,!0)-1;if(Nf(n[r],t))return r}return-1}function Lo(n){return n&&n.length?cu(n):[]}function Wo(n,t){return n&&n.length?cu(n,gi(t,2)):[]}function Co(n){var t=null==n?0:n.length;return t?uu(n,1,t):[]}function Uo(n,t,r){return n&&n.length?(t=r||t===Y?1:bc(t),uu(n,0,t<0?0:t)):[]}function Bo(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===Y?1:bc(t),t=e-t,uu(n,t<0?0:t,e)):[]}function To(n,t){return n&&n.length?_u(n,gi(t,3),!1,!0):[]}function $o(n,t){return n&&n.length?_u(n,gi(t,3)):[]}function Do(n){return n&&n.length?su(n):[]}function Mo(n,t){return n&&n.length?su(n,gi(t,2)):[]}function Fo(n,t){return t="function"==typeof t?t:Y,n&&n.length?su(n,Y,t):[]}function No(n){if(!n||!n.length)return[];var t=0;return n=i(n,function(n){if(qf(n))return t=Nl(n.length,t),!0}),O(t,function(t){return c(n,m(t))})}function Po(t,r){if(!t||!t.length)return[];var e=No(t);return null==r?e:c(e,function(t){return n(r,Y,t)})}function qo(n,t){return yu(n||[],t||[],Kr)}function Zo(n,t){return yu(n||[],t||[],ru)}function Ko(n){var t=q(n);return t.__chain__=!0,t}function Vo(n,t){return t(n),n}function Go(n,t){return t(n)}function Ho(){return Ko(this)}function Jo(){return new H(this.value(),this.__chain__)}function Yo(){this.__values__===Y&&(this.__values__=yc(this.value()));var n=this.__index__>=this.__values__.length;return{done:n,value:n?Y:this.__values__[this.__index__++]}}function Qo(){return this}function Xo(n){for(var t,r=this;r instanceof G;){var e=Yi(r);e.__index__=0,e.__values__=Y,t?u.__wrapped__=e:t=e;var u=e;r=r.__wrapped__}return u.__wrapped__=n,t}function nf(){var n=this.__wrapped__;if(n instanceof Wt){var t=n;return this.__actions__.length&&(t=new Wt(this)),t=t.reverse(),t.__actions__.push({func:Go,args:[Ao],thisArg:Y}),new H(t,this.__chain__)}return this.thru(Ao)}function tf(){return vu(this.__wrapped__,this.__actions__)}function rf(n,t,r){var e=ph(n)?u:ie;return r&&Ei(n,t,r)&&(t=Y),e(n,gi(t,3))}function ef(n,t){return(ph(n)?i:ce)(n,gi(t,3))}function uf(n,t){return ae(sf(n,t),1)}function of(n,t){return ae(sf(n,t),On)}function ff(n,t,r){return r=r===Y?1:bc(r),ae(sf(n,t),r)}function cf(n,t){return(ph(n)?r:ss)(n,gi(t,3))}function af(n,t){return(ph(n)?e:hs)(n,gi(t,3))}function lf(n,t,r,e){n=Pf(n)?n:Jc(n),r=r&&!e?bc(r):0;var u=n.length;return r<0&&(r=Nl(u+r,0)),hc(n)?r<=u&&n.indexOf(t,r)>-1:!!u&&y(n,t,r)>-1}function sf(n,t){return(ph(n)?c:$e)(n,gi(t,3))}function hf(n,t,r,e){return null==n?[]:(ph(t)||(t=null==t?[]:[t]),r=e?Y:r,ph(r)||(r=null==r?[]:[r]),qe(n,t,r))}function pf(n,t,r){var e=ph(n)?l:j,u=arguments.length<3;return e(n,gi(t,4),r,u,ss)}function _f(n,t,r){var e=ph(n)?s:j,u=arguments.length<3;return e(n,gi(t,4),r,u,hs)}function vf(n,t){return(ph(n)?i:ce)(n,zf(gi(t,3)))}function gf(n){return(ph(n)?Nr:nu)(n)}function yf(n,t,r){return t=(r?Ei(n,t,r):t===Y)?1:bc(t),(ph(n)?Pr:tu)(n,t)}function df(n){return(ph(n)?qr:eu)(n)}function bf(n){if(null==n)return 0;if(Pf(n))return hc(n)?K(n):n.length;var t=js(n);return t==Pn||t==Hn?n.size:Ue(n).length}function wf(n,t,r){var e=ph(n)?h:iu;return r&&Ei(n,t,r)&&(t=Y),e(n,gi(t,3))}function mf(n,t){if("function"!=typeof t)throw new fl(nn);return n=bc(n),function(){if(--n<1)return t.apply(this,arguments)}}function xf(n,t,r){return t=r?Y:t,t=n&&null==t?n.length:t,ui(n,yn,Y,Y,Y,Y,t)}function jf(n,t){var r;if("function"!=typeof t)throw new fl(nn);return n=bc(n),function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=Y),r}}function Af(n,t,r){t=r?Y:t;var e=ui(n,pn,Y,Y,Y,Y,Y,t);return e.placeholder=Af.placeholder,e}function kf(n,t,r){t=r?Y:t;var e=ui(n,_n,Y,Y,Y,Y,Y,t);return e.placeholder=kf.placeholder,e}function Of(n,t,r){function e(t){var r=h,e=p;return h=p=Y,d=t,v=n.apply(e,r)}function u(n){return d=n,g=Os(f,t),b?e(n):v}function i(n){var r=n-y,e=n-d,u=t-r;return w?Pl(u,_-e):u}function o(n){var r=n-y,e=n-d;return y===Y||r>=t||r<0||w&&e>=_}function f(){var n=th();if(o(n))return c(n);g=Os(f,i(n))}function c(n){return g=Y,m&&h?e(n):(h=p=Y,v)}function a(){g!==Y&&ds(g),d=0,h=y=p=g=Y}function l(){return g===Y?v:c(th())}function s(){var n=th(),r=o(n);if(h=arguments,p=this,y=n,r){if(g===Y)return u(y);if(w)return g=Os(f,t),e(y)}return g===Y&&(g=Os(f,t)),v}var h,p,_,v,g,y,d=0,b=!1,w=!1,m=!0;if("function"!=typeof n)throw new fl(nn);return t=mc(t)||0,tc(r)&&(b=!!r.leading,w="maxWait"in r,_=w?Nl(mc(r.maxWait)||0,t):_,m="trailing"in r?!!r.trailing:m),s.cancel=a,s.flush=l,s}function If(n){return ui(n,bn)}function Rf(n,t){if("function"!=typeof n||null!=t&&"function"!=typeof t)throw new fl(nn);var r=function(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;if(i.has(u))return i.get(u);var o=n.apply(this,e);return r.cache=i.set(u,o)||i,o};return r.cache=new(Rf.Cache||or),r}function zf(n){if("function"!=typeof n)throw new fl(nn);return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:return!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}function Ef(n){return jf(2,n)}function Sf(n,t){if("function"!=typeof n)throw new fl(nn);return t=t===Y?t:bc(t),Xe(n,t)}function Lf(t,r){if("function"!=typeof t)throw new fl(nn);return r=null==r?0:Nl(bc(r),0),Xe(function(e){var u=e[r],i=mu(e,0,r);return u&&a(i,u),n(t,this,i)})}function Wf(n,t,r){var e=!0,u=!0;if("function"!=typeof n)throw new fl(nn);return tc(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),Of(n,t,{leading:e,maxWait:t,trailing:u})}function Cf(n){return xf(n,1)}function Uf(n,t){return fh(bu(t),n)}function Bf(){if(!arguments.length)return[];var n=arguments[0];return ph(n)?n:[n]}function Tf(n){return ne(n,fn)}function $f(n,t){return t="function"==typeof t?t:Y,ne(n,fn,t)}function Df(n){return ne(n,un|fn)}function Mf(n,t){return t="function"==typeof t?t:Y,ne(n,un|fn,t)}function Ff(n,t){return null==t||re(n,t,Tc(t))}function Nf(n,t){return n===t||n!==n&&t!==t}function Pf(n){return null!=n&&nc(n.length)&&!Qf(n)}function qf(n){return rc(n)&&Pf(n)}function Zf(n){return!0===n||!1===n||rc(n)&&ve(n)==Tn}function Kf(n){return rc(n)&&1===n.nodeType&&!lc(n)}function Vf(n){if(null==n)return!0;if(Pf(n)&&(ph(n)||"string"==typeof n||"function"==typeof n.splice||vh(n)||wh(n)||hh(n)))return!n.length;var t=js(n);if(t==Pn||t==Hn)return!n.size;if(Ui(n))return!Ue(n).length;for(var r in n)if(pl.call(n,r))return!1;return!0}function Gf(n,t){return Oe(n,t)}function Hf(n,t,r){r="function"==typeof r?r:Y;var e=r?r(n,t):Y;return e===Y?Oe(n,t,Y,r):!!e}function Jf(n){if(!rc(n))return!1;var t=ve(n);return t==Mn||t==Dn||"string"==typeof n.message&&"string"==typeof n.name&&!lc(n)}function Yf(n){return"number"==typeof n&&Dl(n)}function Qf(n){if(!tc(n))return!1;var t=ve(n);return t==Fn||t==Nn||t==Bn||t==Vn}function Xf(n){return"number"==typeof n&&n==bc(n)}function nc(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=In}function tc(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)}function rc(n){return null!=n&&"object"==typeof n}function ec(n,t){return n===t||ze(n,t,di(t))}function uc(n,t,r){return r="function"==typeof r?r:Y,ze(n,t,di(t),r)}function ic(n){return ac(n)&&n!=+n}function oc(n){if(As(n))throw new tl(X);return Ee(n)}function fc(n){return null===n}function cc(n){return null==n}function ac(n){return"number"==typeof n||rc(n)&&ve(n)==qn}function lc(n){if(!rc(n)||ve(n)!=Kn)return!1;var t=Al(n);if(null===t)return!0;var r=pl.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&hl.call(r)==yl}function sc(n){return Xf(n)&&n>=-In&&n<=In}function hc(n){return"string"==typeof n||!ph(n)&&rc(n)&&ve(n)==Jn}function pc(n){return"symbol"==typeof n||rc(n)&&ve(n)==Yn}function _c(n){return n===Y}function vc(n){return rc(n)&&js(n)==Xn}function gc(n){return rc(n)&&ve(n)==nt}function yc(n){if(!n)return[];if(Pf(n))return hc(n)?V(n):Lu(n);if(zl&&n[zl])return $(n[zl]());var t=js(n);return(t==Pn?D:t==Hn?N:Jc)(n)}function dc(n){if(!n)return 0===n?n:0;if((n=mc(n))===On||n===-On){return(n<0?-1:1)*Rn}return n===n?n:0}function bc(n){var t=dc(n),r=t%1;return t===t?r?t-r:t:0}function wc(n){return n?Xr(bc(n),0,En):0}function mc(n){if("number"==typeof n)return n;if(pc(n))return zn;if(tc(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=tc(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(It,"");var r=$t.test(n);return r||Mt.test(n)?xr(n.slice(2),r?2:8):Tt.test(n)?zn:+n}function xc(n){return Wu(n,$c(n))}function jc(n){return n?Xr(bc(n),-In,In):0===n?n:0}function Ac(n){return null==n?"":lu(n)}function kc(n,t){var r=ls(n);return null==t?r:Hr(r,t)}function Oc(n,t){return v(n,gi(t,3),le)}function Ic(n,t){return v(n,gi(t,3),se)}function Rc(n,t){return null==n?n:ps(n,gi(t,3),$c)}function zc(n,t){return null==n?n:_s(n,gi(t,3),$c)}function Ec(n,t){return n&&le(n,gi(t,3))}function Sc(n,t){return n&&se(n,gi(t,3))}function Lc(n){return null==n?[]:he(n,Tc(n))}function Wc(n){return null==n?[]:he(n,$c(n))}function Cc(n,t,r){var e=null==n?Y:pe(n,t);return e===Y?r:e}function Uc(n,t){return null!=n&&ji(n,t,ye)}function Bc(n,t){return null!=n&&ji(n,t,de)}function Tc(n){return Pf(n)?Tr(n):Ue(n)}function $c(n){return Pf(n)?Tr(n,!0):Be(n)}function Dc(n,t){var r={};return t=gi(t,3),le(n,function(n,e,u){Yr(r,t(n,e,u),n)}),r}function Mc(n,t){var r={};return t=gi(t,3),le(n,function(n,e,u){Yr(r,e,t(n,e,u))}),r}function Fc(n,t){return Nc(n,zf(gi(t)))}function Nc(n,t){if(null==n)return{};var r=c(pi(n),function(n){return[n]});return t=gi(t),Ke(n,r,function(n,r){return t(n,r[0])})}function Pc(n,t,r){t=wu(t,n);var e=-1,u=t.length;for(u||(u=1,n=Y);++e<u;){var i=null==n?Y:n[Gi(t[e])];i===Y&&(e=u,i=r),n=Qf(i)?i.call(n):i}return n}function qc(n,t,r){return null==n?n:ru(n,t,r)}function Zc(n,t,r,e){return e="function"==typeof e?e:Y,null==n?n:ru(n,t,r,e)}function Kc(n,t,e){var u=ph(n),i=u||vh(n)||wh(n);if(t=gi(t,4),null==e){var o=n&&n.constructor;e=i?u?new o:[]:tc(n)&&Qf(o)?ls(Al(n)):{}}return(i?r:le)(n,function(n,r,u){return t(e,n,r,u)}),e}function Vc(n,t){return null==n||hu(n,t)}function Gc(n,t,r){return null==n?n:pu(n,t,bu(r))}function Hc(n,t,r,e){return e="function"==typeof e?e:Y,null==n?n:pu(n,t,bu(r),e)}function Jc(n){return null==n?[]:z(n,Tc(n))}function Yc(n){return null==n?[]:z(n,$c(n))}function Qc(n,t,r){return r===Y&&(r=t,t=Y),r!==Y&&(r=mc(r),r=r===r?r:0),t!==Y&&(t=mc(t),t=t===t?t:0),Xr(mc(n),t,r)}function Xc(n,t,r){return t=dc(t),r===Y?(r=t,t=0):r=dc(r),n=mc(n),be(n,t,r)}function na(n,t,r){if(r&&"boolean"!=typeof r&&Ei(n,t,r)&&(t=r=Y),r===Y&&("boolean"==typeof t?(r=t,t=Y):"boolean"==typeof n&&(r=n,n=Y)),n===Y&&t===Y?(n=0,t=1):(n=dc(n),t===Y?(t=n,n=0):t=dc(t)),n>t){var e=n;n=t,t=e}if(r||n%1||t%1){var u=Kl();return Pl(n+u*(t-n+mr("1e-"+((u+"").length-1))),t)}return Je(n,t)}function ta(n){return Kh(Ac(n).toLowerCase())}function ra(n){return(n=Ac(n))&&n.replace(Nt,$r).replace(cr,"")}function ea(n,t,r){n=Ac(n),t=lu(t);var e=n.length;r=r===Y?e:Xr(bc(r),0,e);var u=r;return(r-=t.length)>=0&&n.slice(r,u)==t}function ua(n){return n=Ac(n),n&&dt.test(n)?n.replace(gt,Dr):n}function ia(n){return n=Ac(n),n&&Ot.test(n)?n.replace(kt,"\\$&"):n}function oa(n,t,r){n=Ac(n),t=bc(t);var e=t?K(n):0;if(!t||e>=t)return n;var u=(t-e)/2;return Yu(Bl(u),r)+n+Yu(Ul(u),r)}function fa(n,t,r){n=Ac(n),t=bc(t);var e=t?K(n):0;return t&&e<t?n+Yu(t-e,r):n}function ca(n,t,r){n=Ac(n),t=bc(t);var e=t?K(n):0;return t&&e<t?Yu(t-e,r)+n:n}function aa(n,t,r){return r||null==t?t=0:t&&(t=+t),Zl(Ac(n).replace(Rt,""),t||0)}function la(n,t,r){return t=(r?Ei(n,t,r):t===Y)?1:bc(t),Qe(Ac(n),t)}function sa(){var n=arguments,t=Ac(n[0]);return n.length<3?t:t.replace(n[1],n[2])}function ha(n,t,r){return r&&"number"!=typeof r&&Ei(n,t,r)&&(t=r=Y),(r=r===Y?En:r>>>0)?(n=Ac(n),n&&("string"==typeof t||null!=t&&!dh(t))&&!(t=lu(t))&&B(n)?mu(V(n),0,r):n.split(t,r)):[]}function pa(n,t,r){return n=Ac(n),r=null==r?0:Xr(bc(r),0,n.length),t=lu(t),n.slice(r,r+t.length)==t}function _a(n,t,r){var e=q.templateSettings;r&&Ei(n,t,r)&&(t=Y),n=Ac(n),t=kh({},t,e,ii);var u,i,o=kh({},t.imports,e.imports,ii),f=Tc(o),c=z(o,f),a=0,l=t.interpolate||Pt,s="__p += '",h=il((t.escape||Pt).source+"|"+l.source+"|"+(l===mt?Ut:Pt).source+"|"+(t.evaluate||Pt).source+"|$","g"),p="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++_r+"]")+"\n";n.replace(h,function(t,r,e,o,f,c){return e||(e=o),s+=n.slice(a,c).replace(qt,C),r&&(u=!0,s+="' +\n__e("+r+") +\n'"),f&&(i=!0,s+="';\n"+f+";\n__p += '"),e&&(s+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),a=c+t.length,t}),s+="';\n";var _=t.variable;_||(s="with (obj) {\n"+s+"\n}\n"),s=(i?s.replace(ht,""):s).replace(pt,"$1").replace(_t,"$1;"),s="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+s+"return __p\n}";var v=Vh(function(){return rl(f,p+"return "+s).apply(Y,c)});if(v.source=s,Jf(v))throw v;return v}function va(n){return Ac(n).toLowerCase()}function ga(n){return Ac(n).toUpperCase()}function ya(n,t,r){if((n=Ac(n))&&(r||t===Y))return n.replace(It,"");if(!n||!(t=lu(t)))return n;var e=V(n),u=V(t);return mu(e,S(e,u),L(e,u)+1).join("")}function da(n,t,r){if((n=Ac(n))&&(r||t===Y))return n.replace(zt,"");if(!n||!(t=lu(t)))return n;var e=V(n);return mu(e,0,L(e,V(t))+1).join("")}function ba(n,t,r){if((n=Ac(n))&&(r||t===Y))return n.replace(Rt,"");if(!n||!(t=lu(t)))return n;var e=V(n);return mu(e,S(e,V(t))).join("")}function wa(n,t){var r=wn,e=mn;if(tc(t)){var u="separator"in t?t.separator:u;r="length"in t?bc(t.length):r,e="omission"in t?lu(t.omission):e}n=Ac(n);var i=n.length;if(B(n)){var o=V(n);i=o.length}if(r>=i)return n;var f=r-K(e);if(f<1)return e;var c=o?mu(o,0,f).join(""):n.slice(0,f);if(u===Y)return c+e;if(o&&(f+=c.length-f),dh(u)){if(n.slice(f).search(u)){var a,l=c;for(u.global||(u=il(u.source,Ac(Bt.exec(u))+"g")),u.lastIndex=0;a=u.exec(l);)var s=a.index;c=c.slice(0,s===Y?f:s)}}else if(n.indexOf(lu(u),f)!=f){var h=c.lastIndexOf(u);h>-1&&(c=c.slice(0,h))}return c+e}function ma(n){return n=Ac(n),n&&yt.test(n)?n.replace(vt,Mr):n}function xa(n,t,r){return n=Ac(n),t=r?Y:t,t===Y?T(n)?J(n):_(n):n.match(t)||[]}function ja(t){var r=null==t?0:t.length,e=gi();return t=r?c(t,function(n){if("function"!=typeof n[1])throw new fl(nn);return[e(n[0]),n[1]]}):[],Xe(function(e){for(var u=-1;++u<r;){var i=t[u];if(n(i[0],this,e))return n(i[1],this,e)}})}function Aa(n){return te(ne(n,un))}function ka(n){return function(){return n}}function Oa(n,t){return null==n||n!==n?t:n}function Ia(n){return n}function Ra(n){return Ce("function"==typeof n?n:ne(n,un))}function za(n){return De(ne(n,un))}function Ea(n,t){return Me(n,ne(t,un))}function Sa(n,t,e){var u=Tc(t),i=he(t,u);null!=e||tc(t)&&(i.length||!u.length)||(e=t,t=n,n=this,i=he(t,Tc(t)));var o=!(tc(e)&&"chain"in e&&!e.chain),f=Qf(n);return r(i,function(r){var e=t[r];n[r]=e,f&&(n.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=n(this.__wrapped__);return(r.__actions__=Lu(this.__actions__)).push({func:e,args:arguments,thisArg:n}),r.__chain__=t,r}return e.apply(n,a([this.value()],arguments))})}),n}function La(){return kr._===this&&(kr._=dl),this}function Wa(){}function Ca(n){return n=bc(n),Xe(function(t){return Pe(t,n)})}function Ua(n){return Si(n)?m(Gi(n)):Ve(n)}function Ba(n){return function(t){return null==n?Y:pe(n,t)}}function Ta(){return[]}function $a(){return!1}function Da(){return{}}function Ma(){return""}function Fa(){return!0}function Na(n,t){if((n=bc(n))<1||n>In)return[];var r=En,e=Pl(n,En);t=gi(t),n-=En;for(var u=O(e,t);++r<n;)t(r);return u}function Pa(n){return ph(n)?c(n,Gi):pc(n)?[n]:Lu(Rs(Ac(n)))}function qa(n){var t=++_l;return Ac(n)+t}function Za(n){return n&&n.length?oe(n,Ia,ge):Y}function Ka(n,t){return n&&n.length?oe(n,gi(t,2),ge):Y}function Va(n){return w(n,Ia)}function Ga(n,t){return w(n,gi(t,2))}function Ha(n){return n&&n.length?oe(n,Ia,Te):Y}function Ja(n,t){return n&&n.length?oe(n,gi(t,2),Te):Y}function Ya(n){return n&&n.length?k(n,Ia):0}function Qa(n,t){return n&&n.length?k(n,gi(t,2)):0}x=null==x?kr:Fr.defaults(kr.Object(),x,Fr.pick(kr,pr));var Xa=x.Array,nl=x.Date,tl=x.Error,rl=x.Function,el=x.Math,ul=x.Object,il=x.RegExp,ol=x.String,fl=x.TypeError,cl=Xa.prototype,al=rl.prototype,ll=ul.prototype,sl=x["__core-js_shared__"],hl=al.toString,pl=ll.hasOwnProperty,_l=0,vl=function(){var n=/[^.]+$/.exec(sl&&sl.keys&&sl.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),gl=ll.toString,yl=hl.call(ul),dl=kr._,bl=il("^"+hl.call(pl).replace(kt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wl=Rr?x.Buffer:Y,ml=x.Symbol,xl=x.Uint8Array,jl=wl?wl.allocUnsafe:Y,Al=M(ul.getPrototypeOf,ul),kl=ul.create,Ol=ll.propertyIsEnumerable,Il=cl.splice,Rl=ml?ml.isConcatSpreadable:Y,zl=ml?ml.iterator:Y,El=ml?ml.toStringTag:Y,Sl=function(){try{var n=bi(ul,"defineProperty");return n({},"",{}),n}catch(n){}}(),Ll=x.clearTimeout!==kr.clearTimeout&&x.clearTimeout,Wl=nl&&nl.now!==kr.Date.now&&nl.now,Cl=x.setTimeout!==kr.setTimeout&&x.setTimeout,Ul=el.ceil,Bl=el.floor,Tl=ul.getOwnPropertySymbols,$l=wl?wl.isBuffer:Y,Dl=x.isFinite,Ml=cl.join,Fl=M(ul.keys,ul),Nl=el.max,Pl=el.min,ql=nl.now,Zl=x.parseInt,Kl=el.random,Vl=cl.reverse,Gl=bi(x,"DataView"),Hl=bi(x,"Map"),Jl=bi(x,"Promise"),Yl=bi(x,"Set"),Ql=bi(x,"WeakMap"),Xl=bi(ul,"create"),ns=Ql&&new Ql,ts={},rs=Hi(Gl),es=Hi(Hl),us=Hi(Jl),is=Hi(Yl),os=Hi(Ql),fs=ml?ml.prototype:Y,cs=fs?fs.valueOf:Y,as=fs?fs.toString:Y,ls=function(){function n(){}return function(t){if(!tc(t))return{};if(kl)return kl(t);n.prototype=t;var r=new n;return n.prototype=Y,r}}();q.templateSettings={escape:bt,evaluate:wt,interpolate:mt,variable:"",imports:{_:q}},q.prototype=G.prototype,q.prototype.constructor=q,H.prototype=ls(G.prototype),H.prototype.constructor=H,Wt.prototype=ls(G.prototype),Wt.prototype.constructor=Wt,Gt.prototype.clear=Ht,Gt.prototype.delete=Jt,Gt.prototype.get=Yt,Gt.prototype.has=Qt,Gt.prototype.set=Xt,nr.prototype.clear=tr,nr.prototype.delete=rr,nr.prototype.get=er,nr.prototype.has=ur,nr.prototype.set=ir,or.prototype.clear=ar,or.prototype.delete=lr,or.prototype.get=sr,or.prototype.has=hr,or.prototype.set=yr,dr.prototype.add=dr.prototype.push=br,dr.prototype.has=wr,jr.prototype.clear=Ar,jr.prototype.delete=Or,jr.prototype.get=Ir,jr.prototype.has=zr,jr.prototype.set=Er;var ss=$u(le),hs=$u(se,!0),ps=Du(),_s=Du(!0),vs=ns?function(n,t){return ns.set(n,t),n}:Ia,gs=Sl?function(n,t){return Sl(n,"toString",{configurable:!0,enumerable:!1,value:ka(t),writable:!0})}:Ia,ys=Xe,ds=Ll||function(n){return kr.clearTimeout(n)},bs=Yl&&1/N(new Yl([,-0]))[1]==On?function(n){return new Yl(n)}:Wa,ws=ns?function(n){return ns.get(n)}:Wa,ms=Tl?function(n){return null==n?[]:(n=ul(n),i(Tl(n),function(t){return Ol.call(n,t)}))}:Ta,xs=Tl?function(n){for(var t=[];n;)a(t,ms(n)),n=Al(n);return t}:Ta,js=ve;(Gl&&js(new Gl(new ArrayBuffer(1)))!=rt||Hl&&js(new Hl)!=Pn||Jl&&"[object Promise]"!=js(Jl.resolve())||Yl&&js(new Yl)!=Hn||Ql&&js(new Ql)!=Xn)&&(js=function(n){var t=ve(n),r=t==Kn?n.constructor:Y,e=r?Hi(r):"";if(e)switch(e){case rs:return rt;case es:return Pn;case us:return"[object Promise]";case is:return Hn;case os:return Xn}return t});var As=sl?Qf:$a,ks=Ki(vs),Os=Cl||function(n,t){return kr.setTimeout(n,t)},Is=Ki(gs),Rs=function(n){var t=Rf(n,function(n){return r.size===rn&&r.clear(),n}),r=t.cache;return t}(function(n){var t=[];return 46===n.charCodeAt(0)&&t.push(""),n.replace(At,function(n,r,e,u){t.push(e?u.replace(Ct,"$1"):r||n)}),t}),zs=Xe(function(n,t){return qf(n)?ue(n,ae(t,1,qf,!0)):[]}),Es=Xe(function(n,t){var r=go(t);return qf(r)&&(r=Y),qf(n)?ue(n,ae(t,1,qf,!0),gi(r,2)):[]}),Ss=Xe(function(n,t){var r=go(t);return qf(r)&&(r=Y),qf(n)?ue(n,ae(t,1,qf,!0),Y,r):[]}),Ls=Xe(function(n){var t=c(n,du);return t.length&&t[0]===n[0]?we(t):[]}),Ws=Xe(function(n){var t=go(n),r=c(n,du);return t===go(r)?t=Y:r.pop(),r.length&&r[0]===n[0]?we(r,gi(t,2)):[]}),Cs=Xe(function(n){var t=go(n),r=c(n,du);return t="function"==typeof t?t:Y,t&&r.pop(),r.length&&r[0]===n[0]?we(r,Y,t):[]}),Us=Xe(wo),Bs=si(function(n,t){var r=null==n?0:n.length,e=Qr(n,t);return He(n,c(t,function(n){return zi(n,r)?+n:n}).sort(Ru)),e}),Ts=Xe(function(n){return su(ae(n,1,qf,!0))}),$s=Xe(function(n){var t=go(n);return qf(t)&&(t=Y),su(ae(n,1,qf,!0),gi(t,2))}),Ds=Xe(function(n){var t=go(n);return t="function"==typeof t?t:Y,su(ae(n,1,qf,!0),Y,t)}),Ms=Xe(function(n,t){return qf(n)?ue(n,t):[]}),Fs=Xe(function(n){return gu(i(n,qf))}),Ns=Xe(function(n){var t=go(n);return qf(t)&&(t=Y),gu(i(n,qf),gi(t,2))}),Ps=Xe(function(n){var t=go(n);return t="function"==typeof t?t:Y,gu(i(n,qf),Y,t)}),qs=Xe(No),Zs=Xe(function(n){var t=n.length,r=t>1?n[t-1]:Y;return r="function"==typeof r?(n.pop(),r):Y,Po(n,r)}),Ks=si(function(n){var t=n.length,r=t?n[0]:0,e=this.__wrapped__,u=function(t){return Qr(t,n)};return!(t>1||this.__actions__.length)&&e instanceof Wt&&zi(r)?(e=e.slice(r,+r+(t?1:0)),e.__actions__.push({func:Go,args:[u],thisArg:Y}),new H(e,this.__chain__).thru(function(n){return t&&!n.length&&n.push(Y),n})):this.thru(u)}),Vs=Bu(function(n,t,r){pl.call(n,r)?++n[r]:Yr(n,r,1)}),Gs=Zu(oo),Hs=Zu(fo),Js=Bu(function(n,t,r){pl.call(n,r)?n[r].push(t):Yr(n,r,[t])}),Ys=Xe(function(t,r,e){var u=-1,i="function"==typeof r,o=Pf(t)?Xa(t.length):[];return ss(t,function(t){o[++u]=i?n(r,t,e):xe(t,r,e)}),o}),Qs=Bu(function(n,t,r){Yr(n,r,t)}),Xs=Bu(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),nh=Xe(function(n,t){if(null==n)return[];var r=t.length;return r>1&&Ei(n,t[0],t[1])?t=[]:r>2&&Ei(t[0],t[1],t[2])&&(t=[t[0]]),qe(n,ae(t,1),[])}),th=Wl||function(){return kr.Date.now()},rh=Xe(function(n,t,r){var e=ln;if(r.length){var u=F(r,vi(rh));e|=vn}return ui(n,e,t,r,u)}),eh=Xe(function(n,t,r){var e=ln|sn;if(r.length){var u=F(r,vi(eh));e|=vn}return ui(t,e,n,r,u)}),uh=Xe(function(n,t){return ee(n,1,t)}),ih=Xe(function(n,t,r){return ee(n,mc(t)||0,r)});Rf.Cache=or;var oh=ys(function(t,r){r=1==r.length&&ph(r[0])?c(r[0],R(gi())):c(ae(r,1),R(gi()));var e=r.length;return Xe(function(u){for(var i=-1,o=Pl(u.length,e);++i<o;)u[i]=r[i].call(this,u[i]);return n(t,this,u)})}),fh=Xe(function(n,t){var r=F(t,vi(fh));return ui(n,vn,Y,t,r)}),ch=Xe(function(n,t){var r=F(t,vi(ch));return ui(n,gn,Y,t,r)}),ah=si(function(n,t){return ui(n,dn,Y,Y,Y,t)}),lh=ni(ge),sh=ni(function(n,t){return n>=t}),hh=je(function(){return arguments}())?je:function(n){return rc(n)&&pl.call(n,"callee")&&!Ol.call(n,"callee")},ph=Xa.isArray,_h=Sr?R(Sr):Ae,vh=$l||$a,gh=Lr?R(Lr):ke,yh=Wr?R(Wr):Re,dh=Cr?R(Cr):Se,bh=Ur?R(Ur):Le,wh=Br?R(Br):We,mh=ni(Te),xh=ni(function(n,t){return n<=t}),jh=Tu(function(n,t){if(Ui(t)||Pf(t))return void Wu(t,Tc(t),n);for(var r in t)pl.call(t,r)&&Kr(n,r,t[r])}),Ah=Tu(function(n,t){Wu(t,$c(t),n)}),kh=Tu(function(n,t,r,e){Wu(t,$c(t),n,e)}),Oh=Tu(function(n,t,r,e){Wu(t,Tc(t),n,e)}),Ih=si(Qr),Rh=Xe(function(n,t){n=ul(n);var r=-1,e=t.length,u=e>2?t[2]:Y;for(u&&Ei(t[0],t[1],u)&&(e=1);++r<e;)for(var i=t[r],o=$c(i),f=-1,c=o.length;++f<c;){var a=o[f],l=n[a];(l===Y||Nf(l,ll[a])&&!pl.call(n,a))&&(n[a]=i[a])}return n}),zh=Xe(function(t){return t.push(Y,oi),n(Ch,Y,t)}),Eh=Gu(function(n,t,r){null!=t&&"function"!=typeof t.toString&&(t=gl.call(t)),n[t]=r},ka(Ia)),Sh=Gu(function(n,t,r){null!=t&&"function"!=typeof t.toString&&(t=gl.call(t)),pl.call(n,t)?n[t].push(r):n[t]=[r]},gi),Lh=Xe(xe),Wh=Tu(function(n,t,r){Fe(n,t,r)}),Ch=Tu(function(n,t,r,e){Fe(n,t,r,e)}),Uh=si(function(n,t){var r={};if(null==n)return r;var e=!1;t=c(t,function(t){return t=wu(t,n),e||(e=t.length>1),t}),Wu(n,pi(n),r),e&&(r=ne(r,un|on|fn,fi));for(var u=t.length;u--;)hu(r,t[u]);return r}),Bh=si(function(n,t){return null==n?{}:Ze(n,t)}),Th=ei(Tc),$h=ei($c),Dh=Nu(function(n,t,r){return t=t.toLowerCase(),n+(r?ta(t):t)}),Mh=Nu(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Fh=Nu(function(n,t,r){return n+(r?" ":"")+t.toLowerCase()}),Nh=Fu("toLowerCase"),Ph=Nu(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),qh=Nu(function(n,t,r){return n+(r?" ":"")+Kh(t)}),Zh=Nu(function(n,t,r){return n+(r?" ":"")+t.toUpperCase()}),Kh=Fu("toUpperCase"),Vh=Xe(function(t,r){try{return n(t,Y,r)}catch(n){return Jf(n)?n:new tl(n)}}),Gh=si(function(n,t){return r(t,function(t){t=Gi(t),Yr(n,t,rh(n[t],n))}),n}),Hh=Ku(),Jh=Ku(!0),Yh=Xe(function(n,t){return function(r){return xe(r,n,t)}}),Qh=Xe(function(n,t){return function(r){return xe(n,r,t)}}),Xh=Ju(c),np=Ju(u),tp=Ju(h),rp=Xu(),ep=Xu(!0),up=Hu(function(n,t){return n+t
},0),ip=ri("ceil"),op=Hu(function(n,t){return n/t},1),fp=ri("floor"),cp=Hu(function(n,t){return n*t},1),ap=ri("round"),lp=Hu(function(n,t){return n-t},0);return q.after=mf,q.ary=xf,q.assign=jh,q.assignIn=Ah,q.assignInWith=kh,q.assignWith=Oh,q.at=Ih,q.before=jf,q.bind=rh,q.bindAll=Gh,q.bindKey=eh,q.castArray=Bf,q.chain=Ko,q.chunk=Qi,q.compact=Xi,q.concat=no,q.cond=ja,q.conforms=Aa,q.constant=ka,q.countBy=Vs,q.create=kc,q.curry=Af,q.curryRight=kf,q.debounce=Of,q.defaults=Rh,q.defaultsDeep=zh,q.defer=uh,q.delay=ih,q.difference=zs,q.differenceBy=Es,q.differenceWith=Ss,q.drop=to,q.dropRight=ro,q.dropRightWhile=eo,q.dropWhile=uo,q.fill=io,q.filter=ef,q.flatMap=uf,q.flatMapDeep=of,q.flatMapDepth=ff,q.flatten=co,q.flattenDeep=ao,q.flattenDepth=lo,q.flip=If,q.flow=Hh,q.flowRight=Jh,q.fromPairs=so,q.functions=Lc,q.functionsIn=Wc,q.groupBy=Js,q.initial=_o,q.intersection=Ls,q.intersectionBy=Ws,q.intersectionWith=Cs,q.invert=Eh,q.invertBy=Sh,q.invokeMap=Ys,q.iteratee=Ra,q.keyBy=Qs,q.keys=Tc,q.keysIn=$c,q.map=sf,q.mapKeys=Dc,q.mapValues=Mc,q.matches=za,q.matchesProperty=Ea,q.memoize=Rf,q.merge=Wh,q.mergeWith=Ch,q.method=Yh,q.methodOf=Qh,q.mixin=Sa,q.negate=zf,q.nthArg=Ca,q.omit=Uh,q.omitBy=Fc,q.once=Ef,q.orderBy=hf,q.over=Xh,q.overArgs=oh,q.overEvery=np,q.overSome=tp,q.partial=fh,q.partialRight=ch,q.partition=Xs,q.pick=Bh,q.pickBy=Nc,q.property=Ua,q.propertyOf=Ba,q.pull=Us,q.pullAll=wo,q.pullAllBy=mo,q.pullAllWith=xo,q.pullAt=Bs,q.range=rp,q.rangeRight=ep,q.rearg=ah,q.reject=vf,q.remove=jo,q.rest=Sf,q.reverse=Ao,q.sampleSize=yf,q.set=qc,q.setWith=Zc,q.shuffle=df,q.slice=ko,q.sortBy=nh,q.sortedUniq=Lo,q.sortedUniqBy=Wo,q.split=ha,q.spread=Lf,q.tail=Co,q.take=Uo,q.takeRight=Bo,q.takeRightWhile=To,q.takeWhile=$o,q.tap=Vo,q.throttle=Wf,q.thru=Go,q.toArray=yc,q.toPairs=Th,q.toPairsIn=$h,q.toPath=Pa,q.toPlainObject=xc,q.transform=Kc,q.unary=Cf,q.union=Ts,q.unionBy=$s,q.unionWith=Ds,q.uniq=Do,q.uniqBy=Mo,q.uniqWith=Fo,q.unset=Vc,q.unzip=No,q.unzipWith=Po,q.update=Gc,q.updateWith=Hc,q.values=Jc,q.valuesIn=Yc,q.without=Ms,q.words=xa,q.wrap=Uf,q.xor=Fs,q.xorBy=Ns,q.xorWith=Ps,q.zip=qs,q.zipObject=qo,q.zipObjectDeep=Zo,q.zipWith=Zs,q.entries=Th,q.entriesIn=$h,q.extend=Ah,q.extendWith=kh,Sa(q,q),q.add=up,q.attempt=Vh,q.camelCase=Dh,q.capitalize=ta,q.ceil=ip,q.clamp=Qc,q.clone=Tf,q.cloneDeep=Df,q.cloneDeepWith=Mf,q.cloneWith=$f,q.conformsTo=Ff,q.deburr=ra,q.defaultTo=Oa,q.divide=op,q.endsWith=ea,q.eq=Nf,q.escape=ua,q.escapeRegExp=ia,q.every=rf,q.find=Gs,q.findIndex=oo,q.findKey=Oc,q.findLast=Hs,q.findLastIndex=fo,q.findLastKey=Ic,q.floor=fp,q.forEach=cf,q.forEachRight=af,q.forIn=Rc,q.forInRight=zc,q.forOwn=Ec,q.forOwnRight=Sc,q.get=Cc,q.gt=lh,q.gte=sh,q.has=Uc,q.hasIn=Bc,q.head=ho,q.identity=Ia,q.includes=lf,q.indexOf=po,q.inRange=Xc,q.invoke=Lh,q.isArguments=hh,q.isArray=ph,q.isArrayBuffer=_h,q.isArrayLike=Pf,q.isArrayLikeObject=qf,q.isBoolean=Zf,q.isBuffer=vh,q.isDate=gh,q.isElement=Kf,q.isEmpty=Vf,q.isEqual=Gf,q.isEqualWith=Hf,q.isError=Jf,q.isFinite=Yf,q.isFunction=Qf,q.isInteger=Xf,q.isLength=nc,q.isMap=yh,q.isMatch=ec,q.isMatchWith=uc,q.isNaN=ic,q.isNative=oc,q.isNil=cc,q.isNull=fc,q.isNumber=ac,q.isObject=tc,q.isObjectLike=rc,q.isPlainObject=lc,q.isRegExp=dh,q.isSafeInteger=sc,q.isSet=bh,q.isString=hc,q.isSymbol=pc,q.isTypedArray=wh,q.isUndefined=_c,q.isWeakMap=vc,q.isWeakSet=gc,q.join=vo,q.kebabCase=Mh,q.last=go,q.lastIndexOf=yo,q.lowerCase=Fh,q.lowerFirst=Nh,q.lt=mh,q.lte=xh,q.max=Za,q.maxBy=Ka,q.mean=Va,q.meanBy=Ga,q.min=Ha,q.minBy=Ja,q.stubArray=Ta,q.stubFalse=$a,q.stubObject=Da,q.stubString=Ma,q.stubTrue=Fa,q.multiply=cp,q.nth=bo,q.noConflict=La,q.noop=Wa,q.now=th,q.pad=oa,q.padEnd=fa,q.padStart=ca,q.parseInt=aa,q.random=na,q.reduce=pf,q.reduceRight=_f,q.repeat=la,q.replace=sa,q.result=Pc,q.round=ap,q.runInContext=p,q.sample=gf,q.size=bf,q.snakeCase=Ph,q.some=wf,q.sortedIndex=Oo,q.sortedIndexBy=Io,q.sortedIndexOf=Ro,q.sortedLastIndex=zo,q.sortedLastIndexBy=Eo,q.sortedLastIndexOf=So,q.startCase=qh,q.startsWith=pa,q.subtract=lp,q.sum=Ya,q.sumBy=Qa,q.template=_a,q.times=Na,q.toFinite=dc,q.toInteger=bc,q.toLength=wc,q.toLower=va,q.toNumber=mc,q.toSafeInteger=jc,q.toString=Ac,q.toUpper=ga,q.trim=ya,q.trimEnd=da,q.trimStart=ba,q.truncate=wa,q.unescape=ma,q.uniqueId=qa,q.upperCase=Zh,q.upperFirst=Kh,q.each=cf,q.eachRight=af,q.first=ho,Sa(q,function(){var n={};return le(q,function(t,r){pl.call(q.prototype,r)||(n[r]=t)}),n}(),{chain:!1}),q.VERSION="4.17.11",r(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){q[n].placeholder=q}),r(["drop","take"],function(n,t){Wt.prototype[n]=function(r){r=r===Y?1:Nl(bc(r),0);var e=this.__filtered__&&!t?new Wt(this):this.clone();return e.__filtered__?e.__takeCount__=Pl(r,e.__takeCount__):e.__views__.push({size:Pl(r,En),type:n+(e.__dir__<0?"Right":"")}),e},Wt.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),r(["filter","map","takeWhile"],function(n,t){var r=t+1,e=r==An||3==r;Wt.prototype[n]=function(n){var t=this.clone();return t.__iteratees__.push({iteratee:gi(n,3),type:r}),t.__filtered__=t.__filtered__||e,t}}),r(["head","last"],function(n,t){var r="take"+(t?"Right":"");Wt.prototype[n]=function(){return this[r](1).value()[0]}}),r(["initial","tail"],function(n,t){var r="drop"+(t?"":"Right");Wt.prototype[n]=function(){return this.__filtered__?new Wt(this):this[r](1)}}),Wt.prototype.compact=function(){return this.filter(Ia)},Wt.prototype.find=function(n){return this.filter(n).head()},Wt.prototype.findLast=function(n){return this.reverse().find(n)},Wt.prototype.invokeMap=Xe(function(n,t){return"function"==typeof n?new Wt(this):this.map(function(r){return xe(r,n,t)})}),Wt.prototype.reject=function(n){return this.filter(zf(gi(n)))},Wt.prototype.slice=function(n,t){n=bc(n);var r=this;return r.__filtered__&&(n>0||t<0)?new Wt(r):(n<0?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==Y&&(t=bc(t),r=t<0?r.dropRight(-t):r.take(t-n)),r)},Wt.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Wt.prototype.toArray=function(){return this.take(En)},le(Wt.prototype,function(n,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),e=/^(?:head|last)$/.test(t),u=q[e?"take"+("last"==t?"Right":""):t],i=e||/^find/.test(t);u&&(q.prototype[t]=function(){var t=this.__wrapped__,o=e?[1]:arguments,f=t instanceof Wt,c=o[0],l=f||ph(t),s=function(n){var t=u.apply(q,a([n],o));return e&&h?t[0]:t};l&&r&&"function"==typeof c&&1!=c.length&&(f=l=!1);var h=this.__chain__,p=!!this.__actions__.length,_=i&&!h,v=f&&!p;if(!i&&l){t=v?t:new Wt(this);var g=n.apply(t,o);return g.__actions__.push({func:Go,args:[s],thisArg:Y}),new H(g,h)}return _&&v?n.apply(this,o):(g=this.thru(s),_?e?g.value()[0]:g.value():g)})}),r(["pop","push","shift","sort","splice","unshift"],function(n){var t=cl[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:pop|shift)$/.test(n);q.prototype[n]=function(){var n=arguments;if(e&&!this.__chain__){var u=this.value();return t.apply(ph(u)?u:[],n)}return this[r](function(r){return t.apply(ph(r)?r:[],n)})}}),le(Wt.prototype,function(n,t){var r=q[t];if(r){var e=r.name+"";(ts[e]||(ts[e]=[])).push({name:t,func:r})}}),ts[Vu(Y,sn).name]=[{name:"wrapper",func:Y}],Wt.prototype.clone=Zt,Wt.prototype.reverse=Kt,Wt.prototype.value=Vt,q.prototype.at=Ks,q.prototype.chain=Ho,q.prototype.commit=Jo,q.prototype.next=Yo,q.prototype.plant=Xo,q.prototype.reverse=nf,q.prototype.toJSON=q.prototype.valueOf=q.prototype.value=tf,q.prototype.first=q.prototype.head,zl&&(q.prototype[zl]=Qo),q}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(kr._=Fr,define(function(){return Fr})):Ir?((Ir.exports=Fr)._=Fr,Or._=Fr):kr._=Fr}).call(this);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],94:[function(require,module,exports){
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t,n){n=n||we;var r,i,o=n.createElement("script");if(o.text=e,t)for(r in Te)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function r(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?de[he.call(e)]||"object":typeof e}function i(e){var t=!!e&&"length"in e&&e.length,n=r(e);return!xe(e)&&!be(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function o(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function a(e,t,n){return xe(t)?Ce.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?Ce.grep(e,function(e){return e===t!==n}):"string"!=typeof t?Ce.grep(e,function(e){return pe.call(t,e)>-1!==n}):Ce.filter(t,e,n)}function s(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function u(e){var t={};return Ce.each(e.match(He)||[],function(e,n){t[n]=!0}),t}function l(e){return e}function c(e){throw e}function f(e,t,n,r){var i;try{e&&xe(i=e.promise)?i.call(e).done(t).fail(n):e&&xe(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function p(){we.removeEventListener("DOMContentLoaded",p),e.removeEventListener("load",p),Ce.ready()}function d(e,t){return t.toUpperCase()}function h(e){return e.replace(Me,"ms-").replace(Ie,d)}function g(){this.expando=Ce.expando+g.uid++}function v(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:$e.test(e)?JSON.parse(e):e)}function y(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(_e,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=v(n)}catch(e){}Be.set(e,t,n)}else n=void 0;return n}function m(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return Ce.css(e,t,"")},u=s(),l=n&&n[3]||(Ce.cssNumber[t]?"":"px"),c=e.nodeType&&(Ce.cssNumber[t]||"px"!==l&&+u)&&Ue.exec(Ce.css(e,t));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)Ce.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,Ce.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}function x(e){var t,n=e.ownerDocument,r=e.nodeName,i=Je[r];return i||(t=n.body.appendChild(n.createElement(r)),i=Ce.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),Je[r]=i,i)}function b(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)r=e[o],r.style&&(n=r.style.display,t?("none"===n&&(i[o]=Fe.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&Qe(r)&&(i[o]=x(r))):"none"!==n&&(i[o]="none",Fe.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}function w(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&o(e,t)?Ce.merge([e],n):n}function T(e,t){for(var n=0,r=e.length;n<r;n++)Fe.set(e[n],"globalEval",!t||Fe.get(t[n],"globalEval"))}function C(e,t,n,i,o){for(var a,s,u,l,c,f,p=t.createDocumentFragment(),d=[],h=0,g=e.length;h<g;h++)if((a=e[h])||0===a)if("object"===r(a))Ce.merge(d,a.nodeType?[a]:a);else if(nt.test(a)){for(s=s||p.appendChild(t.createElement("div")),u=(Ze.exec(a)||["",""])[1].toLowerCase(),l=tt[u]||tt._default,s.innerHTML=l[1]+Ce.htmlPrefilter(a)+l[2],f=l[0];f--;)s=s.lastChild;Ce.merge(d,s.childNodes),s=p.firstChild,s.textContent=""}else d.push(t.createTextNode(a));for(p.textContent="",h=0;a=d[h++];)if(i&&Ce.inArray(a,i)>-1)o&&o.push(a);else if(c=Ge(a),s=w(p.appendChild(a),"script"),c&&T(s),n)for(f=0;a=s[f++];)et.test(a.type||"")&&n.push(a);return p}function E(){return!0}function S(){return!1}function k(e,t){return e===A()==("focus"===t)}function A(){try{return we.activeElement}catch(e){}}function N(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)N(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=S;else if(!i)return e;return 1===o&&(a=i,i=function(e){return Ce().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=Ce.guid++)),e.each(function(){Ce.event.add(this,t,i,r,n)})}function D(e,t,n){if(!n)return void(void 0===Fe.get(e,t)&&Ce.event.add(e,t,E));Fe.set(e,t,!1),Ce.event.add(e,t,{namespace:!1,handler:function(e){var r,i,o=Fe.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(Ce.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=le.call(arguments),Fe.set(this,t,o),r=n(this,t),this[t](),i=Fe.get(this,t),o!==i||r?Fe.set(this,t,!1):i={},o!==i)return e.stopImmediatePropagation(),e.preventDefault(),i.value}else o.length&&(Fe.set(this,t,{value:Ce.event.trigger(Ce.extend(o[0],Ce.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})}function j(e,t){return o(e,"table")&&o(11!==t.nodeType?t:t.firstChild,"tr")?Ce(e).children("tbody")[0]||e:e}function q(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function L(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function H(e,t){var n,r,i,o,a,s,u;if(1===t.nodeType){if(Fe.hasData(e)&&(o=Fe.get(e),u=o.events)){Fe.remove(t,"handle events");for(i in u)for(n=0,r=u[i].length;n<r;n++)Ce.event.add(t,i,u[i][n])}Be.hasData(e)&&(a=Be.access(e),s=Ce.extend({},a),Be.set(t,s))}}function O(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ke.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function P(e,t,r,i){t=ce(t);var o,a,s,u,l,c,f=0,p=e.length,d=p-1,h=t[0],g=xe(h);if(g||p>1&&"string"==typeof h&&!me.checkClone&&st.test(h))return e.each(function(n){var o=e.eq(n);g&&(t[0]=h.call(this,n,o.html())),P(o,t,r,i)});if(p&&(o=C(t,e[0].ownerDocument,!1,e,i),a=o.firstChild,1===o.childNodes.length&&(o=a),a||i)){for(s=Ce.map(w(o,"script"),q),u=s.length;f<p;f++)l=o,f!==d&&(l=Ce.clone(l,!0,!0),u&&Ce.merge(s,w(l,"script"))),r.call(e[f],l,f);if(u)for(c=s[s.length-1].ownerDocument,Ce.map(s,L),f=0;f<u;f++)l=s[f],et.test(l.type||"")&&!Fe.access(l,"globalEval")&&Ce.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?Ce._evalUrl&&!l.noModule&&Ce._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):n(l.textContent.replace(ut,""),l,c))}return e}function R(e,t,n){for(var r,i=t?Ce.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||Ce.cleanData(w(r)),r.parentNode&&(n&&Ge(r)&&T(w(r,"script")),r.parentNode.removeChild(r));return e}function M(e,t,n){var r,i,o,a,s=e.style;return n=n||ct(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||Ge(e)||(a=Ce.style(e,t)),!me.pixelBoxStyles()&&lt.test(a)&&pt.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function I(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function W(e){for(var t=e[0].toUpperCase()+e.slice(1),n=dt.length;n--;)if((e=dt[n]+t)in ht)return e}function F(e){var t=Ce.cssProps[e]||gt[e];return t||(e in ht?e:gt[e]=W(e)||e)}function B(e,t,n){var r=Ue.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function $(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=Ce.css(e,n+Xe[a],!0,i)),r?("content"===n&&(u-=Ce.css(e,"padding"+Xe[a],!0,i)),"margin"!==n&&(u-=Ce.css(e,"border"+Xe[a]+"Width",!0,i))):(u+=Ce.css(e,"padding"+Xe[a],!0,i),"padding"!==n?u+=Ce.css(e,"border"+Xe[a]+"Width",!0,i):s+=Ce.css(e,"border"+Xe[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function _(e,t,n){var r=ct(e),i=!me.boxSizingReliable()||n,a=i&&"border-box"===Ce.css(e,"boxSizing",!1,r),s=a,u=M(e,t,r),l="offset"+t[0].toUpperCase()+t.slice(1);if(lt.test(u)){if(!n)return u;u="auto"}return(!me.boxSizingReliable()&&a||!me.reliableTrDimensions()&&o(e,"tr")||"auto"===u||!parseFloat(u)&&"inline"===Ce.css(e,"display",!1,r))&&e.getClientRects().length&&(a="border-box"===Ce.css(e,"boxSizing",!1,r),(s=l in e)&&(u=e[l])),(u=parseFloat(u)||0)+$(e,t,n||(a?"border":"content"),s,r,u)+"px"}function z(e,t,n,r,i){return new z.prototype.init(e,t,n,r,i)}function U(){wt&&(!1===we.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(U):e.setTimeout(U,Ce.fx.interval),Ce.fx.tick())}function X(){return e.setTimeout(function(){bt=void 0}),bt=Date.now()}function V(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=Xe[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function G(e,t,n){for(var r,i=(J.tweeners[t]||[]).concat(J.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function Y(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&Qe(e),v=Fe.get(e,"fxshow");n.queue||(a=Ce._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,Ce.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],Tt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||Ce.style(e,r)}if((u=!Ce.isEmptyObject(t))||!Ce.isEmptyObject(d)){f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],l=v&&v.display,null==l&&(l=Fe.get(e,"display")),c=Ce.css(e,"display"),"none"===c&&(l?c=l:(b([e],!0),l=e.style.display||l,c=Ce.css(e,"display"),b([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===Ce.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1;for(r in d)u||(v?"hidden"in v&&(g=v.hidden):v=Fe.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&b([e],!0),p.done(function(){g||b([e]),Fe.remove(e,"fxshow");for(r in d)Ce.style(e,r,d[r])})),u=G(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}}function Q(e,t){var n,r,i,o,a;for(n in e)if(r=h(n),i=t[r],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=Ce.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function J(e,t,n){var r,i,o=0,a=J.prefilters.length,s=Ce.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=bt||X(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),o<1&&u?n:(u||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:Ce.extend({},t),opts:Ce.extend(!0,{specialEasing:{},easing:Ce.easing._default},n),originalProperties:t,originalOptions:n,startTime:bt||X(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Ce.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(Q(c,l.opts.specialEasing);o<a;o++)if(r=J.prefilters[o].call(l,e,c,l.opts))return xe(r.stop)&&(Ce._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return Ce.map(c,G,l),xe(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),Ce.fx.timer(Ce.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}function K(e){return(e.match(He)||[]).join(" ")}function Z(e){return e.getAttribute&&e.getAttribute("class")||""}function ee(e){return Array.isArray(e)?e:"string"==typeof e?e.match(He)||[]:[]}function te(e,t,n,i){var o;if(Array.isArray(t))Ce.each(t,function(t,r){n||Ot.test(e)?i(e,r):te(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==r(t))i(e,t);else for(o in t)te(e+"["+o+"]",t[o],n,i)}function ne(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(He)||[];if(xe(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function re(e,t,n,r){function i(s){var u;return o[s]=!0,Ce.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===Xt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function ie(e,t){var n,r,i=Ce.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&Ce.extend(!0,e,r),e}function oe(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function ae(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}var se=[],ue=Object.getPrototypeOf,le=se.slice,ce=se.flat?function(e){return se.flat.call(e)}:function(e){return se.concat.apply([],e)},fe=se.push,pe=se.indexOf,de={},he=de.toString,ge=de.hasOwnProperty,ve=ge.toString,ye=ve.call(Object),me={},xe=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},be=function(e){return null!=e&&e===e.window},we=e.document,Te={type:!0,src:!0,nonce:!0,noModule:!0},Ce=function(e,t){return new Ce.fn.init(e,t)};Ce.fn=Ce.prototype={jquery:"3.5.1",constructor:Ce,length:0,toArray:function(){return le.call(this)},get:function(e){return null==e?le.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=Ce.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return Ce.each(this,e)},map:function(e){return this.pushStack(Ce.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(le.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(Ce.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(Ce.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:fe,sort:se.sort,splice:se.splice},Ce.extend=Ce.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||xe(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(Ce.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||Ce.isPlainObject(n)?n:{},i=!1,a[t]=Ce.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},Ce.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==he.call(e))&&(!(t=ue(e))||"function"==typeof(n=ge.call(t,"constructor")&&t.constructor)&&ve.call(n)===ye)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,r){n(e,{nonce:t&&t.nonce},r)},each:function(e,t){var n,r=0;if(i(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?Ce.merge(n,"string"==typeof e?[e]:e):fe.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:pe.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,o,a=0,s=[];if(i(e))for(r=e.length;a<r;a++)null!=(o=t(e[a],a,n))&&s.push(o);else for(a in e)null!=(o=t(e[a],a,n))&&s.push(o);return ce(s)},guid:1,support:me}),"function"==typeof Symbol&&(Ce.fn[Symbol.iterator]=se[Symbol.iterator]),Ce.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){de["[object "+t+"]"]=t.toLowerCase()});var Ee=function(e){function t(e,t,n,r){var i,o,a,s,u,c,p,d=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!r&&(j(t),t=t||q,H)){if(11!==h&&(u=ye.exec(e)))if(i=u[1]){if(9===h){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(d&&(a=d.getElementById(i))&&M(t,a)&&a.id===i)return n.push(a),n}else{if(u[2])return J.apply(n,t.getElementsByTagName(e)),n;if((i=u[3])&&b.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(i)),n}if(b.qsa&&!U[e+" "]&&(!O||!O.test(e))&&(1!==h||"object"!==t.nodeName.toLowerCase())){if(p=e,d=t,1===h&&(le.test(e)||ue.test(e))){for(d=me.test(e)&&l(t.parentNode)||t,d===t&&b.scope||((s=t.getAttribute("id"))?s=s.replace(we,Te):t.setAttribute("id",s=I)),c=E(e),o=c.length;o--;)c[o]=(s?"#"+s:":scope")+" "+f(c[o]);p=c.join(",")}try{return J.apply(n,d.querySelectorAll(p)),n}catch(t){U(e,!0)}finally{s===I&&t.removeAttribute("id")}}}return k(e.replace(ae,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[I]=!0,e}function i(e){var t=q.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)w.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Ee(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function l(e){return e&&void 0!==e.getElementsByTagName&&e}function c(){}function f(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=B++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,f,p=[F,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(f=t[I]||(t[I]={}),c=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===F&&l[1]===s)return p[2]=l[2];if(c[o]=p,p[2]=e(t,n,u))return!0}return!1}}function d(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function h(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function v(e,t,n,i,o,a){return i&&!i[I]&&(i=v(i)),o&&!o[I]&&(o=v(o,a)),r(function(r,a,s,u){var l,c,f,p=[],d=[],v=a.length,y=r||h(t||"*",s.nodeType?[s]:s,[]),m=!e||!r&&t?y:g(y,p,e,s,u),x=n?o||(r?e:v||i)?[]:a:m;if(n&&n(m,x,s,u),i)for(l=g(x,d),i(l,[],s,u),c=l.length;c--;)(f=l[c])&&(x[d[c]]=!(m[d[c]]=f));if(r){if(o||e){if(o){for(l=[],c=x.length;c--;)(f=x[c])&&l.push(m[c]=f);o(null,x=[],l,u)}for(c=x.length;c--;)(f=x[c])&&(l=o?Z(r,f):p[c])>-1&&(r[l]=!(a[l]=f))}}else x=g(x===a?x.splice(v,x.length):x),o?o(null,a,x,u):J.apply(a,x)})}function y(e){for(var t,n,r,i=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,u=p(function(e){return e===t},a,!0),l=p(function(e){return Z(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==A)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];s<i;s++)if(n=w.relative[e[s].type])c=[p(d(c),n)];else{if(n=w.filter[e[s].type].apply(null,e[s].matches),n[I]){for(r=++s;r<i&&!w.relative[e[r].type];r++);return v(s>1&&d(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ae,"$1"),n,s<r&&y(e.slice(s,r)),r<i&&y(e=e.slice(r)),r<i&&f(e))}c.push(n)}return d(c)}function m(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,f,p,d=0,h="0",v=r&&[],y=[],m=A,x=r||o&&w.find.TAG("*",l),b=F+=null==m?1:Math.random()||.1,T=x.length;for(l&&(A=a==q||a||l);h!==T&&null!=(c=x[h]);h++){if(o&&c){for(f=0,a||c.ownerDocument==q||(j(c),s=!H);p=e[f++];)if(p(c,a||q,s)){u.push(c);break}l&&(F=b)}i&&((c=!p&&c)&&d--,r&&v.push(c))}if(d+=h,i&&h!==d){for(f=0;p=n[f++];)p(v,y,a,s);if(r){if(d>0)for(;h--;)v[h]||y[h]||(y[h]=Y.call(u));y=g(y)}J.apply(u,y),l&&!r&&y.length>0&&d+n.length>1&&t.uniqueSort(u)}return l&&(F=b,A=m),v};return i?r(a):a}var x,b,w,T,C,E,S,k,A,N,D,j,q,L,H,O,P,R,M,I="sizzle"+1*new Date,W=e.document,F=0,B=0,$=n(),_=n(),z=n(),U=n(),X=function(e,t){return e===t&&(D=!0),0},V={}.hasOwnProperty,G=[],Y=G.pop,Q=G.push,J=G.push,K=G.slice,Z=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",te="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\[\\da-fA-F]{1,6}"+te+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",re="\\["+te+"*("+ne+")(?:"+te+"*([*^$|!~]?=)"+te+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+te+"*\\]",ie=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",oe=new RegExp(te+"+","g"),ae=new RegExp("^"+te+"+|((?:^|[^\\\\])(?:\\\\.)*)"+te+"+$","g"),se=new RegExp("^"+te+"*,"+te+"*"),ue=new RegExp("^"+te+"*([>+~]|"+te+")"+te+"*"),le=new RegExp(te+"|>"),ce=new RegExp(ie),fe=new RegExp("^"+ne+"$"),pe={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+te+"*(even|odd|(([+-]|)(\\d*)n|)"+te+"*(?:([+-]|)"+te+"*(\\d+)|))"+te+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+te+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+te+"*((?:-\\d)?\\d*)"+te+"*\\)|)(?=[^-]|$)","i")},de=/HTML$/i,he=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,me=/[+~]/,xe=new RegExp("\\\\[\\da-fA-F]{1,6}"+te+"?|\\\\([^\\r\\n\\f])","g"),be=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},we=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Te=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Ce=function(){j()},Ee=p(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{J.apply(G=K.call(W.childNodes),W.childNodes),G[W.childNodes.length].nodeType}catch(e){J={apply:G.length?function(e,t){Q.apply(e,K.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}b=t.support={},C=t.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!de.test(t||n&&n.nodeName||"HTML")},j=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:W;return r!=q&&9===r.nodeType&&r.documentElement?(q=r,L=q.documentElement,H=!C(q),W!=q&&(n=q.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),b.scope=i(function(e){return L.appendChild(e).appendChild(q.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),b.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=i(function(e){return e.appendChild(q.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=ve.test(q.getElementsByClassName),b.getById=i(function(e){return L.appendChild(e).id=I,!q.getElementsByName||!q.getElementsByName(I).length}),b.getById?(w.filter.ID=function(e){var t=e.replace(xe,be);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&H){var n=t.getElementById(e);return n?[n]:[]}}):(w.filter.ID=function(e){var t=e.replace(xe,be);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&H){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),w.find.TAG=b.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},w.find.CLASS=b.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&H)return t.getElementsByClassName(e)},P=[],O=[],(b.qsa=ve.test(q.querySelectorAll))&&(i(function(e){var t;L.appendChild(e).innerHTML="<a id='"+I+"'></a><select id='"+I+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+te+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||O.push("\\["+te+"*(?:value|"+ee+")"),e.querySelectorAll("[id~="+I+"-]").length||O.push("~="),t=q.createElement("input"),t.setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||O.push("\\["+te+"*name"+te+"*="+te+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||O.push(":checked"),e.querySelectorAll("a#"+I+"+*").length||O.push(".#.+[+~]"),e.querySelectorAll("\\\f"),O.push("[\\r\\n\\f]")}),i(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=q.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&O.push("name"+te+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&O.push(":enabled",":disabled"),L.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&O.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),O.push(",.*:")})),(b.matchesSelector=ve.test(R=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&i(function(e){b.disconnectedMatch=R.call(e,"*"),R.call(e,"[s!='']:x"),P.push("!=",ie)}),O=O.length&&new RegExp(O.join("|")),P=P.length&&new RegExp(P.join("|")),t=ve.test(L.compareDocumentPosition),M=t||ve.test(L.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},X=t?function(e,t){if(e===t)return D=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!b.sortDetached&&t.compareDocumentPosition(e)===n?e==q||e.ownerDocument==W&&M(W,e)?-1:t==q||t.ownerDocument==W&&M(W,t)?1:N?Z(N,e)-Z(N,t):0:4&n?-1:1)}:function(e,t){if(e===t)return D=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],u=[t];if(!i||!o)return e==q?-1:t==q?1:i?-1:o?1:N?Z(N,e)-Z(N,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]==W?-1:u[r]==W?1:0},q):q},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if(j(e),b.matchesSelector&&H&&!U[n+" "]&&(!P||!P.test(n))&&(!O||!O.test(n)))try{var r=R.call(e,n);if(r||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){U(n,!0)}return t(n,q,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!=q&&j(e),M(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!=q&&j(e);var n=w.attrHandle[t.toLowerCase()],r=n&&V.call(w.attrHandle,t.toLowerCase())?n(e,t,!H):void 0;return void 0!==r?r:b.attributes||!H?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(we,Te)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(D=!b.detectDuplicates,N=!b.sortStable&&e.slice(0),e.sort(X),D){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return N=null,e},T=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=T(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=T(t);return n},w=t.selectors={cacheLength:50,createPseudo:r,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,be),e[3]=(e[3]||e[4]||e[5]||"").replace(xe,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ce.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=$[e+" "];return t||(t=new RegExp("(^|"+te+")"+e+"("+te+"|$)"))&&$(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(oe," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==a?"nextSibling":"previousSibling",v=t.parentNode,y=s&&t.nodeName.toLowerCase(),m=!u&&!s,x=!1;if(v){if(o){for(;g;){for(p=t;p=p[g];)if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?v.firstChild:v.lastChild],a&&m){for(p=v,f=p[I]||(p[I]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),l=c[e]||[],d=l[0]===F&&l[1],x=d&&l[2],p=d&&v.childNodes[d];p=++d&&p&&p[g]||(x=d=0)||h.pop();)if(1===p.nodeType&&++x&&p===t){c[e]=[F,d,x];break}}else if(m&&(p=t,f=p[I]||(p[I]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),l=c[e]||[],d=l[0]===F&&l[1],x=d),!1===x)for(;(p=++d&&p&&p[g]||(x=d=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++x||(m&&(f=p[I]||(p[I]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),c[e]=[F,x]),p!==t)););return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(e,n){
var i,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[I]?o(n):o.length>1?(i=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=Z(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=S(e.replace(ae,"$1"));return i[I]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(xe,be),function(t){return(t.textContent||T(t)).indexOf(e)>-1}}),lang:r(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xe,be).toLowerCase(),function(t){var n;do{if(n=H?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===q.activeElement&&(!q.hasFocus||q.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},w.pseudos.nth=w.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[x]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(x);for(x in{submit:!0,reset:!0})w.pseudos[x]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(x);return c.prototype=w.filters=w.pseudos,w.setFilters=new c,E=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=_[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=w.preFilter;s;){r&&!(i=se.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ue.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ae," ")}),s=s.slice(r.length));for(a in w.filter)!(i=pe[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):_(e,u).slice(0)},S=t.compile=function(e,t){var n,r=[],i=[],o=z[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=y(t[n]),o[I]?r.push(o):i.push(o);o=z(e,m(i,r)),o.selector=e}return o},k=t.select=function(e,t,n,r){var i,o,a,s,u,c="function"==typeof e&&e,p=!r&&E(e=c.selector||e);if(n=n||[],1===p.length){if(o=p[0]=p[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&H&&w.relative[o[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(xe,be),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=pe.needsContext.test(e)?0:o.length;i--&&(a=o[i],!w.relative[s=a.type]);)if((u=w.find[s])&&(r=u(a.matches[0].replace(xe,be),me.test(o[0].type)&&l(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&f(o)))return J.apply(n,r),n;break}}return(c||S(e,p))(r,t,!H,n,!t||me.test(e)&&l(t.parentNode)||t),n},b.sortStable=I.split("").sort(X).join("")===I,b.detectDuplicates=!!D,j(),b.sortDetached=i(function(e){return 1&e.compareDocumentPosition(q.createElement("fieldset"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(ee,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);Ce.find=Ee,Ce.expr=Ee.selectors,Ce.expr[":"]=Ce.expr.pseudos,Ce.uniqueSort=Ce.unique=Ee.uniqueSort,Ce.text=Ee.getText,Ce.isXMLDoc=Ee.isXML,Ce.contains=Ee.contains,Ce.escapeSelector=Ee.escape;var Se=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Ce(e).is(n))break;r.push(e)}return r},ke=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Ae=Ce.expr.match.needsContext,Ne=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Ce.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Ce.find.matchesSelector(r,e)?[r]:[]:Ce.find.matches(e,Ce.grep(t,function(e){return 1===e.nodeType}))},Ce.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(Ce(e).filter(function(){for(t=0;t<r;t++)if(Ce.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)Ce.find(e,i[t],n);return r>1?Ce.uniqueSort(n):n},filter:function(e){return this.pushStack(a(this,e||[],!1))},not:function(e){return this.pushStack(a(this,e||[],!0))},is:function(e){return!!a(this,"string"==typeof e&&Ae.test(e)?Ce(e):e||[],!1).length}});var De,je=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(Ce.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||De,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:je.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof Ce?t[0]:t,Ce.merge(this,Ce.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:we,!0)),Ne.test(r[1])&&Ce.isPlainObject(t))for(r in t)xe(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=we.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):xe(e)?void 0!==n.ready?n.ready(e):e(Ce):Ce.makeArray(e,this)}).prototype=Ce.fn,De=Ce(we);var qe=/^(?:parents|prev(?:Until|All))/,Le={children:!0,contents:!0,next:!0,prev:!0};Ce.fn.extend({has:function(e){var t=Ce(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(Ce.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&Ce(e);if(!Ae.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Ce.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?Ce.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?pe.call(Ce(e),this[0]):pe.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Ce.uniqueSort(Ce.merge(this.get(),Ce(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Ce.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Se(e,"parentNode")},parentsUntil:function(e,t,n){return Se(e,"parentNode",n)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return Se(e,"nextSibling")},prevAll:function(e){return Se(e,"previousSibling")},nextUntil:function(e,t,n){return Se(e,"nextSibling",n)},prevUntil:function(e,t,n){return Se(e,"previousSibling",n)},siblings:function(e){return ke((e.parentNode||{}).firstChild,e)},children:function(e){return ke(e.firstChild)},contents:function(e){return null!=e.contentDocument&&ue(e.contentDocument)?e.contentDocument:(o(e,"template")&&(e=e.content||e),Ce.merge([],e.childNodes))}},function(e,t){Ce.fn[e]=function(n,r){var i=Ce.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Ce.filter(r,i)),this.length>1&&(Le[e]||Ce.uniqueSort(i),qe.test(e)&&i.reverse()),this.pushStack(i)}});var He=/[^\x20\t\r\n\f]+/g;Ce.Callbacks=function(e){e="string"==typeof e?u(e):Ce.extend({},e);var t,n,i,o,a=[],s=[],l=-1,c=function(){for(o=o||e.once,i=t=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)!1===a[l].apply(n[0],n[1])&&e.stopOnFalse&&(l=a.length,n=!1);e.memory||(n=!1),t=!1,o&&(a=n?[]:"")},f={add:function(){return a&&(n&&!t&&(l=a.length-1,s.push(n)),function t(n){Ce.each(n,function(n,i){xe(i)?e.unique&&f.has(i)||a.push(i):i&&i.length&&"string"!==r(i)&&t(i)})}(arguments),n&&!t&&c()),this},remove:function(){return Ce.each(arguments,function(e,t){for(var n;(n=Ce.inArray(t,a,n))>-1;)a.splice(n,1),n<=l&&l--}),this},has:function(e){return e?Ce.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return o=s=[],n||t||(a=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!i}};return f},Ce.extend({Deferred:function(t){var n=[["notify","progress",Ce.Callbacks("memory"),Ce.Callbacks("memory"),2],["resolve","done",Ce.Callbacks("once memory"),Ce.Callbacks("once memory"),0,"resolved"],["reject","fail",Ce.Callbacks("once memory"),Ce.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return Ce.Deferred(function(t){Ce.each(n,function(n,r){var i=xe(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&xe(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){function o(t,n,r,i){return function(){var s=this,u=arguments,f=function(){var e,f;if(!(t<a)){if((e=r.apply(s,u))===n.promise())throw new TypeError("Thenable self-resolution");f=e&&("object"==typeof e||"function"==typeof e)&&e.then,xe(f)?i?f.call(e,o(a,n,l,i),o(a,n,c,i)):(a++,f.call(e,o(a,n,l,i),o(a,n,c,i),o(a,n,l,n.notifyWith))):(r!==l&&(s=void 0,u=[e]),(i||n.resolveWith)(s,u))}},p=i?f:function(){try{f()}catch(e){Ce.Deferred.exceptionHook&&Ce.Deferred.exceptionHook(e,p.stackTrace),t+1>=a&&(r!==c&&(s=void 0,u=[e]),n.rejectWith(s,u))}};t?p():(Ce.Deferred.getStackHook&&(p.stackTrace=Ce.Deferred.getStackHook()),e.setTimeout(p))}}var a=0;return Ce.Deferred(function(e){n[0][3].add(o(0,e,xe(i)?i:l,e.notifyWith)),n[1][3].add(o(0,e,xe(t)?t:l)),n[2][3].add(o(0,e,xe(r)?r:c))}).promise()},promise:function(e){return null!=e?Ce.extend(e,i):i}},o={};return Ce.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=le.call(arguments),o=Ce.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?le.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(f(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||xe(i[n]&&i[n].then)))return o.then();for(;n--;)f(i[n],a(n),o.reject);return o.promise()}});var Oe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Ce.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Oe.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},Ce.readyException=function(t){e.setTimeout(function(){throw t})};var Pe=Ce.Deferred();Ce.fn.ready=function(e){return Pe.then(e).catch(function(e){Ce.readyException(e)}),this},Ce.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--Ce.readyWait:Ce.isReady)||(Ce.isReady=!0,!0!==e&&--Ce.readyWait>0||Pe.resolveWith(we,[Ce]))}}),Ce.ready.then=Pe.then,"complete"===we.readyState||"loading"!==we.readyState&&!we.documentElement.doScroll?e.setTimeout(Ce.ready):(we.addEventListener("DOMContentLoaded",p),e.addEventListener("load",p));var Re=function(e,t,n,i,o,a,s){var u=0,l=e.length,c=null==n;if("object"===r(n)){o=!0;for(u in n)Re(e,t,u,n[u],!0,a,s)}else if(void 0!==i&&(o=!0,xe(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(Ce(e),n)})),t))for(;u<l;u++)t(e[u],n,s?i:i.call(e[u],u,t(e[u],n)));return o?e:c?t.call(e):l?t(e[0],n):a},Me=/^-ms-/,Ie=/-([a-z])/g,We=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};g.uid=1,g.prototype={cache:function(e){var t=e[this.expando];return t||(t={},We(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[h(t)]=n;else for(r in t)i[h(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][h(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){Array.isArray(t)?t=t.map(h):(t=h(t),t=t in r?[t]:t.match(He)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||Ce.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!Ce.isEmptyObject(t)}};var Fe=new g,Be=new g,$e=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_e=/[A-Z]/g;Ce.extend({hasData:function(e){return Be.hasData(e)||Fe.hasData(e)},data:function(e,t,n){return Be.access(e,t,n)},removeData:function(e,t){Be.remove(e,t)},_data:function(e,t,n){return Fe.access(e,t,n)},_removeData:function(e,t){Fe.remove(e,t)}}),Ce.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=Be.get(o),1===o.nodeType&&!Fe.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=h(r.slice(5)),y(o,r,i[r])));Fe.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Be.set(this,e)}):Re(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=Be.get(o,e)))return n;if(void 0!==(n=y(o,e)))return n}else this.each(function(){Be.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Be.remove(this,e)})}}),Ce.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Fe.get(e,t),n&&(!r||Array.isArray(n)?r=Fe.access(e,t,Ce.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=Ce.queue(e,t),r=n.length,i=n.shift(),o=Ce._queueHooks(e,t),a=function(){Ce.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Fe.get(e,n)||Fe.access(e,n,{empty:Ce.Callbacks("once memory").add(function(){Fe.remove(e,[t+"queue",n])})})}}),Ce.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Ce.queue(this[0],e):void 0===t?this:this.each(function(){var n=Ce.queue(this,e,t);Ce._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Ce.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Ce.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=Ce.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Fe.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ze=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ue=new RegExp("^(?:([+-])=|)("+ze+")([a-z%]*)$","i"),Xe=["Top","Right","Bottom","Left"],Ve=we.documentElement,Ge=function(e){return Ce.contains(e.ownerDocument,e)},Ye={composed:!0};Ve.getRootNode&&(Ge=function(e){return Ce.contains(e.ownerDocument,e)||e.getRootNode(Ye)===e.ownerDocument});var Qe=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&Ge(e)&&"none"===Ce.css(e,"display")},Je={};Ce.fn.extend({show:function(){return b(this,!0)},hide:function(){return b(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Qe(this)?Ce(this).show():Ce(this).hide()})}});var Ke=/^(?:checkbox|radio)$/i,Ze=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,et=/^$|^module$|\/(?:java|ecma)script/i;!function(){var e=we.createDocumentFragment(),t=e.appendChild(we.createElement("div")),n=we.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),me.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",me.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,t.innerHTML="<option></option>",me.option=!!t.lastChild}();var tt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};tt.tbody=tt.tfoot=tt.colgroup=tt.caption=tt.thead,tt.th=tt.td,me.option||(tt.optgroup=tt.option=[1,"<select multiple='multiple'>","</select>"]);var nt=/<|&#?\w+;/,rt=/^key/,it=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ot=/^([^.]*)(?:\.(.+)|)/;Ce.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Fe.get(e);if(We(e))for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&Ce.find.matchesSelector(Ve,i),n.guid||(n.guid=Ce.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(t){return void 0!==Ce&&Ce.event.triggered!==t.type?Ce.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(He)||[""],l=t.length;l--;)s=ot.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d&&(f=Ce.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=Ce.event.special[d]||{},c=Ce.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Ce.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||(p=u[d]=[],p.delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),Ce.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Fe.hasData(e)&&Fe.get(e);if(v&&(u=v.events)){for(t=(t||"").match(He)||[""],l=t.length;l--;)if(s=ot.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){for(f=Ce.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=u[d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||Ce.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)Ce.event.remove(e,d+t[l],n,r,!0);Ce.isEmptyObject(u)&&Fe.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=Ce.event.fix(e),l=(Fe.get(this,"events")||Object.create(null))[u.type]||[],c=Ce.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){for(a=Ce.event.handlers.call(this,u,l),t=0;(i=a[t++])&&!u.isPropagationStopped();)for(u.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((Ce.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)r=t[n],i=r.selector+" ",void 0===a[i]&&(a[i]=r.needsContext?Ce(i,this).index(l)>-1:Ce.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(Ce.Event.prototype,e,{enumerable:!0,configurable:!0,get:xe(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[Ce.expando]?e:new Ce.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Ke.test(t.type)&&t.click&&o(t,"input")&&D(t,"click",E),!1},trigger:function(e){var t=this||e;return Ke.test(t.type)&&t.click&&o(t,"input")&&D(t,"click"),!0},_default:function(e){var t=e.target;return Ke.test(t.type)&&t.click&&o(t,"input")&&Fe.get(t,"click")||o(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},Ce.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},Ce.Event=function(e,t){if(!(this instanceof Ce.Event))return new Ce.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?E:S,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&Ce.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[Ce.expando]=!0},Ce.Event.prototype={constructor:Ce.Event,isDefaultPrevented:S,isPropagationStopped:S,isImmediatePropagationStopped:S,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=E,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=E,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=E,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},Ce.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&rt.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&it.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},Ce.event.addProp),Ce.each({focus:"focusin",blur:"focusout"},function(e,t){Ce.event.special[e]={setup:function(){return D(this,e,k),!1},trigger:function(){return D(this,e),!0},delegateType:t}}),Ce.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Ce.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||Ce.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),Ce.fn.extend({on:function(e,t,n,r){return N(this,e,t,n,r)},one:function(e,t,n,r){return N(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Ce(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=S),this.each(function(){Ce.event.remove(this,e,n,t)})}});var at=/<script|<style|<link/i,st=/checked\s*(?:[^=]|=\s*.checked.)/i,ut=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;Ce.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=Ge(e);if(!(me.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Ce.isXMLDoc(e)))for(a=w(s),o=w(e),r=0,i=o.length;r<i;r++)O(o[r],a[r]);if(t)if(n)for(o=o||w(e),a=a||w(s),r=0,i=o.length;r<i;r++)H(o[r],a[r]);else H(e,s);return a=w(s,"script"),a.length>0&&T(a,!u&&w(e,"script")),s},cleanData:function(e){for(var t,n,r,i=Ce.event.special,o=0;void 0!==(n=e[o]);o++)if(We(n)){if(t=n[Fe.expando]){if(t.events)for(r in t.events)i[r]?Ce.event.remove(n,r):Ce.removeEvent(n,r,t.handle);n[Fe.expando]=void 0}n[Be.expando]&&(n[Be.expando]=void 0)}}}),Ce.fn.extend({detach:function(e){return R(this,e,!0)},remove:function(e){return R(this,e)},text:function(e){return Re(this,function(e){return void 0===e?Ce.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return P(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){j(this,e).appendChild(e)}})},prepend:function(){return P(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=j(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return P(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return P(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Ce.cleanData(w(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Ce.clone(this,e,t)})},html:function(e){return Re(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!at.test(e)&&!tt[(Ze.exec(e)||["",""])[1].toLowerCase()]){e=Ce.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(Ce.cleanData(w(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return P(this,arguments,function(t){var n=this.parentNode;Ce.inArray(this,e)<0&&(Ce.cleanData(w(this)),n&&n.replaceChild(t,this))},e)}}),Ce.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Ce.fn[e]=function(e){for(var n,r=[],i=Ce(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),Ce(i[a])[t](n),fe.apply(r,n.get());return this.pushStack(r)}});var lt=new RegExp("^("+ze+")(?!px)[a-z%]+$","i"),ct=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},ft=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=o[i];return r},pt=new RegExp(Xe.join("|"),"i");!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ve.appendChild(l).appendChild(c);var t=e.getComputedStyle(c);r="1%"!==t.top,u=12===n(t.marginLeft),c.style.right="60%",a=36===n(t.right),i=36===n(t.width),c.style.position="absolute",o=12===n(c.offsetWidth/3),Ve.removeChild(l),c=null}}function n(e){return Math.round(parseFloat(e))}var r,i,o,a,s,u,l=we.createElement("div"),c=we.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",me.clearCloneStyle="content-box"===c.style.backgroundClip,Ce.extend(me,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,n,r,i;return null==s&&(t=we.createElement("table"),n=we.createElement("tr"),r=we.createElement("div"),t.style.cssText="position:absolute;left:-11111px",n.style.height="1px",r.style.height="9px",Ve.appendChild(t).appendChild(n).appendChild(r),i=e.getComputedStyle(n),s=parseInt(i.height)>3,Ve.removeChild(t)),s}}))}();var dt=["Webkit","Moz","ms"],ht=we.createElement("div").style,gt={},vt=/^(none|table(?!-c[ea]).+)/,yt=/^--/,mt={position:"absolute",visibility:"hidden",display:"block"},xt={letterSpacing:"0",fontWeight:"400"};Ce.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=M(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=h(t),u=yt.test(t),l=e.style;if(u||(t=F(s)),a=Ce.cssHooks[t]||Ce.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];o=typeof n,"string"===o&&(i=Ue.exec(n))&&i[1]&&(n=m(e,t,i),o="number"),null!=n&&n===n&&("number"!==o||u||(n+=i&&i[3]||(Ce.cssNumber[s]?"":"px")),me.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=h(t);return yt.test(t)||(t=F(s)),a=Ce.cssHooks[t]||Ce.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=M(e,t,r)),"normal"===i&&t in xt&&(i=xt[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),Ce.each(["height","width"],function(e,t){Ce.cssHooks[t]={get:function(e,n,r){if(n)return!vt.test(Ce.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?_(e,t,r):ft(e,mt,function(){return _(e,t,r)})},set:function(e,n,r){var i,o=ct(e),a=!me.scrollboxSize()&&"absolute"===o.position,s=a||r,u=s&&"border-box"===Ce.css(e,"boxSizing",!1,o),l=r?$(e,t,r,u,o):0;return u&&a&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-$(e,t,"border",!1,o)-.5)),l&&(i=Ue.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=Ce.css(e,t)),B(e,n,l)}}}),Ce.cssHooks.marginLeft=I(me.reliableMarginLeft,function(e,t){if(t)return(parseFloat(M(e,"marginLeft"))||e.getBoundingClientRect().left-ft(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),Ce.each({margin:"",padding:"",border:"Width"},function(e,t){Ce.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Xe[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(Ce.cssHooks[e+t].set=B)}),Ce.fn.extend({css:function(e,t){return Re(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=ct(e),i=t.length;a<i;a++)o[t[a]]=Ce.css(e,t[a],!1,r);return o}return void 0!==n?Ce.style(e,t,n):Ce.css(e,t)},e,t,arguments.length>1)}}),Ce.Tween=z,z.prototype={constructor:z,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||Ce.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Ce.cssNumber[n]?"":"px")},cur:function(){var e=z.propHooks[this.prop];return e&&e.get?e.get(this):z.propHooks._default.get(this)},run:function(e){var t,n=z.propHooks[this.prop];return this.options.duration?this.pos=t=Ce.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):z.propHooks._default.set(this),this}},z.prototype.init.prototype=z.prototype,z.propHooks={_default:{get:function(e){var t
;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=Ce.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){Ce.fx.step[e.prop]?Ce.fx.step[e.prop](e):1!==e.elem.nodeType||!Ce.cssHooks[e.prop]&&null==e.elem.style[F(e.prop)]?e.elem[e.prop]=e.now:Ce.style(e.elem,e.prop,e.now+e.unit)}}},z.propHooks.scrollTop=z.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Ce.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},Ce.fx=z.prototype.init,Ce.fx.step={};var bt,wt,Tt=/^(?:toggle|show|hide)$/,Ct=/queueHooks$/;Ce.Animation=Ce.extend(J,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return m(n.elem,e,Ue.exec(t),n),n}]},tweener:function(e,t){xe(e)?(t=e,e=["*"]):e=e.match(He);for(var n,r=0,i=e.length;r<i;r++)n=e[r],J.tweeners[n]=J.tweeners[n]||[],J.tweeners[n].unshift(t)},prefilters:[Y],prefilter:function(e,t){t?J.prefilters.unshift(e):J.prefilters.push(e)}}),Ce.speed=function(e,t,n){var r=e&&"object"==typeof e?Ce.extend({},e):{complete:n||!n&&t||xe(e)&&e,duration:e,easing:n&&t||t&&!xe(t)&&t};return Ce.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in Ce.fx.speeds?r.duration=Ce.fx.speeds[r.duration]:r.duration=Ce.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){xe(r.old)&&r.old.call(this),r.queue&&Ce.dequeue(this,r.queue)},r},Ce.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Qe).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Ce.isEmptyObject(e),o=Ce.speed(t,n,r),a=function(){var t=J(this,Ce.extend({},e),o);(i||Fe.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=Ce.timers,a=Fe.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&Ct.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||Ce.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Fe.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=Ce.timers,a=r?r.length:0;for(n.finish=!0,Ce.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Ce.each(["toggle","show","hide"],function(e,t){var n=Ce.fn[t];Ce.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(V(t,!0),e,r,i)}}),Ce.each({slideDown:V("show"),slideUp:V("hide"),slideToggle:V("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Ce.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Ce.timers=[],Ce.fx.tick=function(){var e,t=0,n=Ce.timers;for(bt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||Ce.fx.stop(),bt=void 0},Ce.fx.timer=function(e){Ce.timers.push(e),Ce.fx.start()},Ce.fx.interval=13,Ce.fx.start=function(){wt||(wt=!0,U())},Ce.fx.stop=function(){wt=null},Ce.fx.speeds={slow:600,fast:200,_default:400},Ce.fn.delay=function(t,n){return t=Ce.fx?Ce.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=we.createElement("input"),t=we.createElement("select"),n=t.appendChild(we.createElement("option"));e.type="checkbox",me.checkOn=""!==e.value,me.optSelected=n.selected,e=we.createElement("input"),e.value="t",e.type="radio",me.radioValue="t"===e.value}();var Et,St=Ce.expr.attrHandle;Ce.fn.extend({attr:function(e,t){return Re(this,Ce.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Ce.removeAttr(this,e)})}}),Ce.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?Ce.prop(e,t,n):(1===o&&Ce.isXMLDoc(e)||(i=Ce.attrHooks[t.toLowerCase()]||(Ce.expr.match.bool.test(t)?Et:void 0)),void 0!==n?null===n?void Ce.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=Ce.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!me.radioValue&&"radio"===t&&o(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(He);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),Et={set:function(e,t,n){return!1===t?Ce.removeAttr(e,n):e.setAttribute(n,n),n}},Ce.each(Ce.expr.match.bool.source.match(/\w+/g),function(e,t){var n=St[t]||Ce.find.attr;St[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=St[a],St[a]=i,i=null!=n(e,t,r)?a:null,St[a]=o),i}});var kt=/^(?:input|select|textarea|button)$/i,At=/^(?:a|area)$/i;Ce.fn.extend({prop:function(e,t){return Re(this,Ce.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Ce.propFix[e]||e]})}}),Ce.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&Ce.isXMLDoc(e)||(t=Ce.propFix[t]||t,i=Ce.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=Ce.find.attr(e,"tabindex");return t?parseInt(t,10):kt.test(e.nodeName)||At.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),me.optSelected||(Ce.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),Ce.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Ce.propFix[this.toLowerCase()]=this}),Ce.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(xe(e))return this.each(function(t){Ce(this).addClass(e.call(this,t,Z(this)))});if(t=ee(e),t.length)for(;n=this[u++];)if(i=Z(n),r=1===n.nodeType&&" "+K(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=K(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(xe(e))return this.each(function(t){Ce(this).removeClass(e.call(this,t,Z(this)))});if(!arguments.length)return this.attr("class","");if(t=ee(e),t.length)for(;n=this[u++];)if(i=Z(n),r=1===n.nodeType&&" "+K(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=K(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):xe(e)?this.each(function(n){Ce(this).toggleClass(e.call(this,n,Z(this),t),t)}):this.each(function(){var t,i,o,a;if(r)for(i=0,o=Ce(this),a=ee(e);t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||(t=Z(this),t&&Fe.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Fe.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+K(Z(n))+" ").indexOf(t)>-1)return!0;return!1}});var Nt=/\r/g;Ce.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=xe(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,Ce(this).val()):e,null==i?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=Ce.map(i,function(e){return null==e?"":e+""})),(t=Ce.valHooks[this.type]||Ce.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=Ce.valHooks[i.type]||Ce.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(Nt,""):null==n?"":n)}}}),Ce.extend({valHooks:{option:{get:function(e){var t=Ce.find.attr(e,"value");return null!=t?t:K(Ce.text(e))}},select:{get:function(e){var t,n,r,i=e.options,a=e.selectedIndex,s="select-one"===e.type,u=s?null:[],l=s?a+1:i.length;for(r=a<0?l:s?a:0;r<l;r++)if(n=i[r],(n.selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!o(n.parentNode,"optgroup"))){if(t=Ce(n).val(),s)return t;u.push(t)}return u},set:function(e,t){for(var n,r,i=e.options,o=Ce.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=Ce.inArray(Ce.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),Ce.each(["radio","checkbox"],function(){Ce.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=Ce.inArray(Ce(e).val(),t)>-1}},me.checkOn||(Ce.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),me.focusin="onfocusin"in e;var Dt=/^(?:focusinfocus|focusoutblur)$/,jt=function(e){e.stopPropagation()};Ce.extend(Ce.event,{trigger:function(t,n,r,i){var o,a,s,u,l,c,f,p,d=[r||we],h=ge.call(t,"type")?t.type:t,g=ge.call(t,"namespace")?t.namespace.split("."):[];if(a=p=s=r=r||we,3!==r.nodeType&&8!==r.nodeType&&!Dt.test(h+Ce.event.triggered)&&(h.indexOf(".")>-1&&(g=h.split("."),h=g.shift(),g.sort()),l=h.indexOf(":")<0&&"on"+h,t=t[Ce.expando]?t:new Ce.Event(h,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=g.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:Ce.makeArray(n,[t]),f=Ce.event.special[h]||{},i||!f.trigger||!1!==f.trigger.apply(r,n))){if(!i&&!f.noBubble&&!be(r)){for(u=f.delegateType||h,Dt.test(u+h)||(a=a.parentNode);a;a=a.parentNode)d.push(a),s=a;s===(r.ownerDocument||we)&&d.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=d[o++])&&!t.isPropagationStopped();)p=a,t.type=o>1?u:f.bindType||h,c=(Fe.get(a,"events")||Object.create(null))[t.type]&&Fe.get(a,"handle"),c&&c.apply(a,n),(c=l&&a[l])&&c.apply&&We(a)&&(t.result=c.apply(a,n),!1===t.result&&t.preventDefault());return t.type=h,i||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(d.pop(),n)||!We(r)||l&&xe(r[h])&&!be(r)&&(s=r[l],s&&(r[l]=null),Ce.event.triggered=h,t.isPropagationStopped()&&p.addEventListener(h,jt),r[h](),t.isPropagationStopped()&&p.removeEventListener(h,jt),Ce.event.triggered=void 0,s&&(r[l]=s)),t.result}},simulate:function(e,t,n){var r=Ce.extend(new Ce.Event,n,{type:e,isSimulated:!0});Ce.event.trigger(r,null,t)}}),Ce.fn.extend({trigger:function(e,t){return this.each(function(){Ce.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return Ce.event.trigger(e,t,n,!0)}}),me.focusin||Ce.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Ce.event.simulate(t,e.target,Ce.event.fix(e))};Ce.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=Fe.access(r,t);i||r.addEventListener(e,n,!0),Fe.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=Fe.access(r,t)-1;i?Fe.access(r,t,i):(r.removeEventListener(e,n,!0),Fe.remove(r,t))}}});var qt=e.location,Lt={guid:Date.now()},Ht=/\?/;Ce.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||Ce.error("Invalid XML: "+t),n};var Ot=/\[\]$/,Pt=/\r?\n/g,Rt=/^(?:submit|button|image|reset|file)$/i,Mt=/^(?:input|select|textarea|keygen)/i;Ce.param=function(e,t){var n,r=[],i=function(e,t){var n=xe(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!Ce.isPlainObject(e))Ce.each(e,function(){i(this.name,this.value)});else for(n in e)te(n,e[n],t,i);return r.join("&")},Ce.fn.extend({serialize:function(){return Ce.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Ce.prop(this,"elements");return e?Ce.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Ce(this).is(":disabled")&&Mt.test(this.nodeName)&&!Rt.test(e)&&(this.checked||!Ke.test(e))}).map(function(e,t){var n=Ce(this).val();return null==n?null:Array.isArray(n)?Ce.map(n,function(e){return{name:t.name,value:e.replace(Pt,"\r\n")}}):{name:t.name,value:n.replace(Pt,"\r\n")}}).get()}});var It=/%20/g,Wt=/#.*$/,Ft=/([?&])_=[^&]*/,Bt=/^(.*?):[ \t]*([^\r\n]*)$/gm,$t=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,_t=/^(?:GET|HEAD)$/,zt=/^\/\//,Ut={},Xt={},Vt="*/".concat("*"),Gt=we.createElement("a");Gt.href=qt.href,Ce.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:qt.href,type:"GET",isLocal:$t.test(qt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Ce.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ie(ie(e,Ce.ajaxSettings),t):ie(Ce.ajaxSettings,e)},ajaxPrefilter:ne(Ut),ajaxTransport:ne(Xt),ajax:function(t,n){function r(t,n,r,s){var l,p,d,b,w,T=n;c||(c=!0,u&&e.clearTimeout(u),i=void 0,a=s||"",C.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(b=oe(h,C,r)),!l&&Ce.inArray("script",h.dataTypes)>-1&&(h.converters["text script"]=function(){}),b=ae(h,b,C,l),l?(h.ifModified&&(w=C.getResponseHeader("Last-Modified"),w&&(Ce.lastModified[o]=w),(w=C.getResponseHeader("etag"))&&(Ce.etag[o]=w)),204===t||"HEAD"===h.type?T="nocontent":304===t?T="notmodified":(T=b.state,p=b.data,d=b.error,l=!d)):(d=T,!t&&T||(T="error",t<0&&(t=0))),C.status=t,C.statusText=(n||T)+"",l?y.resolveWith(g,[p,T,C]):y.rejectWith(g,[C,T,d]),C.statusCode(x),x=void 0,f&&v.trigger(l?"ajaxSuccess":"ajaxError",[C,h,l?p:d]),m.fireWith(g,[C,T]),f&&(v.trigger("ajaxComplete",[C,h]),--Ce.active||Ce.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,l,c,f,p,d,h=Ce.ajaxSetup({},n),g=h.context||h,v=h.context&&(g.nodeType||g.jquery)?Ce(g):Ce.event,y=Ce.Deferred(),m=Ce.Callbacks("once memory"),x=h.statusCode||{},b={},w={},T="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Bt.exec(a);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)C.always(e[C.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||T;return i&&i.abort(t),r(0,t),this}};if(y.promise(C),h.url=((t||h.url||qt.href)+"").replace(zt,qt.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(He)||[""],null==h.crossDomain){l=we.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=Gt.protocol+"//"+Gt.host!=l.protocol+"//"+l.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Ce.param(h.data,h.traditional)),re(Ut,h,n,C),c)return C;f=Ce.event&&h.global,f&&0==Ce.active++&&Ce.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!_t.test(h.type),o=h.url.replace(Wt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(It,"+")):(d=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(Ht.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(Ft,"$1"),d=(Ht.test(o)?"&":"?")+"_="+Lt.guid+++d),h.url=o+d),h.ifModified&&(Ce.lastModified[o]&&C.setRequestHeader("If-Modified-Since",Ce.lastModified[o]),Ce.etag[o]&&C.setRequestHeader("If-None-Match",Ce.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&C.setRequestHeader("Content-Type",h.contentType),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Vt+"; q=0.01":""):h.accepts["*"]);for(p in h.headers)C.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(!1===h.beforeSend.call(g,C,h)||c))return C.abort();if(T="abort",m.add(h.complete),C.done(h.success),C.fail(h.error),i=re(Xt,h,n,C)){if(C.readyState=1,f&&v.trigger("ajaxSend",[C,h]),c)return C;h.async&&h.timeout>0&&(u=e.setTimeout(function(){C.abort("timeout")},h.timeout));try{c=!1,i.send(b,r)}catch(e){if(c)throw e;r(-1,e)}}else r(-1,"No Transport");return C},getJSON:function(e,t,n){return Ce.get(e,t,n,"json")},getScript:function(e,t){return Ce.get(e,void 0,t,"script")}}),Ce.each(["get","post"],function(e,t){Ce[t]=function(e,n,r,i){return xe(n)&&(i=i||r,r=n,n=void 0),Ce.ajax(Ce.extend({url:e,type:t,dataType:i,data:n,success:r},Ce.isPlainObject(e)&&e))}}),Ce.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),Ce._evalUrl=function(e,t,n){return Ce.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){Ce.globalEval(e,t,n)}})},Ce.fn.extend({wrapAll:function(e){var t;return this[0]&&(xe(e)&&(e=e.call(this[0])),t=Ce(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return xe(e)?this.each(function(t){Ce(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Ce(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=xe(e);return this.each(function(n){Ce(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){Ce(this).replaceWith(this.childNodes)}),this}}),Ce.expr.pseudos.hidden=function(e){return!Ce.expr.pseudos.visible(e)},Ce.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},Ce.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Yt={0:200,1223:204},Qt=Ce.ajaxSettings.xhr();me.cors=!!Qt&&"withCredentials"in Qt,me.ajax=Qt=!!Qt,Ce.ajaxTransport(function(t){var n,r;if(me.cors||Qt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Yt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),Ce.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),Ce.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return Ce.globalEval(e),e}}}),Ce.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Ce.ajaxTransport("script",function(e){if(e.crossDomain||e.scriptAttrs){var t,n;return{send:function(r,i){t=Ce("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),we.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Jt=[],Kt=/(=)\?(?=&|$)|\?\?/;Ce.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Jt.pop()||Ce.expando+"_"+Lt.guid++;return this[e]=!0,e}}),Ce.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Kt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=xe(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Kt,"$1"+i):!1!==t.jsonp&&(t.url+=(Ht.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||Ce.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?Ce(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Jt.push(i)),a&&xe(o)&&o(a[0]),a=o=void 0}),"script"}),me.createHTMLDocument=function(){var e=we.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),Ce.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,i,o;return t||(me.createHTMLDocument?(t=we.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=we.location.href,t.head.appendChild(r)):t=we),i=Ne.exec(e),o=!n&&[],i?[t.createElement(i[1])]:(i=C([e],t,o),o&&o.length&&Ce(o).remove(),Ce.merge([],i.childNodes))},Ce.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=K(e.slice(s)),e=e.slice(0,s)),xe(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&Ce.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?Ce("<div>").append(Ce.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},Ce.expr.pseudos.animated=function(e){return Ce.grep(Ce.timers,function(t){return e===t.elem}).length},Ce.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=Ce.css(e,"position"),f=Ce(e),p={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=Ce.css(e,"top"),u=Ce.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),xe(t)&&(t=t.call(e,n,Ce.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):("number"==typeof p.top&&(p.top+="px"),"number"==typeof p.left&&(p.left+="px"),f.css(p))}},Ce.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Ce.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===Ce.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===Ce.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&(i=Ce(e).offset(),i.top+=Ce.css(e,"borderTopWidth",!0),i.left+=Ce.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-Ce.css(r,"marginTop",!0),left:t.left-i.left-Ce.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===Ce.css(e,"position");)e=e.offsetParent;return e||Ve})}}),Ce.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;Ce.fn[e]=function(r){return Re(this,function(e,r,i){var o;if(be(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),Ce.each(["top","left"],function(e,t){Ce.cssHooks[t]=I(me.pixelPosition,function(e,n){if(n)return n=M(e,t),lt.test(n)?Ce(e).position()[t]+"px":n})}),Ce.each({Height:"height",Width:"width"},function(e,t){Ce.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Ce.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return Re(this,function(t,n,i){var o;return be(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?Ce.css(t,n,s):Ce.style(t,n,i,s)},t,a?i:void 0,a)}})}),Ce.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Ce.fn[t]=function(e){return this.on(t,e)}}),Ce.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Ce.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){Ce.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});var Zt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;Ce.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),xe(e))return r=le.call(arguments,2),i=function(){return e.apply(t||this,r.concat(le.call(arguments)))},i.guid=e.guid=e.guid||Ce.guid++,i},Ce.holdReady=function(e){e?Ce.readyWait++:Ce.ready(!0)},Ce.isArray=Array.isArray,Ce.parseJSON=JSON.parse,Ce.nodeName=o,Ce.isFunction=xe,Ce.isWindow=be,Ce.camelCase=h,Ce.type=r,Ce.now=Date.now,Ce.isNumeric=function(e){var t=Ce.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},Ce.trim=function(e){return null==e?"":(e+"").replace(Zt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return Ce});var en=e.jQuery,tn=e.$;return Ce.noConflict=function(t){return e.$===Ce&&(e.$=tn),t&&e.jQuery===Ce&&(e.jQuery=en),Ce},void 0===t&&(e.jQuery=e.$=Ce),Ce});
},{}],95:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_fact=require("./fact"),_fact2=_interopRequireDefault(_fact),_errors=require("./errors"),_debug=require("./debug"),_debug2=_interopRequireDefault(_debug),_selectn=require("selectn"),_selectn2=_interopRequireDefault(_selectn),_lodash=require("lodash.isobjectlike"),_lodash2=_interopRequireDefault(_lodash),Almanac=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.factMap=new Map(t),this.factResultsCache=new Map,this.allowUndefinedFacts=Boolean(n.allowUndefinedFacts);for(var o in a){var r=void 0;r=a[o]instanceof _fact2.default?a[o]:new _fact2.default(o,a[o]),this._addConstantFact(r),(0,_debug2.default)("almanac::constructor initialized runtime fact:"+r.id+" with "+r.value+"<"+_typeof(r.value)+">")}}return _createClass(e,[{key:"_getFact",value:function(e){return this.factMap.get(e)}},{key:"_addConstantFact",value:function(e){this.factMap.set(e.id,e),this._setFactValue(e,{},e.value)}},{key:"_setFactValue",value:function(e,t,a){var n=e.getCacheKey(t),o=Promise.resolve(a);return n&&this.factResultsCache.set(n,o),o}},{key:"addRuntimeFact",value:function(e,t){var a=new _fact2.default(e,t);return this._addConstantFact(a)}},{key:"factValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=void 0,o=this._getFact(e);if(void 0===o)return this.allowUndefinedFacts?Promise.resolve(void 0):Promise.reject(new _errors.UndefinedFactError("Undefined fact: "+e));if(o.isConstant())n=Promise.resolve(o.calculate(t,this));else{var r=o.getCacheKey(t),i=r&&this.factResultsCache.get(r);i?(n=Promise.resolve(i),(0,_debug2.default)("almanac::factValue cache hit for fact:"+e)):((0,_debug2.default)("almanac::factValue cache miss for fact:"+e+"; calculating"),n=this._setFactValue(o,t,o.calculate(t,this)))}return a?n.then(function(e){if((0,_lodash2.default)(e)){var t=(0,_selectn2.default)(a)(e);return(0,_debug2.default)("condition::evaluate extracting object property "+a+", received: "+t),t}return(0,_debug2.default)("condition::evaluate could not compute object path("+a+") of non-object: "+e+" <"+(void 0===e?"undefined":_typeof(e))+">; continuing with "+e),e}):n}}]),e}();exports.default=Almanac;
},{"./debug":97,"./errors":101,"./fact":102,"lodash.isobjectlike":108,"selectn":134}],96:[function(require,module,exports){
"use strict";function _interopRequireDefault(r){return r&&r.__esModule?r:{default:r}}function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function r(r,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,o.key,o)}}return function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e}}(),_debug=require("./debug"),_debug2=_interopRequireDefault(_debug),_lodash=require("lodash.isobjectlike"),_lodash2=_interopRequireDefault(_lodash),Condition=function(){function r(e){if(_classCallCheck(this,r),!e)throw new Error("Condition: constructor options required");var t=r.booleanOperator(e);if(Object.assign(this,e),t){var o=e[t];if(!Array.isArray(o))throw new Error('"'+t+'" must be an array');this.operator=t,this.priority=parseInt(e.priority,10)||1,this[t]=o.map(function(e){return new r(e)})}else{if(!e.hasOwnProperty("fact"))throw new Error('Condition: constructor "fact" property required');if(!e.hasOwnProperty("operator"))throw new Error('Condition: constructor "operator" property required');if(!e.hasOwnProperty("value"))throw new Error('Condition: constructor "value" property required');e.hasOwnProperty("priority")&&(e.priority=parseInt(e.priority,10))}}return _createClass(r,[{key:"toJSON",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};this.priority&&(t.priority=this.priority);var o=r.booleanOperator(this);return o?t[o]=this[o].map(function(r){return r.toJSON(e)}):(t.operator=this.operator,t.value=this.value,t.fact=this.fact,void 0!==this.factResult&&(t.factResult=this.factResult),void 0!==this.result&&(t.result=this.result),this.params&&(t.params=this.params),this.path&&(t.path=this.path)),e?JSON.stringify(t):t}},{key:"_getValue",value:function(r){var e=this.value;return(0,_lodash2.default)(e)&&e.hasOwnProperty("fact")?r.factValue(e.fact,e.params,e.path):Promise.resolve(e)}},{key:"evaluate",value:function(r,e){var t=this;if(!r)return Promise.reject(new Error("almanac required"));if(!e)return Promise.reject(new Error("operatorMap required"));if(this.isBooleanOperator())return Promise.reject(new Error("Cannot evaluate() a boolean condition"));var o=e.get(this.operator);return o?this._getValue(r).then(function(e){return r.factValue(t.fact,t.params,t.path).then(function(r){var a=o.evaluate(r,e);return(0,_debug2.default)("condition::evaluate <"+r+" "+t.operator+" "+e+"?> ("+a+")"),{result:a,leftHandSideValue:r,rightHandSideValue:e,operator:t.operator}})}):Promise.reject(new Error("Unknown operator: "+this.operator))}},{key:"booleanOperator",value:function(){return r.booleanOperator(this)}},{key:"isBooleanOperator",value:function(){return void 0!==r.booleanOperator(this)}}],[{key:"booleanOperator",value:function(r){return r.hasOwnProperty("any")?"any":r.hasOwnProperty("all")?"all":void 0}}]),r}();exports.default=Condition;
},{"./debug":97,"lodash.isobjectlike":108}],97:[function(require,module,exports){
(function (process){
"use strict";function debug(e){"undefined"!=typeof process&&process.env&&process.env.DEBUG&&process.env.DEBUG.match(/json-rules-engine/)&&console.log(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=debug;
}).call(this,require('_process'))

},{"_process":133}],98:[function(require,module,exports){
"use strict";function _interopRequireDefault(r){return r&&r.__esModule?r:{default:r}}function numberValidator(r){return"NaN"!==Number.parseFloat(r).toString()}Object.defineProperty(exports,"__esModule",{value:!0});var _operator=require("./operator"),_operator2=_interopRequireDefault(_operator),Operators=[];Operators.push(new _operator2.default("equal",function(r,e){return r===e})),Operators.push(new _operator2.default("notEqual",function(r,e){return r!==e})),Operators.push(new _operator2.default("in",function(r,e){return e.indexOf(r)>-1})),Operators.push(new _operator2.default("notIn",function(r,e){return-1===e.indexOf(r)})),Operators.push(new _operator2.default("contains",function(r,e){return r.indexOf(e)>-1},Array.isArray)),Operators.push(new _operator2.default("doesNotContain",function(r,e){return-1===r.indexOf(e)},Array.isArray)),Operators.push(new _operator2.default("lessThan",function(r,e){return r<e},numberValidator)),Operators.push(new _operator2.default("lessThanInclusive",function(r,e){return r<=e},numberValidator)),Operators.push(new _operator2.default("greaterThan",function(r,e){return r>e},numberValidator)),Operators.push(new _operator2.default("greaterThanInclusive",function(r,e){return r>=e},numberValidator)),exports.default=Operators;
},{"./operator":105}],99:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var SuccessEventFact=function(){var e=[];return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.event&&e.push(t.event),e}};exports.SuccessEventFact=SuccessEventFact;
},{}],100:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FINISHED=exports.RUNNING=exports.READY=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_fact=require("./fact"),_fact2=_interopRequireDefault(_fact),_rule=require("./rule"),_rule2=_interopRequireDefault(_rule),_operator=require("./operator"),_operator2=_interopRequireDefault(_operator),_almanac=require("./almanac"),_almanac2=_interopRequireDefault(_almanac),_events=require("events"),_engineFacts=require("./engine-facts"),_engineDefaultOperators=require("./engine-default-operators"),_engineDefaultOperators2=_interopRequireDefault(_engineDefaultOperators),_debug=require("./debug"),_debug2=_interopRequireDefault(_debug),READY=exports.READY="READY",RUNNING=exports.RUNNING="RUNNING",FINISHED=exports.FINISHED="FINISHED",Engine=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.rules=[],n.allowUndefinedFacts=r.allowUndefinedFacts||!1,n.operators=new Map,n.facts=new Map,n.status=READY,e.map(function(e){return n.addRule(e)}),_engineDefaultOperators2.default.map(function(e){return n.addOperator(e)}),n}return _inherits(t,e),_createClass(t,[{key:"addRule",value:function(e){if(!e)throw new Error("Engine: addRule() requires options");if(!e.hasOwnProperty("conditions"))throw new Error('Engine: addRule() argument requires "conditions" property');if(!e.hasOwnProperty("event"))throw new Error('Engine: addRule() argument requires "event" property');var t=void 0;return t=e instanceof _rule2.default?e:new _rule2.default(e),t.setEngine(this),this.rules.push(t),this.prioritizedRules=null,this}},{key:"removeRule",value:function(e){if(e instanceof _rule2.default==!1)throw new Error("Engine: removeRule() rule must be a instance of Rule");var t=this.rules.indexOf(e);return-1!==t&&(this.prioritizedRules=null,Boolean(this.rules.splice(t,1).length))}},{key:"addOperator",value:function(e,t){var r=void 0;r=e instanceof _operator2.default?e:new _operator2.default(e,t),(0,_debug2.default)("engine::addOperator name:"+r.name),this.operators.set(r.name,r)}},{key:"removeOperator",value:function(e){var t=void 0;return t=e instanceof _operator2.default?e.name:e,this.operators.delete(t)}},{key:"addFact",value:function(e,t,r){var n=e,u=void 0;return e instanceof _fact2.default?(n=e.id,u=e):u=new _fact2.default(e,t,r),(0,_debug2.default)("engine::addFact id:"+n),this.facts.set(n,u),this}},{key:"removeFact",value:function(e){var t=void 0;return t=e instanceof _fact2.default?e.id:e,this.facts.delete(t)}},{key:"prioritizeRules",value:function(){if(!this.prioritizedRules){var e=this.rules.reduce(function(e,t){var r=t.priority;return e[r]||(e[r]=[]),e[r].push(t),e},{});this.prioritizedRules=Object.keys(e).sort(function(e,t){return Number(e)>Number(t)?-1:1}).map(function(t){return e[t]})}return this.prioritizedRules}},{key:"stop",value:function(){return this.status=FINISHED,this}},{key:"getFact",value:function(e){return this.facts.get(e)}},{key:"evaluateRules",value:function(e,t){var r=this;return Promise.all(e.map(function(e){return r.status!==RUNNING?void(0,_debug2.default)("engine::run status:"+r.status+"; skipping remaining rules"):e.evaluate(t).then(function(n){(0,_debug2.default)("engine::run ruleResult:"+n.result),n.result?(r.emit("success",e.event,t,n),r.emit(e.event.type,e.event.params,t,n),t.factValue("success-events",{event:e.event})):r.emit("failure",e.event,t,n)})}))}},{key:"run",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,_debug2.default)("engine::run started"),(0,_debug2.default)("engine::run runtimeFacts:",t),t["success-events"]=new _fact2.default("success-events",(0,_engineFacts.SuccessEventFact)(),{cache:!1}),this.status=RUNNING;var r=new _almanac2.default(this.facts,t,{allowUndefinedFacts:this.allowUndefinedFacts}),n=this.prioritizeRules(),u=Promise.resolve();return new Promise(function(t,a){n.map(function(t){return u=u.then(function(){return e.evaluateRules(t,r)}).catch(a)}),u.then(function(){e.status=FINISHED,(0,_debug2.default)("engine::run completed"),t(r.factValue("success-events"))}).catch(a)})}}]),t}(_events.EventEmitter);exports.default=Engine;
},{"./almanac":95,"./debug":97,"./engine-default-operators":98,"./engine-facts":99,"./fact":102,"./operator":105,"./rule":107,"events":28}],101:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var UndefinedFactError=exports.UndefinedFactError=function(e){function t(){var e;_classCallCheck(this,t);for(var r=arguments.length,o=Array(r),n=0;n<r;n++)o[n]=arguments[n];var c=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o)));return c.code="UNDEFINED_FACT",c}return _inherits(t,e),t}(Error);
},{}],102:[function(require,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),_hashIt=require("hash-it"),_hashIt2=_interopRequireDefault(_hashIt),Fact=function(){function t(e,a,r){_classCallCheck(this,t),this.id=e;var i={cache:!0};if(void 0===r&&(r=i),"function"!=typeof a?(this.value=a,this.type=this.constructor.CONSTANT):(this.calculationMethod=a,this.type=this.constructor.DYNAMIC),!this.id)throw new Error("factId required");if(void 0===this.value&&void 0===this.calculationMethod)throw new Error("facts must have a value or method");return this.priority=parseInt(r.priority||1,10),this.options=Object.assign({},i,r),this.cacheKeyMethod=this.defaultCacheKeys,this}return _createClass(t,[{key:"isConstant",value:function(){return this.type===this.constructor.CONSTANT}},{key:"isDynamic",value:function(){return this.type===this.constructor.DYNAMIC}},{key:"calculate",value:function(t,e){return this.hasOwnProperty("value")?this.value:this.calculationMethod(t,e)}},{key:"defaultCacheKeys",value:function(t,e){return{params:e,id:t}}},{key:"getCacheKey",value:function(e){if(!0===this.options.cache){var a=this.cacheKeyMethod(this.id,e);return t.hashFromObject(a)}}}],[{key:"hashFromObject",value:function(t){return(0,_hashIt2.default)(t)}}]),t}();Fact.CONSTANT="CONSTANT",Fact.DYNAMIC="DYNAMIC",exports.default=Fact;
},{"hash-it":85}],103:[function(require,module,exports){
"use strict";module.exports=require("./json-rules-engine");
},{"./json-rules-engine":104}],104:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Engine=exports.Operator=exports.Rule=exports.Fact=void 0,exports.default=function(e,r){return new _engine2.default(e,r)};var _engine=require("./engine"),_engine2=_interopRequireDefault(_engine),_fact=require("./fact"),_fact2=_interopRequireDefault(_fact),_rule=require("./rule"),_rule2=_interopRequireDefault(_rule),_operator=require("./operator"),_operator2=_interopRequireDefault(_operator);exports.Fact=_fact2.default,exports.Rule=_rule2.default,exports.Operator=_operator2.default,exports.Engine=_engine2.default;
},{"./engine":100,"./fact":102,"./operator":105,"./rule":107}],105:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),Operator=function(){function e(t,r,a){if(_classCallCheck(this,e),this.name=String(t),!t)throw new Error("Missing operator name");if("function"!=typeof r)throw new Error("Missing operator callback");this.cb=r,this.factValueValidator=a,this.factValueValidator||(this.factValueValidator=function(){return!0})}return _createClass(e,[{key:"evaluate",value:function(e,t){return this.factValueValidator(e)&&this.cb(e,t)}}]),e}();exports.default=Operator;
},{}],106:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_clone=require("clone"),_clone2=_interopRequireDefault(_clone),RuleResult=function(){function e(t,n,r){_classCallCheck(this,e),this.conditions=(0,_clone2.default)(t),this.event=(0,_clone2.default)(n),this.priority=(0,_clone2.default)(r),this.result=null}return _createClass(e,[{key:"setResult",value:function(e){this.result=e}},{key:"toJSON",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={conditions:this.conditions.toJSON(!1),event:this.event,priority:this.priority,result:this.result};return e?JSON.stringify(t):t}}]),e}();exports.default=RuleResult;
},{"clone":29}],107:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_condition=require("./condition"),_condition2=_interopRequireDefault(_condition),_ruleResult=require("./rule-result"),_ruleResult2=_interopRequireDefault(_ruleResult),_events=require("events"),_debug=require("./debug"),_debug2=_interopRequireDefault(_debug),Rule=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));"string"==typeof e&&(e=JSON.parse(e)),e&&e.conditions&&n.setConditions(e.conditions),e&&e.onSuccess&&n.on("success",e.onSuccess),e&&e.onFailure&&n.on("failure",e.onFailure);var r=e&&e.priority||1;n.setPriority(r);var i=e&&e.event||{type:"unknown"};return n.setEvent(i),n}return _inherits(t,e),_createClass(t,[{key:"setPriority",value:function(e){if((e=parseInt(e,10))<=0)throw new Error("Priority must be greater than zero");return this.priority=e,this}},{key:"setConditions",value:function(e){if(!e.hasOwnProperty("all")&&!e.hasOwnProperty("any"))throw new Error('"conditions" root must contain a single instance of "all" or "any"');return this.conditions=new _condition2.default(e),this}},{key:"setEvent",value:function(e){if(!e)throw new Error("Rule: setEvent() requires event object");if(!e.hasOwnProperty("type"))throw new Error('Rule: setEvent() requires event object with "type" property');return this.event={type:e.type},e.params&&(this.event.params=e.params),this}},{key:"setEngine",value:function(e){return this.engine=e,this}},{key:"toJSON",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={conditions:this.conditions.toJSON(!1),priority:this.priority,event:this.event};return e?JSON.stringify(t):t}},{key:"prioritizeConditions",value:function(e){var t=this,n=e.reduce(function(e,n){var r=n.priority;if(!r){var i=t.engine.getFact(n.fact);r=i&&i.priority||1}return e[r]||(e[r]=[]),e[r].push(n),e},{});return Object.keys(n).sort(function(e,t){return Number(e)>Number(t)?-1:1}).map(function(e){return n[e]})}},{key:"evaluate",value:function(e){var t=this,n=new _ruleResult2.default(this.conditions,this.event,this.priority),r=function(n){if(n.isBooleanOperator()){var r=n[n.operator],i=void 0;return i="all"===n.operator?s(r):u(r),i.then(function(e){var t=!0===e;return n.result=t,t})}return n.evaluate(e,t.engine.operators).then(function(e){var t=e.result;return n.factResult=e.leftHandSideValue,n.result=t,t})},i=function(e,t){return Array.isArray(e)||(e=[e]),Promise.all(e.map(function(e){return r(e)})).then(function(e){return(0,_debug2.default)("rule::evaluateConditions results",e),t.call(e,function(e){return!0===e})})},o=function(e,n){if(0===e.length)return Promise.resolve(!0);var r=Array.prototype.some;"all"===n&&(r=Array.prototype.every);for(var o=t.prioritizeConditions(e),u=Promise.resolve(),s=0;s<o.length;s++)!function(e){var t=o[e],s=!1;u=u.then(function(e){return"any"===n&&!0===e||s?((0,_debug2.default)("prioritizeAndRun::detected truthy result; skipping remaining conditions"),s=!0,!0):"all"===n&&!1===e||s?((0,_debug2.default)("prioritizeAndRun::detected falsey result; skipping remaining conditions"),s=!0,!1):i(t,r)})}(s);return u},u=function(e){return o(e,"any")},s=function(e){return o(e,"all")},a=function(r){return n.setResult(r),r?t.emit("success",n.event,e,n):t.emit("failure",n.event,e,n),n};return n.conditions.any?u(n.conditions.any).then(function(e){return a(e)}):s(n.conditions.all).then(function(e){return a(e)})}}]),t}(_events.EventEmitter);exports.default=Rule;
},{"./condition":96,"./debug":97,"./rule-result":106,"events":28}],108:[function(require,module,exports){
function isObjectLike(e){return!!e&&"object"==typeof e}module.exports=isObjectLike;
},{}],109:[function(require,module,exports){
(function (global){
(function(){function n(n,t,r){switch(r.length){case 0:return n.call(t);case 1:return n.call(t,r[0]);case 2:return n.call(t,r[0],r[1]);case 3:return n.call(t,r[0],r[1],r[2])}return n.apply(t,r)}function t(n,t,r,e){for(var u=-1,i=null==n?0:n.length;++u<i;){var o=n[u];t(e,o,r(o),n)}return e}function r(n,t){for(var r=-1,e=null==n?0:n.length;++r<e&&!1!==t(n[r],r,n););return n}function e(n,t){for(var r=null==n?0:n.length;r--&&!1!==t(n[r],r,n););return n}function u(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function i(n,t){for(var r=-1,e=null==n?0:n.length,u=0,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[u++]=o)}return i}function o(n,t){return!!(null==n?0:n.length)&&y(n,t,0)>-1}function f(n,t,r){for(var e=-1,u=null==n?0:n.length;++e<u;)if(r(t,n[e]))return!0;return!1}function c(n,t){for(var r=-1,e=null==n?0:n.length,u=Array(e);++r<e;)u[r]=t(n[r],r,n);return u}function a(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function l(n,t,r,e){var u=-1,i=null==n?0:n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);return r}function s(n,t,r,e){var u=null==n?0:n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function h(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function p(n){return n.split("")}function _(n){return n.match(Wt)||[]}function v(n,t,r){var e;return r(n,function(n,r,u){if(t(n,r,u))return e=r,!1}),e}function g(n,t,r,e){for(var u=n.length,i=r+(e?1:-1);e?i--:++i<u;)if(t(n[i],i,n))return i;return-1}function y(n,t,r){return t===t?q(n,t,r):g(n,b,r)}function d(n,t,r,e){for(var u=r-1,i=n.length;++u<i;)if(e(n[u],t))return u;return-1}function b(n){return n!==n}function w(n,t){var r=null==n?0:n.length;return r?k(n,t)/r:zn}function m(n){return function(t){return null==t?Y:t[n]}}function x(n){return function(t){return null==n?Y:n[t]}}function j(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function A(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}function k(n,t){for(var r,e=-1,u=n.length;++e<u;){var i=t(n[e]);i!==Y&&(r=r===Y?i:r+i)}return r}function O(n,t){for(var r=-1,e=Array(n);++r<n;)e[r]=t(r);return e}function I(n,t){return c(t,function(t){return[t,n[t]]})}function R(n){return function(t){return n(t)}}function z(n,t){return c(t,function(t){return n[t]})}function E(n,t){return n.has(t)}function S(n,t){for(var r=-1,e=n.length;++r<e&&y(t,n[r],0)>-1;);return r}function L(n,t){for(var r=n.length;r--&&y(t,n[r],0)>-1;);return r}function W(n,t){for(var r=n.length,e=0;r--;)n[r]===t&&++e;return e}function C(n){return"\\"+wr[n]}function U(n,t){return null==n?Y:n[t]}function B(n){return sr.test(n)}function T(n){return hr.test(n)}function $(n){for(var t,r=[];!(t=n.next()).done;)r.push(t.value);return r}function D(n){var t=-1,r=Array(n.size);return n.forEach(function(n,e){r[++t]=[e,n]}),r}function M(n,t){return function(r){return n(t(r))}}function F(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r];o!==t&&o!==en||(n[r]=en,i[u++]=r)}return i}function N(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=n}),r}function P(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=[n,n]}),r}function q(n,t,r){for(var e=r-1,u=n.length;++e<u;)if(n[e]===t)return e;return-1}function Z(n,t,r){for(var e=r+1;e--;)if(n[e]===t)return e;return e}function K(n){return B(n)?G(n):Tr(n)}function V(n){return B(n)?H(n):p(n)}function G(n){for(var t=ar.lastIndex=0;ar.test(n);)++t;return t}function H(n){return n.match(ar)||[]}function J(n){return n.match(lr)||[]}var Y,Q=200,X="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",nn="Expected a function",tn="__lodash_hash_undefined__",rn=500,en="__lodash_placeholder__",un=1,on=2,fn=4,cn=1,an=2,ln=1,sn=2,hn=4,pn=8,_n=16,vn=32,gn=64,yn=128,dn=256,bn=512,wn=30,mn="...",xn=800,jn=16,An=1,kn=2,On=1/0,In=9007199254740991,Rn=1.7976931348623157e308,zn=NaN,En=4294967295,Sn=En-1,Ln=En>>>1,Wn=[["ary",yn],["bind",ln],["bindKey",sn],["curry",pn],["curryRight",_n],["flip",bn],["partial",vn],["partialRight",gn],["rearg",dn]],Cn="[object Arguments]",Un="[object Array]",Bn="[object AsyncFunction]",Tn="[object Boolean]",$n="[object Date]",Dn="[object DOMException]",Mn="[object Error]",Fn="[object Function]",Nn="[object GeneratorFunction]",Pn="[object Map]",qn="[object Number]",Zn="[object Null]",Kn="[object Object]",Vn="[object Proxy]",Gn="[object RegExp]",Hn="[object Set]",Jn="[object String]",Yn="[object Symbol]",Qn="[object Undefined]",Xn="[object WeakMap]",nt="[object WeakSet]",tt="[object ArrayBuffer]",rt="[object DataView]",et="[object Float32Array]",ut="[object Float64Array]",it="[object Int8Array]",ot="[object Int16Array]",ft="[object Int32Array]",ct="[object Uint8Array]",at="[object Uint8ClampedArray]",lt="[object Uint16Array]",st="[object Uint32Array]",ht=/\b__p \+= '';/g,pt=/\b(__p \+=) '' \+/g,_t=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vt=/&(?:amp|lt|gt|quot|#39);/g,gt=/[&<>"']/g,yt=RegExp(vt.source),dt=RegExp(gt.source),bt=/<%-([\s\S]+?)%>/g,wt=/<%([\s\S]+?)%>/g,mt=/<%=([\s\S]+?)%>/g,xt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jt=/^\w*$/,At=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kt=/[\\^$.*+?()[\]{}|]/g,Ot=RegExp(kt.source),It=/^\s+|\s+$/g,Rt=/^\s+/,zt=/\s+$/,Et=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,St=/\{\n\/\* \[wrapped with (.+)\] \*/,Lt=/,? & /,Wt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ct=/\\(\\)?/g,Ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Bt=/\w*$/,Tt=/^[-+]0x[0-9a-f]+$/i,$t=/^0b[01]+$/i,Dt=/^\[object .+?Constructor\]$/,Mt=/^0o[0-7]+$/i,Ft=/^(?:0|[1-9]\d*)$/,Nt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Pt=/($^)/,qt=/['\n\r\u2028\u2029\\]/g,Zt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Kt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Vt="["+Kt+"]",Gt="["+Zt+"]",Ht="[a-z\\xdf-\\xf6\\xf8-\\xff]",Jt="[^\\ud800-\\udfff"+Kt+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Yt="\\ud83c[\\udffb-\\udfff]",Qt="(?:\\ud83c[\\udde6-\\uddff]){2}",Xt="[\\ud800-\\udbff][\\udc00-\\udfff]",nr="[A-Z\\xc0-\\xd6\\xd8-\\xde]",tr="(?:"+Ht+"|"+Jt+")",rr="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",er="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",Qt,Xt].join("|")+")[\\ufe0e\\ufe0f]?"+rr+")*",ur="[\\ufe0e\\ufe0f]?"+rr+er,ir="(?:"+["[\\u2700-\\u27bf]",Qt,Xt].join("|")+")"+ur,or="(?:"+["[^\\ud800-\\udfff]"+Gt+"?",Gt,Qt,Xt,"[\\ud800-\\udfff]"].join("|")+")",fr=RegExp("['’]","g"),cr=RegExp(Gt,"g"),ar=RegExp(Yt+"(?="+Yt+")|"+or+ur,"g"),lr=RegExp([nr+"?"+Ht+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Vt,nr,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Vt,nr+tr,"$"].join("|")+")",nr+"?"+tr+"+(?:['’](?:d|ll|m|re|s|t|ve))?",nr+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",ir].join("|"),"g"),sr=RegExp("[\\u200d\\ud800-\\udfff"+Zt+"\\ufe0e\\ufe0f]"),hr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,pr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_r=-1,vr={};vr[et]=vr[ut]=vr[it]=vr[ot]=vr[ft]=vr[ct]=vr[at]=vr[lt]=vr[st]=!0,vr[Cn]=vr[Un]=vr[tt]=vr[Tn]=vr[rt]=vr[$n]=vr[Mn]=vr[Fn]=vr[Pn]=vr[qn]=vr[Kn]=vr[Gn]=vr[Hn]=vr[Jn]=vr[Xn]=!1;var gr={};gr[Cn]=gr[Un]=gr[tt]=gr[rt]=gr[Tn]=gr[$n]=gr[et]=gr[ut]=gr[it]=gr[ot]=gr[ft]=gr[Pn]=gr[qn]=gr[Kn]=gr[Gn]=gr[Hn]=gr[Jn]=gr[Yn]=gr[ct]=gr[at]=gr[lt]=gr[st]=!0,gr[Mn]=gr[Fn]=gr[Xn]=!1;var yr={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},dr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},br={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},wr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},mr=parseFloat,xr=parseInt,jr="object"==typeof global&&global&&global.Object===Object&&global,Ar="object"==typeof self&&self&&self.Object===Object&&self,kr=jr||Ar||Function("return this")(),Or="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ir=Or&&"object"==typeof module&&module&&!module.nodeType&&module,Rr=Ir&&Ir.exports===Or,zr=Rr&&jr.process,Er=function(){try{var n=Ir&&Ir.require&&Ir.require("util").types;return n||zr&&zr.binding&&zr.binding("util")}catch(n){}}(),Sr=Er&&Er.isArrayBuffer,Lr=Er&&Er.isDate,Wr=Er&&Er.isMap,Cr=Er&&Er.isRegExp,Ur=Er&&Er.isSet,Br=Er&&Er.isTypedArray,Tr=m("length"),$r=x(yr),Dr=x(dr),Mr=x(br),Fr=function p(x){function q(n){if(rc(n)&&!ph(n)&&!(n instanceof Wt)){if(n instanceof H)return n;if(pl.call(n,"__wrapped__"))return Yi(n)}return new H(n)}function G(){}function H(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=Y}function Wt(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=En,this.__views__=[]}function Zt(){var n=new Wt(this.__wrapped__);return n.__actions__=Lu(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Lu(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Lu(this.__views__),n}function Kt(){if(this.__filtered__){var n=new Wt(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Vt(){var n=this.__wrapped__.value(),t=this.__dir__,r=ph(n),e=t<0,u=r?n.length:0,i=mi(0,u,this.__views__),o=i.start,f=i.end,c=f-o,a=e?f:o-1,l=this.__iteratees__,s=l.length,h=0,p=Pl(c,this.__takeCount__);if(!r||!e&&u==c&&p==c)return vu(n,this.__actions__);var _=[];n:for(;c--&&h<p;){a+=t;for(var v=-1,g=n[a];++v<s;){var y=l[v],d=y.iteratee,b=y.type,w=d(g);if(b==kn)g=w;else if(!w){if(b==An)continue n;break n}}_[h++]=g}return _}function Gt(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function Ht(){this.__data__=Xl?Xl(null):{},this.size=0}function Jt(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}function Yt(n){var t=this.__data__;if(Xl){var r=t[n];return r===tn?Y:r}return pl.call(t,n)?t[n]:Y}function Qt(n){var t=this.__data__;return Xl?t[n]!==Y:pl.call(t,n)}function Xt(n,t){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=Xl&&t===Y?tn:t,this}function nr(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function tr(){this.__data__=[],this.size=0}function rr(n){var t=this.__data__,r=Vr(t,n);return!(r<0)&&(r==t.length-1?t.pop():Il.call(t,r,1),--this.size,!0)}function er(n){var t=this.__data__,r=Vr(t,n);return r<0?Y:t[r][1]}function ur(n){return Vr(this.__data__,n)>-1}function ir(n,t){var r=this.__data__,e=Vr(r,n);return e<0?(++this.size,r.push([n,t])):r[e][1]=t,this}function or(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function ar(){this.size=0,this.__data__={hash:new Gt,map:new(Hl||nr),string:new Gt}}function lr(n){var t=yi(this,n).delete(n);return this.size-=t?1:0,t}function sr(n){return yi(this,n).get(n)}function hr(n){return yi(this,n).has(n)}function yr(n,t){var r=yi(this,n),e=r.size;return r.set(n,t),this.size+=r.size==e?0:1,this}function dr(n){var t=-1,r=null==n?0:n.length;for(this.__data__=new or;++t<r;)this.add(n[t])}function br(n){return this.__data__.set(n,tn),this}function wr(n){return this.__data__.has(n)}function jr(n){var t=this.__data__=new nr(n);this.size=t.size}function Ar(){this.__data__=new nr,this.size=0}function Or(n){var t=this.__data__,r=t.delete(n);return this.size=t.size,r}function Ir(n){return this.__data__.get(n)}function zr(n){return this.__data__.has(n)}function Er(n,t){var r=this.__data__;if(r instanceof nr){var e=r.__data__;if(!Hl||e.length<Q-1)return e.push([n,t]),this.size=++r.size,this;r=this.__data__=new or(e)}return r.set(n,t),this.size=r.size,this}function Tr(n,t){var r=ph(n),e=!r&&hh(n),u=!r&&!e&&vh(n),i=!r&&!e&&!u&&wh(n),o=r||e||u||i,f=o?O(n.length,ol):[],c=f.length;for(var a in n)!t&&!pl.call(n,a)||o&&("length"==a||u&&("offset"==a||"parent"==a)||i&&("buffer"==a||"byteLength"==a||"byteOffset"==a)||zi(a,c))||f.push(a);return f}function Nr(n){var t=n.length;return t?n[Je(0,t-1)]:Y}function Pr(n,t){return Vi(Lu(n),Xr(t,0,n.length))}function qr(n){return Vi(Lu(n))}function Zr(n,t,r){(r===Y||Nf(n[t],r))&&(r!==Y||t in n)||Yr(n,t,r)}function Kr(n,t,r){var e=n[t];pl.call(n,t)&&Nf(e,r)&&(r!==Y||t in n)||Yr(n,t,r)}function Vr(n,t){for(var r=n.length;r--;)if(Nf(n[r][0],t))return r;return-1}function Gr(n,t,r,e){return ss(n,function(n,u,i){t(e,n,r(n),i)}),e}function Hr(n,t){return n&&Wu(t,Tc(t),n)}function Jr(n,t){return n&&Wu(t,$c(t),n)}function Yr(n,t,r){"__proto__"==t&&Sl?Sl(n,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[t]=r}function Qr(n,t){for(var r=-1,e=t.length,u=Xa(e),i=null==n;++r<e;)u[r]=i?Y:Cc(n,t[r]);return u}function Xr(n,t,r){return n===n&&(r!==Y&&(n=n<=r?n:r),t!==Y&&(n=n>=t?n:t)),n}function ne(n,t,e,u,i,o){var f,c=t&un,a=t&on,l=t&fn;if(e&&(f=i?e(n,u,i,o):e(n)),f!==Y)return f;if(!tc(n))return n;var s=ph(n);if(s){if(f=Ai(n),!c)return Lu(n,f)}else{var h=js(n),p=h==Fn||h==Nn;if(vh(n))return xu(n,c);if(h==Kn||h==Cn||p&&!i){if(f=a||p?{}:ki(n),!c)return a?Uu(n,Jr(f,n)):Cu(n,Hr(f,n))}else{if(!gr[h])return i?n:{};f=Oi(n,h,c)}}o||(o=new jr);var _=o.get(n);if(_)return _;o.set(n,f),bh(n)?n.forEach(function(r){f.add(ne(r,t,e,r,n,o))}):yh(n)&&n.forEach(function(r,u){f.set(u,ne(r,t,e,u,n,o))});var v=l?a?pi:hi:a?$c:Tc,g=s?Y:v(n);return r(g||n,function(r,u){g&&(u=r,r=n[u]),Kr(f,u,ne(r,t,e,u,n,o))}),f}function te(n){var t=Tc(n);return function(r){return re(r,n,t)}}function re(n,t,r){var e=r.length;if(null==n)return!e;for(n=ul(n);e--;){var u=r[e],i=t[u],o=n[u];if(o===Y&&!(u in n)||!i(o))return!1}return!0}function ee(n,t,r){if("function"!=typeof n)throw new fl(nn);return Os(function(){n.apply(Y,r)},t)}function ue(n,t,r,e){var u=-1,i=o,a=!0,l=n.length,s=[],h=t.length;if(!l)return s;r&&(t=c(t,R(r))),e?(i=f,a=!1):t.length>=Q&&(i=E,a=!1,t=new dr(t));n:for(;++u<l;){var p=n[u],_=null==r?p:r(p);if(p=e||0!==p?p:0,a&&_===_){for(var v=h;v--;)if(t[v]===_)continue n;s.push(p)}else i(t,_,e)||s.push(p)}return s}function ie(n,t){var r=!0;return ss(n,function(n,e,u){return r=!!t(n,e,u)}),r}function oe(n,t,r){for(var e=-1,u=n.length;++e<u;){var i=n[e],o=t(i);if(null!=o&&(f===Y?o===o&&!pc(o):r(o,f)))var f=o,c=i}return c}function fe(n,t,r,e){var u=n.length;for(r=bc(r),r<0&&(r=-r>u?0:u+r),e=e===Y||e>u?u:bc(e),e<0&&(e+=u),e=r>e?0:wc(e);r<e;)n[r++]=t;return n}function ce(n,t){var r=[];return ss(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function ae(n,t,r,e,u){var i=-1,o=n.length;for(r||(r=Ri),u||(u=[]);++i<o;){var f=n[i];t>0&&r(f)?t>1?ae(f,t-1,r,e,u):a(u,f):e||(u[u.length]=f)}return u}function le(n,t){return n&&ps(n,t,Tc)}function se(n,t){return n&&_s(n,t,Tc)}function he(n,t){return i(t,function(t){return Qf(n[t])})}function pe(n,t){t=wu(t,n);for(var r=0,e=t.length;null!=n&&r<e;)n=n[Gi(t[r++])];return r&&r==e?n:Y}function _e(n,t,r){var e=t(n);return ph(n)?e:a(e,r(n))}function ve(n){return null==n?n===Y?Qn:Zn:El&&El in ul(n)?wi(n):Mi(n)}function ge(n,t){return n>t}function ye(n,t){return null!=n&&pl.call(n,t)}function de(n,t){return null!=n&&t in ul(n)}function be(n,t,r){return n>=Pl(t,r)&&n<Nl(t,r)}function we(n,t,r){for(var e=r?f:o,u=n[0].length,i=n.length,a=i,l=Xa(i),s=1/0,h=[];a--;){var p=n[a];a&&t&&(p=c(p,R(t))),s=Pl(p.length,s),l[a]=!r&&(t||u>=120&&p.length>=120)?new dr(a&&p):Y}p=n[0];var _=-1,v=l[0];n:for(;++_<u&&h.length<s;){var g=p[_],y=t?t(g):g;if(g=r||0!==g?g:0,!(v?E(v,y):e(h,y,r))){for(a=i;--a;){var d=l[a];if(!(d?E(d,y):e(n[a],y,r)))continue n}v&&v.push(y),h.push(g)}}return h}function me(n,t,r,e){return le(n,function(n,u,i){t(e,r(n),u,i)}),e}function xe(t,r,e){r=wu(r,t),t=Ni(t,r);var u=null==t?t:t[Gi(go(r))];return null==u?Y:n(u,t,e)}function je(n){return rc(n)&&ve(n)==Cn}function Ae(n){return rc(n)&&ve(n)==tt}function ke(n){return rc(n)&&ve(n)==$n}function Oe(n,t,r,e,u){return n===t||(null==n||null==t||!rc(n)&&!rc(t)?n!==n&&t!==t:Ie(n,t,r,e,Oe,u))}function Ie(n,t,r,e,u,i){var o=ph(n),f=ph(t),c=o?Un:js(n),a=f?Un:js(t);c=c==Cn?Kn:c,a=a==Cn?Kn:a;var l=c==Kn,s=a==Kn,h=c==a;if(h&&vh(n)){if(!vh(t))return!1;o=!0,l=!1}if(h&&!l)return i||(i=new jr),o||wh(n)?ci(n,t,r,e,u,i):ai(n,t,c,r,e,u,i);if(!(r&cn)){var p=l&&pl.call(n,"__wrapped__"),_=s&&pl.call(t,"__wrapped__");if(p||_){var v=p?n.value():n,g=_?t.value():t;return i||(i=new jr),u(v,g,r,e,i)}}return!!h&&(i||(i=new jr),li(n,t,r,e,u,i))}function Re(n){return rc(n)&&js(n)==Pn}function ze(n,t,r,e){var u=r.length,i=u,o=!e;if(null==n)return!i;for(n=ul(n);u--;){var f=r[u];if(o&&f[2]?f[1]!==n[f[0]]:!(f[0]in n))return!1}for(;++u<i;){f=r[u];var c=f[0],a=n[c],l=f[1];if(o&&f[2]){if(a===Y&&!(c in n))return!1}else{var s=new jr;if(e)var h=e(a,l,c,n,t,s);if(!(h===Y?Oe(l,a,cn|an,e,s):h))return!1}}return!0}function Ee(n){return!(!tc(n)||Ci(n))&&(Qf(n)?bl:Dt).test(Hi(n))}function Se(n){return rc(n)&&ve(n)==Gn}function Le(n){return rc(n)&&js(n)==Hn}function We(n){return rc(n)&&nc(n.length)&&!!vr[ve(n)]}function Ce(n){return"function"==typeof n?n:null==n?Ia:"object"==typeof n?ph(n)?Me(n[0],n[1]):De(n):Ua(n)}function Ue(n){if(!Ui(n))return Fl(n);var t=[];for(var r in ul(n))pl.call(n,r)&&"constructor"!=r&&t.push(r);return t}function Be(n){if(!tc(n))return Di(n);var t=Ui(n),r=[];for(var e in n)("constructor"!=e||!t&&pl.call(n,e))&&r.push(e);return r}function Te(n,t){return n<t}function $e(n,t){var r=-1,e=Pf(n)?Xa(n.length):[];return ss(n,function(n,u,i){e[++r]=t(n,u,i)}),e}function De(n){var t=di(n);return 1==t.length&&t[0][2]?Ti(t[0][0],t[0][1]):function(r){return r===n||ze(r,n,t)}}function Me(n,t){return Si(n)&&Bi(t)?Ti(Gi(n),t):function(r){var e=Cc(r,n);return e===Y&&e===t?Bc(r,n):Oe(t,e,cn|an)}}function Fe(n,t,r,e,u){n!==t&&ps(t,function(i,o){if(u||(u=new jr),tc(i))Ne(n,t,o,r,Fe,e,u);else{var f=e?e(qi(n,o),i,o+"",n,t,u):Y;f===Y&&(f=i),Zr(n,o,f)}},$c)}function Ne(n,t,r,e,u,i,o){var f=qi(n,r),c=qi(t,r),a=o.get(c);if(a)return void Zr(n,r,a);var l=i?i(f,c,r+"",n,t,o):Y,s=l===Y;if(s){var h=ph(c),p=!h&&vh(c),_=!h&&!p&&wh(c);l=c,h||p||_?ph(f)?l=f:qf(f)?l=Lu(f):p?(s=!1,l=xu(c,!0)):_?(s=!1,l=Iu(c,!0)):l=[]:lc(c)||hh(c)?(l=f,hh(f)?l=xc(f):tc(f)&&!Qf(f)||(l=ki(c))):s=!1}s&&(o.set(c,l),u(l,c,e,i,o),o.delete(c)),Zr(n,r,l)}function Pe(n,t){var r=n.length;if(r)return t+=t<0?r:0,zi(t,r)?n[t]:Y}function qe(n,t,r){var e=-1;return t=c(t.length?t:[Ia],R(gi())),A($e(n,function(n,r,u){return{criteria:c(t,function(t){return t(n)}),index:++e,value:n}}),function(n,t){return zu(n,t,r)})}function Ze(n,t){return Ke(n,t,function(t,r){return Bc(n,r)})}function Ke(n,t,r){for(var e=-1,u=t.length,i={};++e<u;){var o=t[e],f=pe(n,o);r(f,o)&&ru(i,wu(o,n),f)}return i}function Ve(n){return function(t){return pe(t,n)}}function Ge(n,t,r,e){var u=e?d:y,i=-1,o=t.length,f=n;for(n===t&&(t=Lu(t)),r&&(f=c(n,R(r)));++i<o;)for(var a=0,l=t[i],s=r?r(l):l;(a=u(f,s,a,e))>-1;)f!==n&&Il.call(f,a,1),Il.call(n,a,1);return n}function He(n,t){for(var r=n?t.length:0,e=r-1;r--;){var u=t[r];if(r==e||u!==i){var i=u;zi(u)?Il.call(n,u,1):hu(n,u)}}return n}function Je(n,t){return n+Bl(Kl()*(t-n+1))}function Ye(n,t,r,e){for(var u=-1,i=Nl(Ul((t-n)/(r||1)),0),o=Xa(i);i--;)o[e?i:++u]=n,n+=r;return o}function Qe(n,t){var r="";if(!n||t<1||t>In)return r;do{t%2&&(r+=n),(t=Bl(t/2))&&(n+=n)}while(t);return r}function Xe(n,t){return Is(Fi(n,t,Ia),n+"")}function nu(n){return Nr(Jc(n))}function tu(n,t){var r=Jc(n);return Vi(r,Xr(t,0,r.length))}function ru(n,t,r,e){if(!tc(n))return n;t=wu(t,n);for(var u=-1,i=t.length,o=i-1,f=n;null!=f&&++u<i;){var c=Gi(t[u]),a=r;if(u!=o){var l=f[c];a=e?e(l,c,f):Y,a===Y&&(a=tc(l)?l:zi(t[u+1])?[]:{})}Kr(f,c,a),f=f[c]}return n}function eu(n){return Vi(Jc(n))}function uu(n,t,r){var e=-1,u=n.length;t<0&&(t=-t>u?0:u+t),r=r>u?u:r,r<0&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var i=Xa(u);++e<u;)i[e]=n[e+t];return i}function iu(n,t){var r;return ss(n,function(n,e,u){return!(r=t(n,e,u))}),!!r}function ou(n,t,r){var e=0,u=null==n?e:n.length;if("number"==typeof t&&t===t&&u<=Ln){for(;e<u;){var i=e+u>>>1,o=n[i];null!==o&&!pc(o)&&(r?o<=t:o<t)?e=i+1:u=i}return u}return fu(n,t,Ia,r)}function fu(n,t,r,e){t=r(t);for(var u=0,i=null==n?0:n.length,o=t!==t,f=null===t,c=pc(t),a=t===Y;u<i;){var l=Bl((u+i)/2),s=r(n[l]),h=s!==Y,p=null===s,_=s===s,v=pc(s);if(o)var g=e||_;else g=a?_&&(e||h):f?_&&h&&(e||!p):c?_&&h&&!p&&(e||!v):!p&&!v&&(e?s<=t:s<t);g?u=l+1:i=l}return Pl(i,Sn)}function cu(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r],f=t?t(o):o;if(!r||!Nf(f,c)){var c=f;i[u++]=0===o?0:o}}return i}function au(n){return"number"==typeof n?n:pc(n)?zn:+n}function lu(n){if("string"==typeof n)return n;if(ph(n))return c(n,lu)+"";if(pc(n))return as?as.call(n):"";var t=n+"";return"0"==t&&1/n==-On?"-0":t}function su(n,t,r){var e=-1,u=o,i=n.length,c=!0,a=[],l=a;if(r)c=!1,u=f;else if(i>=Q){var s=t?null:bs(n);if(s)return N(s);c=!1,u=E,l=new dr}else l=t?[]:a;n:for(;++e<i;){var h=n[e],p=t?t(h):h;if(h=r||0!==h?h:0,c&&p===p){for(var _=l.length;_--;)if(l[_]===p)continue n;t&&l.push(p),a.push(h)}else u(l,p,r)||(l!==a&&l.push(p),a.push(h))}return a}function hu(n,t){return t=wu(t,n),null==(n=Ni(n,t))||delete n[Gi(go(t))]}function pu(n,t,r,e){return ru(n,t,r(pe(n,t)),e)}function _u(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?uu(n,e?0:i,e?i+1:u):uu(n,e?i+1:0,e?u:i)}function vu(n,t){var r=n;return r instanceof Wt&&(r=r.value()),l(t,function(n,t){return t.func.apply(t.thisArg,a([n],t.args))},r)}function gu(n,t,r){var e=n.length;if(e<2)return e?su(n[0]):[];for(var u=-1,i=Xa(e);++u<e;)for(var o=n[u],f=-1;++f<e;)f!=u&&(i[u]=ue(i[u]||o,n[f],t,r));return su(ae(i,1),t,r)}function yu(n,t,r){for(var e=-1,u=n.length,i=t.length,o={};++e<u;){var f=e<i?t[e]:Y;r(o,n[e],f)}return o}function du(n){return qf(n)?n:[]}function bu(n){return"function"==typeof n?n:Ia}function wu(n,t){return ph(n)?n:Si(n,t)?[n]:Rs(Ac(n))}function mu(n,t,r){var e=n.length;return r=r===Y?e:r,!t&&r>=e?n:uu(n,t,r)}function xu(n,t){if(t)return n.slice();var r=n.length,e=jl?jl(r):new n.constructor(r);return n.copy(e),e}function ju(n){var t=new n.constructor(n.byteLength);return new xl(t).set(new xl(n)),t}function Au(n,t){var r=t?ju(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.byteLength)}function ku(n){var t=new n.constructor(n.source,Bt.exec(n));return t.lastIndex=n.lastIndex,t}function Ou(n){return cs?ul(cs.call(n)):{}}function Iu(n,t){var r=t?ju(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.length)}function Ru(n,t){if(n!==t){var r=n!==Y,e=null===n,u=n===n,i=pc(n),o=t!==Y,f=null===t,c=t===t,a=pc(t);if(!f&&!a&&!i&&n>t||i&&o&&c&&!f&&!a||e&&o&&c||!r&&c||!u)return 1;if(!e&&!i&&!a&&n<t||a&&r&&u&&!e&&!i||f&&r&&u||!o&&u||!c)return-1}return 0}function zu(n,t,r){for(var e=-1,u=n.criteria,i=t.criteria,o=u.length,f=r.length;++e<o;){var c=Ru(u[e],i[e]);if(c){if(e>=f)return c;return c*("desc"==r[e]?-1:1)}}return n.index-t.index}function Eu(n,t,r,e){for(var u=-1,i=n.length,o=r.length,f=-1,c=t.length,a=Nl(i-o,0),l=Xa(c+a),s=!e;++f<c;)l[f]=t[f];for(;++u<o;)(s||u<i)&&(l[r[u]]=n[u]);for(;a--;)l[f++]=n[u++];return l}function Su(n,t,r,e){for(var u=-1,i=n.length,o=-1,f=r.length,c=-1,a=t.length,l=Nl(i-f,0),s=Xa(l+a),h=!e;++u<l;)s[u]=n[u];for(var p=u;++c<a;)s[p+c]=t[c];for(;++o<f;)(h||u<i)&&(s[p+r[o]]=n[u++]);return s}function Lu(n,t){var r=-1,e=n.length;for(t||(t=Xa(e));++r<e;)t[r]=n[r];return t}function Wu(n,t,r,e){var u=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var f=t[i],c=e?e(r[f],n[f],f,r,n):Y;c===Y&&(c=n[f]),u?Yr(r,f,c):Kr(r,f,c)}return r}function Cu(n,t){return Wu(n,ms(n),t)}function Uu(n,t){return Wu(n,xs(n),t)}function Bu(n,r){return function(e,u){var i=ph(e)?t:Gr,o=r?r():{};return i(e,n,gi(u,2),o)}}function Tu(n){return Xe(function(t,r){var e=-1,u=r.length,i=u>1?r[u-1]:Y,o=u>2?r[2]:Y;for(i=n.length>3&&"function"==typeof i?(u--,i):Y,o&&Ei(r[0],r[1],o)&&(i=u<3?Y:i,u=1),t=ul(t);++e<u;){var f=r[e];f&&n(t,f,e,i)}return t})}function $u(n,t){return function(r,e){if(null==r)return r;if(!Pf(r))return n(r,e);for(var u=r.length,i=t?u:-1,o=ul(r);(t?i--:++i<u)&&!1!==e(o[i],i,o););return r}}function Du(n){return function(t,r,e){for(var u=-1,i=ul(t),o=e(t),f=o.length;f--;){var c=o[n?f:++u];if(!1===r(i[c],c,i))break}return t}}function Mu(n,t,r){function e(){return(this&&this!==kr&&this instanceof e?i:n).apply(u?r:this,arguments)}var u=t&ln,i=Pu(n);return e}function Fu(n){return function(t){t=Ac(t);var r=B(t)?V(t):Y,e=r?r[0]:t.charAt(0),u=r?mu(r,1).join(""):t.slice(1);return e[n]()+u}}function Nu(n){return function(t){return l(xa(ra(t).replace(fr,"")),n,"")}}function Pu(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=ls(n.prototype),e=n.apply(r,t);return tc(e)?e:r}}function qu(t,r,e){function u(){for(var o=arguments.length,f=Xa(o),c=o,a=vi(u);c--;)f[c]=arguments[c];var l=o<3&&f[0]!==a&&f[o-1]!==a?[]:F(f,a);return(o-=l.length)<e?ti(t,r,Vu,u.placeholder,Y,f,l,Y,Y,e-o):n(this&&this!==kr&&this instanceof u?i:t,this,f)}var i=Pu(t);return u}function Zu(n){return function(t,r,e){var u=ul(t);if(!Pf(t)){var i=gi(r,3);t=Tc(t),r=function(n){return i(u[n],n,u)}}var o=n(t,r,e);return o>-1?u[i?t[o]:o]:Y}}function Ku(n){return si(function(t){var r=t.length,e=r,u=H.prototype.thru;for(n&&t.reverse();e--;){var i=t[e];if("function"!=typeof i)throw new fl(nn);if(u&&!o&&"wrapper"==_i(i))var o=new H([],!0)}for(e=o?e:r;++e<r;){i=t[e];var f=_i(i),c="wrapper"==f?ws(i):Y;o=c&&Wi(c[0])&&c[1]==(yn|pn|vn|dn)&&!c[4].length&&1==c[9]?o[_i(c[0])].apply(o,c[3]):1==i.length&&Wi(i)?o[f]():o.thru(i)}return function(){var n=arguments,e=n[0];if(o&&1==n.length&&ph(e))return o.plant(e).value();for(var u=0,i=r?t[u].apply(this,n):e;++u<r;)i=t[u].call(this,i);return i}})}function Vu(n,t,r,e,u,i,o,f,c,a){function l(){for(var y=arguments.length,d=Xa(y),b=y;b--;)d[b]=arguments[b];if(_)var w=vi(l),m=W(d,w);if(e&&(d=Eu(d,e,u,_)),i&&(d=Su(d,i,o,_)),y-=m,_&&y<a){var x=F(d,w);return ti(n,t,Vu,l.placeholder,r,d,x,f,c,a-y)}var j=h?r:this,A=p?j[n]:n;return y=d.length,f?d=Pi(d,f):v&&y>1&&d.reverse(),s&&c<y&&(d.length=c),this&&this!==kr&&this instanceof l&&(A=g||Pu(A)),A.apply(j,d)}var s=t&yn,h=t&ln,p=t&sn,_=t&(pn|_n),v=t&bn,g=p?Y:Pu(n);return l}function Gu(n,t){return function(r,e){return me(r,n,t(e),{})}}function Hu(n,t){return function(r,e){var u;if(r===Y&&e===Y)return t;if(r!==Y&&(u=r),e!==Y){if(u===Y)return e;"string"==typeof r||"string"==typeof e?(r=lu(r),e=lu(e)):(r=au(r),e=au(e)),u=n(r,e)}return u}}function Ju(t){return si(function(r){return r=c(r,R(gi())),Xe(function(e){var u=this;return t(r,function(t){return n(t,u,e)})})})}function Yu(n,t){t=t===Y?" ":lu(t);var r=t.length;if(r<2)return r?Qe(t,n):t;var e=Qe(t,Ul(n/K(t)));return B(t)?mu(V(e),0,n).join(""):e.slice(0,n)}function Qu(t,r,e,u){function i(){for(var r=-1,c=arguments.length,a=-1,l=u.length,s=Xa(l+c),h=this&&this!==kr&&this instanceof i?f:t;++a<l;)s[a]=u[a];for(;c--;)s[a++]=arguments[++r];return n(h,o?e:this,s)}var o=r&ln,f=Pu(t);return i}function Xu(n){return function(t,r,e){return e&&"number"!=typeof e&&Ei(t,r,e)&&(r=e=Y),t=dc(t),r===Y?(r=t,t=0):r=dc(r),e=e===Y?t<r?1:-1:dc(e),Ye(t,r,e,n)}}function ni(n){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=mc(t),r=mc(r)),n(t,r)}}function ti(n,t,r,e,u,i,o,f,c,a){var l=t&pn,s=l?o:Y,h=l?Y:o,p=l?i:Y,_=l?Y:i;t|=l?vn:gn,(t&=~(l?gn:vn))&hn||(t&=~(ln|sn));var v=[n,t,u,p,s,_,h,f,c,a],g=r.apply(Y,v);return Wi(n)&&ks(g,v),g.placeholder=e,Zi(g,n,t)}function ri(n){var t=el[n];return function(n,r){if(n=mc(n),(r=null==r?0:Pl(bc(r),292))&&Dl(n)){var e=(Ac(n)+"e").split("e");return e=(Ac(t(e[0]+"e"+(+e[1]+r)))+"e").split("e"),+(e[0]+"e"+(+e[1]-r))}return t(n)}}function ei(n){return function(t){var r=js(t);return r==Pn?D(t):r==Hn?P(t):I(t,n(t))}}function ui(n,t,r,e,u,i,o,f){var c=t&sn;if(!c&&"function"!=typeof n)throw new fl(nn);var a=e?e.length:0;if(a||(t&=~(vn|gn),e=u=Y),o=o===Y?o:Nl(bc(o),0),f=f===Y?f:bc(f),a-=u?u.length:0,t&gn){var l=e,s=u;e=u=Y}var h=c?Y:ws(n),p=[n,t,r,e,u,l,s,i,o,f];if(h&&$i(p,h),n=p[0],t=p[1],r=p[2],e=p[3],u=p[4],f=p[9]=p[9]===Y?c?0:n.length:Nl(p[9]-a,0),!f&&t&(pn|_n)&&(t&=~(pn|_n)),t&&t!=ln)_=t==pn||t==_n?qu(n,t,f):t!=vn&&t!=(ln|vn)||u.length?Vu.apply(Y,p):Qu(n,t,r,e);else var _=Mu(n,t,r);return Zi((h?vs:ks)(_,p),n,t)}function ii(n,t,r,e){return n===Y||Nf(n,ll[r])&&!pl.call(e,r)?t:n}function oi(n,t,r,e,u,i){return tc(n)&&tc(t)&&(i.set(t,n),Fe(n,t,Y,oi,i),i.delete(t)),n}function fi(n){return lc(n)?Y:n}function ci(n,t,r,e,u,i){var o=r&cn,f=n.length,c=t.length;if(f!=c&&!(o&&c>f))return!1;var a=i.get(n);if(a&&i.get(t))return a==t;var l=-1,s=!0,p=r&an?new dr:Y;for(i.set(n,t),i.set(t,n);++l<f;){var _=n[l],v=t[l];if(e)var g=o?e(v,_,l,t,n,i):e(_,v,l,n,t,i);if(g!==Y){if(g)continue;s=!1;break}if(p){if(!h(t,function(n,t){if(!E(p,t)&&(_===n||u(_,n,r,e,i)))return p.push(t)})){s=!1;break}}else if(_!==v&&!u(_,v,r,e,i)){s=!1;break}}return i.delete(n),i.delete(t),s}function ai(n,t,r,e,u,i,o){switch(r){case rt:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case tt:return!(n.byteLength!=t.byteLength||!i(new xl(n),new xl(t)));case Tn:case $n:case qn:return Nf(+n,+t);case Mn:return n.name==t.name&&n.message==t.message;case Gn:case Jn:return n==t+"";case Pn:var f=D;case Hn:var c=e&cn;if(f||(f=N),n.size!=t.size&&!c)return!1;var a=o.get(n);if(a)return a==t;e|=an,o.set(n,t);var l=ci(f(n),f(t),e,u,i,o);return o.delete(n),l;case Yn:if(cs)return cs.call(n)==cs.call(t)}return!1}function li(n,t,r,e,u,i){var o=r&cn,f=hi(n),c=f.length;if(c!=hi(t).length&&!o)return!1;for(var a=c;a--;){var l=f[a];if(!(o?l in t:pl.call(t,l)))return!1}var s=i.get(n);if(s&&i.get(t))return s==t;var h=!0;i.set(n,t),i.set(t,n);for(var p=o;++a<c;){l=f[a]
;var _=n[l],v=t[l];if(e)var g=o?e(v,_,l,t,n,i):e(_,v,l,n,t,i);if(!(g===Y?_===v||u(_,v,r,e,i):g)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var y=n.constructor,d=t.constructor;y!=d&&"constructor"in n&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof d&&d instanceof d)&&(h=!1)}return i.delete(n),i.delete(t),h}function si(n){return Is(Fi(n,Y,co),n+"")}function hi(n){return _e(n,Tc,ms)}function pi(n){return _e(n,$c,xs)}function _i(n){for(var t=n.name+"",r=ts[t],e=pl.call(ts,t)?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function vi(n){return(pl.call(q,"placeholder")?q:n).placeholder}function gi(){var n=q.iteratee||Ra;return n=n===Ra?Ce:n,arguments.length?n(arguments[0],arguments[1]):n}function yi(n,t){var r=n.__data__;return Li(t)?r["string"==typeof t?"string":"hash"]:r.map}function di(n){for(var t=Tc(n),r=t.length;r--;){var e=t[r],u=n[e];t[r]=[e,u,Bi(u)]}return t}function bi(n,t){var r=U(n,t);return Ee(r)?r:Y}function wi(n){var t=pl.call(n,El),r=n[El];try{n[El]=Y;var e=!0}catch(n){}var u=gl.call(n);return e&&(t?n[El]=r:delete n[El]),u}function mi(n,t,r){for(var e=-1,u=r.length;++e<u;){var i=r[e],o=i.size;switch(i.type){case"drop":n+=o;break;case"dropRight":t-=o;break;case"take":t=Pl(t,n+o);break;case"takeRight":n=Nl(n,t-o)}}return{start:n,end:t}}function xi(n){var t=n.match(St);return t?t[1].split(Lt):[]}function ji(n,t,r){t=wu(t,n);for(var e=-1,u=t.length,i=!1;++e<u;){var o=Gi(t[e]);if(!(i=null!=n&&r(n,o)))break;n=n[o]}return i||++e!=u?i:!!(u=null==n?0:n.length)&&nc(u)&&zi(o,u)&&(ph(n)||hh(n))}function Ai(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&pl.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function ki(n){return"function"!=typeof n.constructor||Ui(n)?{}:ls(Al(n))}function Oi(n,t,r){var e=n.constructor;switch(t){case tt:return ju(n);case Tn:case $n:return new e(+n);case rt:return Au(n,r);case et:case ut:case it:case ot:case ft:case ct:case at:case lt:case st:return Iu(n,r);case Pn:return new e;case qn:case Jn:return new e(n);case Gn:return ku(n);case Hn:return new e;case Yn:return Ou(n)}}function Ii(n,t){var r=t.length;if(!r)return n;var e=r-1;return t[e]=(r>1?"& ":"")+t[e],t=t.join(r>2?", ":" "),n.replace(Et,"{\n/* [wrapped with "+t+"] */\n")}function Ri(n){return ph(n)||hh(n)||!!(Rl&&n&&n[Rl])}function zi(n,t){var r=typeof n;return!!(t=null==t?In:t)&&("number"==r||"symbol"!=r&&Ft.test(n))&&n>-1&&n%1==0&&n<t}function Ei(n,t,r){if(!tc(r))return!1;var e=typeof t;return!!("number"==e?Pf(r)&&zi(t,r.length):"string"==e&&t in r)&&Nf(r[t],n)}function Si(n,t){if(ph(n))return!1;var r=typeof n;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=n&&!pc(n))||(jt.test(n)||!xt.test(n)||null!=t&&n in ul(t))}function Li(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n}function Wi(n){var t=_i(n),r=q[t];if("function"!=typeof r||!(t in Wt.prototype))return!1;if(n===r)return!0;var e=ws(r);return!!e&&n===e[0]}function Ci(n){return!!vl&&vl in n}function Ui(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||ll)}function Bi(n){return n===n&&!tc(n)}function Ti(n,t){return function(r){return null!=r&&(r[n]===t&&(t!==Y||n in ul(r)))}}function $i(n,t){var r=n[1],e=t[1],u=r|e,i=u<(ln|sn|yn),o=e==yn&&r==pn||e==yn&&r==dn&&n[7].length<=t[8]||e==(yn|dn)&&t[7].length<=t[8]&&r==pn;if(!i&&!o)return n;e&ln&&(n[2]=t[2],u|=r&ln?0:hn);var f=t[3];if(f){var c=n[3];n[3]=c?Eu(c,f,t[4]):f,n[4]=c?F(n[3],en):t[4]}return f=t[5],f&&(c=n[5],n[5]=c?Su(c,f,t[6]):f,n[6]=c?F(n[5],en):t[6]),f=t[7],f&&(n[7]=f),e&yn&&(n[8]=null==n[8]?t[8]:Pl(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=u,n}function Di(n){var t=[];if(null!=n)for(var r in ul(n))t.push(r);return t}function Mi(n){return gl.call(n)}function Fi(t,r,e){return r=Nl(r===Y?t.length-1:r,0),function(){for(var u=arguments,i=-1,o=Nl(u.length-r,0),f=Xa(o);++i<o;)f[i]=u[r+i];i=-1;for(var c=Xa(r+1);++i<r;)c[i]=u[i];return c[r]=e(f),n(t,this,c)}}function Ni(n,t){return t.length<2?n:pe(n,uu(t,0,-1))}function Pi(n,t){for(var r=n.length,e=Pl(t.length,r),u=Lu(n);e--;){var i=t[e];n[e]=zi(i,r)?u[i]:Y}return n}function qi(n,t){if(("constructor"!==t||"function"!=typeof n[t])&&"__proto__"!=t)return n[t]}function Zi(n,t,r){var e=t+"";return Is(n,Ii(e,Ji(xi(e),r)))}function Ki(n){var t=0,r=0;return function(){var e=ql(),u=jn-(e-r);if(r=e,u>0){if(++t>=xn)return arguments[0]}else t=0;return n.apply(Y,arguments)}}function Vi(n,t){var r=-1,e=n.length,u=e-1;for(t=t===Y?e:t;++r<t;){var i=Je(r,u),o=n[i];n[i]=n[r],n[r]=o}return n.length=t,n}function Gi(n){if("string"==typeof n||pc(n))return n;var t=n+"";return"0"==t&&1/n==-On?"-0":t}function Hi(n){if(null!=n){try{return hl.call(n)}catch(n){}try{return n+""}catch(n){}}return""}function Ji(n,t){return r(Wn,function(r){var e="_."+r[0];t&r[1]&&!o(n,e)&&n.push(e)}),n.sort()}function Yi(n){if(n instanceof Wt)return n.clone();var t=new H(n.__wrapped__,n.__chain__);return t.__actions__=Lu(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}function Qi(n,t,r){t=(r?Ei(n,t,r):t===Y)?1:Nl(bc(t),0);var e=null==n?0:n.length;if(!e||t<1)return[];for(var u=0,i=0,o=Xa(Ul(e/t));u<e;)o[i++]=uu(n,u,u+=t);return o}function Xi(n){for(var t=-1,r=null==n?0:n.length,e=0,u=[];++t<r;){var i=n[t];i&&(u[e++]=i)}return u}function no(){var n=arguments.length;if(!n)return[];for(var t=Xa(n-1),r=arguments[0],e=n;e--;)t[e-1]=arguments[e];return a(ph(r)?Lu(r):[r],ae(t,1))}function to(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===Y?1:bc(t),uu(n,t<0?0:t,e)):[]}function ro(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===Y?1:bc(t),t=e-t,uu(n,0,t<0?0:t)):[]}function eo(n,t){return n&&n.length?_u(n,gi(t,3),!0,!0):[]}function uo(n,t){return n&&n.length?_u(n,gi(t,3),!0):[]}function io(n,t,r,e){var u=null==n?0:n.length;return u?(r&&"number"!=typeof r&&Ei(n,t,r)&&(r=0,e=u),fe(n,t,r,e)):[]}function oo(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:bc(r);return u<0&&(u=Nl(e+u,0)),g(n,gi(t,3),u)}function fo(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e-1;return r!==Y&&(u=bc(r),u=r<0?Nl(e+u,0):Pl(u,e-1)),g(n,gi(t,3),u,!0)}function co(n){return(null==n?0:n.length)?ae(n,1):[]}function ao(n){return(null==n?0:n.length)?ae(n,On):[]}function lo(n,t){return(null==n?0:n.length)?(t=t===Y?1:bc(t),ae(n,t)):[]}function so(n){for(var t=-1,r=null==n?0:n.length,e={};++t<r;){var u=n[t];e[u[0]]=u[1]}return e}function ho(n){return n&&n.length?n[0]:Y}function po(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:bc(r);return u<0&&(u=Nl(e+u,0)),y(n,t,u)}function _o(n){return(null==n?0:n.length)?uu(n,0,-1):[]}function vo(n,t){return null==n?"":Ml.call(n,t)}function go(n){var t=null==n?0:n.length;return t?n[t-1]:Y}function yo(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e;return r!==Y&&(u=bc(r),u=u<0?Nl(e+u,0):Pl(u,e-1)),t===t?Z(n,t,u):g(n,b,u,!0)}function bo(n,t){return n&&n.length?Pe(n,bc(t)):Y}function wo(n,t){return n&&n.length&&t&&t.length?Ge(n,t):n}function mo(n,t,r){return n&&n.length&&t&&t.length?Ge(n,t,gi(r,2)):n}function xo(n,t,r){return n&&n.length&&t&&t.length?Ge(n,t,Y,r):n}function jo(n,t){var r=[];if(!n||!n.length)return r;var e=-1,u=[],i=n.length;for(t=gi(t,3);++e<i;){var o=n[e];t(o,e,n)&&(r.push(o),u.push(e))}return He(n,u),r}function Ao(n){return null==n?n:Vl.call(n)}function ko(n,t,r){var e=null==n?0:n.length;return e?(r&&"number"!=typeof r&&Ei(n,t,r)?(t=0,r=e):(t=null==t?0:bc(t),r=r===Y?e:bc(r)),uu(n,t,r)):[]}function Oo(n,t){return ou(n,t)}function Io(n,t,r){return fu(n,t,gi(r,2))}function Ro(n,t){var r=null==n?0:n.length;if(r){var e=ou(n,t);if(e<r&&Nf(n[e],t))return e}return-1}function zo(n,t){return ou(n,t,!0)}function Eo(n,t,r){return fu(n,t,gi(r,2),!0)}function So(n,t){if(null==n?0:n.length){var r=ou(n,t,!0)-1;if(Nf(n[r],t))return r}return-1}function Lo(n){return n&&n.length?cu(n):[]}function Wo(n,t){return n&&n.length?cu(n,gi(t,2)):[]}function Co(n){var t=null==n?0:n.length;return t?uu(n,1,t):[]}function Uo(n,t,r){return n&&n.length?(t=r||t===Y?1:bc(t),uu(n,0,t<0?0:t)):[]}function Bo(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===Y?1:bc(t),t=e-t,uu(n,t<0?0:t,e)):[]}function To(n,t){return n&&n.length?_u(n,gi(t,3),!1,!0):[]}function $o(n,t){return n&&n.length?_u(n,gi(t,3)):[]}function Do(n){return n&&n.length?su(n):[]}function Mo(n,t){return n&&n.length?su(n,gi(t,2)):[]}function Fo(n,t){return t="function"==typeof t?t:Y,n&&n.length?su(n,Y,t):[]}function No(n){if(!n||!n.length)return[];var t=0;return n=i(n,function(n){if(qf(n))return t=Nl(n.length,t),!0}),O(t,function(t){return c(n,m(t))})}function Po(t,r){if(!t||!t.length)return[];var e=No(t);return null==r?e:c(e,function(t){return n(r,Y,t)})}function qo(n,t){return yu(n||[],t||[],Kr)}function Zo(n,t){return yu(n||[],t||[],ru)}function Ko(n){var t=q(n);return t.__chain__=!0,t}function Vo(n,t){return t(n),n}function Go(n,t){return t(n)}function Ho(){return Ko(this)}function Jo(){return new H(this.value(),this.__chain__)}function Yo(){this.__values__===Y&&(this.__values__=yc(this.value()));var n=this.__index__>=this.__values__.length;return{done:n,value:n?Y:this.__values__[this.__index__++]}}function Qo(){return this}function Xo(n){for(var t,r=this;r instanceof G;){var e=Yi(r);e.__index__=0,e.__values__=Y,t?u.__wrapped__=e:t=e;var u=e;r=r.__wrapped__}return u.__wrapped__=n,t}function nf(){var n=this.__wrapped__;if(n instanceof Wt){var t=n;return this.__actions__.length&&(t=new Wt(this)),t=t.reverse(),t.__actions__.push({func:Go,args:[Ao],thisArg:Y}),new H(t,this.__chain__)}return this.thru(Ao)}function tf(){return vu(this.__wrapped__,this.__actions__)}function rf(n,t,r){var e=ph(n)?u:ie;return r&&Ei(n,t,r)&&(t=Y),e(n,gi(t,3))}function ef(n,t){return(ph(n)?i:ce)(n,gi(t,3))}function uf(n,t){return ae(sf(n,t),1)}function of(n,t){return ae(sf(n,t),On)}function ff(n,t,r){return r=r===Y?1:bc(r),ae(sf(n,t),r)}function cf(n,t){return(ph(n)?r:ss)(n,gi(t,3))}function af(n,t){return(ph(n)?e:hs)(n,gi(t,3))}function lf(n,t,r,e){n=Pf(n)?n:Jc(n),r=r&&!e?bc(r):0;var u=n.length;return r<0&&(r=Nl(u+r,0)),hc(n)?r<=u&&n.indexOf(t,r)>-1:!!u&&y(n,t,r)>-1}function sf(n,t){return(ph(n)?c:$e)(n,gi(t,3))}function hf(n,t,r,e){return null==n?[]:(ph(t)||(t=null==t?[]:[t]),r=e?Y:r,ph(r)||(r=null==r?[]:[r]),qe(n,t,r))}function pf(n,t,r){var e=ph(n)?l:j,u=arguments.length<3;return e(n,gi(t,4),r,u,ss)}function _f(n,t,r){var e=ph(n)?s:j,u=arguments.length<3;return e(n,gi(t,4),r,u,hs)}function vf(n,t){return(ph(n)?i:ce)(n,zf(gi(t,3)))}function gf(n){return(ph(n)?Nr:nu)(n)}function yf(n,t,r){return t=(r?Ei(n,t,r):t===Y)?1:bc(t),(ph(n)?Pr:tu)(n,t)}function df(n){return(ph(n)?qr:eu)(n)}function bf(n){if(null==n)return 0;if(Pf(n))return hc(n)?K(n):n.length;var t=js(n);return t==Pn||t==Hn?n.size:Ue(n).length}function wf(n,t,r){var e=ph(n)?h:iu;return r&&Ei(n,t,r)&&(t=Y),e(n,gi(t,3))}function mf(n,t){if("function"!=typeof t)throw new fl(nn);return n=bc(n),function(){if(--n<1)return t.apply(this,arguments)}}function xf(n,t,r){return t=r?Y:t,t=n&&null==t?n.length:t,ui(n,yn,Y,Y,Y,Y,t)}function jf(n,t){var r;if("function"!=typeof t)throw new fl(nn);return n=bc(n),function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=Y),r}}function Af(n,t,r){t=r?Y:t;var e=ui(n,pn,Y,Y,Y,Y,Y,t);return e.placeholder=Af.placeholder,e}function kf(n,t,r){t=r?Y:t;var e=ui(n,_n,Y,Y,Y,Y,Y,t);return e.placeholder=kf.placeholder,e}function Of(n,t,r){function e(t){var r=h,e=p;return h=p=Y,d=t,v=n.apply(e,r)}function u(n){return d=n,g=Os(f,t),b?e(n):v}function i(n){var r=n-y,e=n-d,u=t-r;return w?Pl(u,_-e):u}function o(n){var r=n-y,e=n-d;return y===Y||r>=t||r<0||w&&e>=_}function f(){var n=th();if(o(n))return c(n);g=Os(f,i(n))}function c(n){return g=Y,m&&h?e(n):(h=p=Y,v)}function a(){g!==Y&&ds(g),d=0,h=y=p=g=Y}function l(){return g===Y?v:c(th())}function s(){var n=th(),r=o(n);if(h=arguments,p=this,y=n,r){if(g===Y)return u(y);if(w)return ds(g),g=Os(f,t),e(y)}return g===Y&&(g=Os(f,t)),v}var h,p,_,v,g,y,d=0,b=!1,w=!1,m=!0;if("function"!=typeof n)throw new fl(nn);return t=mc(t)||0,tc(r)&&(b=!!r.leading,w="maxWait"in r,_=w?Nl(mc(r.maxWait)||0,t):_,m="trailing"in r?!!r.trailing:m),s.cancel=a,s.flush=l,s}function If(n){return ui(n,bn)}function Rf(n,t){if("function"!=typeof n||null!=t&&"function"!=typeof t)throw new fl(nn);var r=function(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;if(i.has(u))return i.get(u);var o=n.apply(this,e);return r.cache=i.set(u,o)||i,o};return r.cache=new(Rf.Cache||or),r}function zf(n){if("function"!=typeof n)throw new fl(nn);return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:return!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}function Ef(n){return jf(2,n)}function Sf(n,t){if("function"!=typeof n)throw new fl(nn);return t=t===Y?t:bc(t),Xe(n,t)}function Lf(t,r){if("function"!=typeof t)throw new fl(nn);return r=null==r?0:Nl(bc(r),0),Xe(function(e){var u=e[r],i=mu(e,0,r);return u&&a(i,u),n(t,this,i)})}function Wf(n,t,r){var e=!0,u=!0;if("function"!=typeof n)throw new fl(nn);return tc(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),Of(n,t,{leading:e,maxWait:t,trailing:u})}function Cf(n){return xf(n,1)}function Uf(n,t){return fh(bu(t),n)}function Bf(){if(!arguments.length)return[];var n=arguments[0];return ph(n)?n:[n]}function Tf(n){return ne(n,fn)}function $f(n,t){return t="function"==typeof t?t:Y,ne(n,fn,t)}function Df(n){return ne(n,un|fn)}function Mf(n,t){return t="function"==typeof t?t:Y,ne(n,un|fn,t)}function Ff(n,t){return null==t||re(n,t,Tc(t))}function Nf(n,t){return n===t||n!==n&&t!==t}function Pf(n){return null!=n&&nc(n.length)&&!Qf(n)}function qf(n){return rc(n)&&Pf(n)}function Zf(n){return!0===n||!1===n||rc(n)&&ve(n)==Tn}function Kf(n){return rc(n)&&1===n.nodeType&&!lc(n)}function Vf(n){if(null==n)return!0;if(Pf(n)&&(ph(n)||"string"==typeof n||"function"==typeof n.splice||vh(n)||wh(n)||hh(n)))return!n.length;var t=js(n);if(t==Pn||t==Hn)return!n.size;if(Ui(n))return!Ue(n).length;for(var r in n)if(pl.call(n,r))return!1;return!0}function Gf(n,t){return Oe(n,t)}function Hf(n,t,r){r="function"==typeof r?r:Y;var e=r?r(n,t):Y;return e===Y?Oe(n,t,Y,r):!!e}function Jf(n){if(!rc(n))return!1;var t=ve(n);return t==Mn||t==Dn||"string"==typeof n.message&&"string"==typeof n.name&&!lc(n)}function Yf(n){return"number"==typeof n&&Dl(n)}function Qf(n){if(!tc(n))return!1;var t=ve(n);return t==Fn||t==Nn||t==Bn||t==Vn}function Xf(n){return"number"==typeof n&&n==bc(n)}function nc(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=In}function tc(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)}function rc(n){return null!=n&&"object"==typeof n}function ec(n,t){return n===t||ze(n,t,di(t))}function uc(n,t,r){return r="function"==typeof r?r:Y,ze(n,t,di(t),r)}function ic(n){return ac(n)&&n!=+n}function oc(n){if(As(n))throw new tl(X);return Ee(n)}function fc(n){return null===n}function cc(n){return null==n}function ac(n){return"number"==typeof n||rc(n)&&ve(n)==qn}function lc(n){if(!rc(n)||ve(n)!=Kn)return!1;var t=Al(n);if(null===t)return!0;var r=pl.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&hl.call(r)==yl}function sc(n){return Xf(n)&&n>=-In&&n<=In}function hc(n){return"string"==typeof n||!ph(n)&&rc(n)&&ve(n)==Jn}function pc(n){return"symbol"==typeof n||rc(n)&&ve(n)==Yn}function _c(n){return n===Y}function vc(n){return rc(n)&&js(n)==Xn}function gc(n){return rc(n)&&ve(n)==nt}function yc(n){if(!n)return[];if(Pf(n))return hc(n)?V(n):Lu(n);if(zl&&n[zl])return $(n[zl]());var t=js(n);return(t==Pn?D:t==Hn?N:Jc)(n)}function dc(n){if(!n)return 0===n?n:0;if((n=mc(n))===On||n===-On){return(n<0?-1:1)*Rn}return n===n?n:0}function bc(n){var t=dc(n),r=t%1;return t===t?r?t-r:t:0}function wc(n){return n?Xr(bc(n),0,En):0}function mc(n){if("number"==typeof n)return n;if(pc(n))return zn;if(tc(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=tc(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(It,"");var r=$t.test(n);return r||Mt.test(n)?xr(n.slice(2),r?2:8):Tt.test(n)?zn:+n}function xc(n){return Wu(n,$c(n))}function jc(n){return n?Xr(bc(n),-In,In):0===n?n:0}function Ac(n){return null==n?"":lu(n)}function kc(n,t){var r=ls(n);return null==t?r:Hr(r,t)}function Oc(n,t){return v(n,gi(t,3),le)}function Ic(n,t){return v(n,gi(t,3),se)}function Rc(n,t){return null==n?n:ps(n,gi(t,3),$c)}function zc(n,t){return null==n?n:_s(n,gi(t,3),$c)}function Ec(n,t){return n&&le(n,gi(t,3))}function Sc(n,t){return n&&se(n,gi(t,3))}function Lc(n){return null==n?[]:he(n,Tc(n))}function Wc(n){return null==n?[]:he(n,$c(n))}function Cc(n,t,r){var e=null==n?Y:pe(n,t);return e===Y?r:e}function Uc(n,t){return null!=n&&ji(n,t,ye)}function Bc(n,t){return null!=n&&ji(n,t,de)}function Tc(n){return Pf(n)?Tr(n):Ue(n)}function $c(n){return Pf(n)?Tr(n,!0):Be(n)}function Dc(n,t){var r={};return t=gi(t,3),le(n,function(n,e,u){Yr(r,t(n,e,u),n)}),r}function Mc(n,t){var r={};return t=gi(t,3),le(n,function(n,e,u){Yr(r,e,t(n,e,u))}),r}function Fc(n,t){return Nc(n,zf(gi(t)))}function Nc(n,t){if(null==n)return{};var r=c(pi(n),function(n){return[n]});return t=gi(t),Ke(n,r,function(n,r){return t(n,r[0])})}function Pc(n,t,r){t=wu(t,n);var e=-1,u=t.length;for(u||(u=1,n=Y);++e<u;){var i=null==n?Y:n[Gi(t[e])];i===Y&&(e=u,i=r),n=Qf(i)?i.call(n):i}return n}function qc(n,t,r){return null==n?n:ru(n,t,r)}function Zc(n,t,r,e){return e="function"==typeof e?e:Y,null==n?n:ru(n,t,r,e)}function Kc(n,t,e){var u=ph(n),i=u||vh(n)||wh(n);if(t=gi(t,4),null==e){var o=n&&n.constructor;e=i?u?new o:[]:tc(n)&&Qf(o)?ls(Al(n)):{}}return(i?r:le)(n,function(n,r,u){return t(e,n,r,u)}),e}function Vc(n,t){return null==n||hu(n,t)}function Gc(n,t,r){return null==n?n:pu(n,t,bu(r))}function Hc(n,t,r,e){return e="function"==typeof e?e:Y,null==n?n:pu(n,t,bu(r),e)}function Jc(n){return null==n?[]:z(n,Tc(n))}function Yc(n){return null==n?[]:z(n,$c(n))}function Qc(n,t,r){return r===Y&&(r=t,t=Y),r!==Y&&(r=mc(r),r=r===r?r:0),t!==Y&&(t=mc(t),t=t===t?t:0),Xr(mc(n),t,r)}function Xc(n,t,r){return t=dc(t),r===Y?(r=t,t=0):r=dc(r),n=mc(n),be(n,t,r)}function na(n,t,r){if(r&&"boolean"!=typeof r&&Ei(n,t,r)&&(t=r=Y),r===Y&&("boolean"==typeof t?(r=t,t=Y):"boolean"==typeof n&&(r=n,n=Y)),n===Y&&t===Y?(n=0,t=1):(n=dc(n),t===Y?(t=n,n=0):t=dc(t)),n>t){var e=n;n=t,t=e}if(r||n%1||t%1){var u=Kl();return Pl(n+u*(t-n+mr("1e-"+((u+"").length-1))),t)}return Je(n,t)}function ta(n){return Kh(Ac(n).toLowerCase())}function ra(n){return(n=Ac(n))&&n.replace(Nt,$r).replace(cr,"")}function ea(n,t,r){n=Ac(n),t=lu(t);var e=n.length;r=r===Y?e:Xr(bc(r),0,e);var u=r;return(r-=t.length)>=0&&n.slice(r,u)==t}function ua(n){return n=Ac(n),n&&dt.test(n)?n.replace(gt,Dr):n}function ia(n){return n=Ac(n),n&&Ot.test(n)?n.replace(kt,"\\$&"):n}function oa(n,t,r){n=Ac(n),t=bc(t);var e=t?K(n):0;if(!t||e>=t)return n;var u=(t-e)/2;return Yu(Bl(u),r)+n+Yu(Ul(u),r)}function fa(n,t,r){n=Ac(n),t=bc(t);var e=t?K(n):0;return t&&e<t?n+Yu(t-e,r):n}function ca(n,t,r){n=Ac(n),t=bc(t);var e=t?K(n):0;return t&&e<t?Yu(t-e,r)+n:n}function aa(n,t,r){return r||null==t?t=0:t&&(t=+t),Zl(Ac(n).replace(Rt,""),t||0)}function la(n,t,r){return t=(r?Ei(n,t,r):t===Y)?1:bc(t),Qe(Ac(n),t)}function sa(){var n=arguments,t=Ac(n[0]);return n.length<3?t:t.replace(n[1],n[2])}function ha(n,t,r){return r&&"number"!=typeof r&&Ei(n,t,r)&&(t=r=Y),(r=r===Y?En:r>>>0)?(n=Ac(n),n&&("string"==typeof t||null!=t&&!dh(t))&&!(t=lu(t))&&B(n)?mu(V(n),0,r):n.split(t,r)):[]}function pa(n,t,r){return n=Ac(n),r=null==r?0:Xr(bc(r),0,n.length),t=lu(t),n.slice(r,r+t.length)==t}function _a(n,t,r){var e=q.templateSettings;r&&Ei(n,t,r)&&(t=Y),n=Ac(n),t=kh({},t,e,ii);var u,i,o=kh({},t.imports,e.imports,ii),f=Tc(o),c=z(o,f),a=0,l=t.interpolate||Pt,s="__p += '",h=il((t.escape||Pt).source+"|"+l.source+"|"+(l===mt?Ut:Pt).source+"|"+(t.evaluate||Pt).source+"|$","g"),p="//# sourceURL="+(pl.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++_r+"]")+"\n";n.replace(h,function(t,r,e,o,f,c){return e||(e=o),s+=n.slice(a,c).replace(qt,C),r&&(u=!0,s+="' +\n__e("+r+") +\n'"),f&&(i=!0,s+="';\n"+f+";\n__p += '"),e&&(s+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),a=c+t.length,t}),s+="';\n";var _=pl.call(t,"variable")&&t.variable;_||(s="with (obj) {\n"+s+"\n}\n"),s=(i?s.replace(ht,""):s).replace(pt,"$1").replace(_t,"$1;"),s="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+s+"return __p\n}";var v=Vh(function(){return rl(f,p+"return "+s).apply(Y,c)});if(v.source=s,Jf(v))throw v;return v}function va(n){return Ac(n).toLowerCase()}function ga(n){return Ac(n).toUpperCase()}function ya(n,t,r){if((n=Ac(n))&&(r||t===Y))return n.replace(It,"");if(!n||!(t=lu(t)))return n;var e=V(n),u=V(t);return mu(e,S(e,u),L(e,u)+1).join("")}function da(n,t,r){if((n=Ac(n))&&(r||t===Y))return n.replace(zt,"");if(!n||!(t=lu(t)))return n;var e=V(n);return mu(e,0,L(e,V(t))+1).join("")}function ba(n,t,r){if((n=Ac(n))&&(r||t===Y))return n.replace(Rt,"");if(!n||!(t=lu(t)))return n;var e=V(n);return mu(e,S(e,V(t))).join("")}function wa(n,t){var r=wn,e=mn;if(tc(t)){var u="separator"in t?t.separator:u;r="length"in t?bc(t.length):r,e="omission"in t?lu(t.omission):e}n=Ac(n);var i=n.length;if(B(n)){var o=V(n);i=o.length}if(r>=i)return n;var f=r-K(e);if(f<1)return e;var c=o?mu(o,0,f).join(""):n.slice(0,f);if(u===Y)return c+e;if(o&&(f+=c.length-f),dh(u)){if(n.slice(f).search(u)){var a,l=c;for(u.global||(u=il(u.source,Ac(Bt.exec(u))+"g")),u.lastIndex=0;a=u.exec(l);)var s=a.index;c=c.slice(0,s===Y?f:s)}}else if(n.indexOf(lu(u),f)!=f){var h=c.lastIndexOf(u);h>-1&&(c=c.slice(0,h))}return c+e}function ma(n){return n=Ac(n),n&&yt.test(n)?n.replace(vt,Mr):n}function xa(n,t,r){return n=Ac(n),t=r?Y:t,t===Y?T(n)?J(n):_(n):n.match(t)||[]}function ja(t){var r=null==t?0:t.length,e=gi();return t=r?c(t,function(n){if("function"!=typeof n[1])throw new fl(nn);return[e(n[0]),n[1]]}):[],Xe(function(e){for(var u=-1;++u<r;){var i=t[u];if(n(i[0],this,e))return n(i[1],this,e)}})}function Aa(n){return te(ne(n,un))}function ka(n){return function(){return n}}function Oa(n,t){return null==n||n!==n?t:n}function Ia(n){return n}function Ra(n){return Ce("function"==typeof n?n:ne(n,un))}function za(n){return De(ne(n,un))}function Ea(n,t){return Me(n,ne(t,un))}function Sa(n,t,e){var u=Tc(t),i=he(t,u);null!=e||tc(t)&&(i.length||!u.length)||(e=t,t=n,n=this,i=he(t,Tc(t)));var o=!(tc(e)&&"chain"in e&&!e.chain),f=Qf(n);return r(i,function(r){var e=t[r];n[r]=e,f&&(n.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=n(this.__wrapped__);return(r.__actions__=Lu(this.__actions__)).push({func:e,args:arguments,thisArg:n}),r.__chain__=t,r}return e.apply(n,a([this.value()],arguments))})}),n}function La(){return kr._===this&&(kr._=dl),this}function Wa(){}function Ca(n){return n=bc(n),Xe(function(t){return Pe(t,n)})}function Ua(n){return Si(n)?m(Gi(n)):Ve(n)}function Ba(n){return function(t){return null==n?Y:pe(n,t)}}function Ta(){return[]}function $a(){return!1}function Da(){return{}}function Ma(){return""}function Fa(){return!0}function Na(n,t){if((n=bc(n))<1||n>In)return[];var r=En,e=Pl(n,En);t=gi(t),n-=En;for(var u=O(e,t);++r<n;)t(r);return u}function Pa(n){return ph(n)?c(n,Gi):pc(n)?[n]:Lu(Rs(Ac(n)))}function qa(n){var t=++_l;return Ac(n)+t}function Za(n){return n&&n.length?oe(n,Ia,ge):Y}function Ka(n,t){return n&&n.length?oe(n,gi(t,2),ge):Y}function Va(n){return w(n,Ia)}function Ga(n,t){return w(n,gi(t,2))}function Ha(n){return n&&n.length?oe(n,Ia,Te):Y}function Ja(n,t){return n&&n.length?oe(n,gi(t,2),Te):Y}function Ya(n){return n&&n.length?k(n,Ia):0}function Qa(n,t){return n&&n.length?k(n,gi(t,2)):0}x=null==x?kr:Fr.defaults(kr.Object(),x,Fr.pick(kr,pr));var Xa=x.Array,nl=x.Date,tl=x.Error,rl=x.Function,el=x.Math,ul=x.Object,il=x.RegExp,ol=x.String,fl=x.TypeError,cl=Xa.prototype,al=rl.prototype,ll=ul.prototype,sl=x["__core-js_shared__"],hl=al.toString,pl=ll.hasOwnProperty,_l=0,vl=function(){var n=/[^.]+$/.exec(sl&&sl.keys&&sl.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),gl=ll.toString,yl=hl.call(ul),dl=kr._,bl=il("^"+hl.call(pl).replace(kt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wl=Rr?x.Buffer:Y,ml=x.Symbol,xl=x.Uint8Array,jl=wl?wl.allocUnsafe:Y,Al=M(ul.getPrototypeOf,ul),kl=ul.create,Ol=ll.propertyIsEnumerable,Il=cl.splice,Rl=ml?ml.isConcatSpreadable:Y,zl=ml?ml.iterator:Y,El=ml?ml.toStringTag:Y,Sl=function(){try{var n=bi(ul,"defineProperty");return n({},"",{}),n}catch(n){}}(),Ll=x.clearTimeout!==kr.clearTimeout&&x.clearTimeout,Wl=nl&&nl.now!==kr.Date.now&&nl.now,Cl=x.setTimeout!==kr.setTimeout&&x.setTimeout,Ul=el.ceil,Bl=el.floor,Tl=ul.getOwnPropertySymbols,$l=wl?wl.isBuffer:Y,Dl=x.isFinite,Ml=cl.join,Fl=M(ul.keys,ul),Nl=el.max,Pl=el.min,ql=nl.now,Zl=x.parseInt,Kl=el.random,Vl=cl.reverse,Gl=bi(x,"DataView"),Hl=bi(x,"Map"),Jl=bi(x,"Promise"),Yl=bi(x,"Set"),Ql=bi(x,"WeakMap"),Xl=bi(ul,"create"),ns=Ql&&new Ql,ts={},rs=Hi(Gl),es=Hi(Hl),us=Hi(Jl),is=Hi(Yl),os=Hi(Ql),fs=ml?ml.prototype:Y,cs=fs?fs.valueOf:Y,as=fs?fs.toString:Y,ls=function(){function n(){}return function(t){if(!tc(t))return{};if(kl)return kl(t);n.prototype=t;var r=new n;return n.prototype=Y,r}}();q.templateSettings={escape:bt,evaluate:wt,interpolate:mt,variable:"",imports:{_:q}},q.prototype=G.prototype,q.prototype.constructor=q,H.prototype=ls(G.prototype),H.prototype.constructor=H,Wt.prototype=ls(G.prototype),Wt.prototype.constructor=Wt,Gt.prototype.clear=Ht,Gt.prototype.delete=Jt,Gt.prototype.get=Yt,Gt.prototype.has=Qt,Gt.prototype.set=Xt,nr.prototype.clear=tr,nr.prototype.delete=rr,nr.prototype.get=er,nr.prototype.has=ur,nr.prototype.set=ir,or.prototype.clear=ar,or.prototype.delete=lr,or.prototype.get=sr,or.prototype.has=hr,or.prototype.set=yr,dr.prototype.add=dr.prototype.push=br,dr.prototype.has=wr,jr.prototype.clear=Ar,jr.prototype.delete=Or,jr.prototype.get=Ir,jr.prototype.has=zr,jr.prototype.set=Er;var ss=$u(le),hs=$u(se,!0),ps=Du(),_s=Du(!0),vs=ns?function(n,t){return ns.set(n,t),n}:Ia,gs=Sl?function(n,t){return Sl(n,"toString",{configurable:!0,enumerable:!1,value:ka(t),writable:!0})}:Ia,ys=Xe,ds=Ll||function(n){return kr.clearTimeout(n)},bs=Yl&&1/N(new Yl([,-0]))[1]==On?function(n){return new Yl(n)}:Wa,ws=ns?function(n){return ns.get(n)}:Wa,ms=Tl?function(n){return null==n?[]:(n=ul(n),i(Tl(n),function(t){return Ol.call(n,t)}))}:Ta,xs=Tl?function(n){for(var t=[];n;)a(t,ms(n)),n=Al(n);return t}:Ta,js=ve;(Gl&&js(new Gl(new ArrayBuffer(1)))!=rt||Hl&&js(new Hl)!=Pn||Jl&&"[object Promise]"!=js(Jl.resolve())||Yl&&js(new Yl)!=Hn||Ql&&js(new Ql)!=Xn)&&(js=function(n){var t=ve(n),r=t==Kn?n.constructor:Y,e=r?Hi(r):"";if(e)switch(e){case rs:return rt;case es:return Pn;case us:return"[object Promise]";case is:return Hn;case os:return Xn}return t});var As=sl?Qf:$a,ks=Ki(vs),Os=Cl||function(n,t){return kr.setTimeout(n,t)},Is=Ki(gs),Rs=function(n){var t=Rf(n,function(n){return r.size===rn&&r.clear(),n}),r=t.cache;return t}(function(n){var t=[];return 46===n.charCodeAt(0)&&t.push(""),n.replace(At,function(n,r,e,u){t.push(e?u.replace(Ct,"$1"):r||n)}),t}),zs=Xe(function(n,t){return qf(n)?ue(n,ae(t,1,qf,!0)):[]}),Es=Xe(function(n,t){var r=go(t);return qf(r)&&(r=Y),qf(n)?ue(n,ae(t,1,qf,!0),gi(r,2)):[]}),Ss=Xe(function(n,t){var r=go(t);return qf(r)&&(r=Y),qf(n)?ue(n,ae(t,1,qf,!0),Y,r):[]}),Ls=Xe(function(n){var t=c(n,du);return t.length&&t[0]===n[0]?we(t):[]}),Ws=Xe(function(n){var t=go(n),r=c(n,du);return t===go(r)?t=Y:r.pop(),r.length&&r[0]===n[0]?we(r,gi(t,2)):[]}),Cs=Xe(function(n){var t=go(n),r=c(n,du);return t="function"==typeof t?t:Y,t&&r.pop(),r.length&&r[0]===n[0]?we(r,Y,t):[]}),Us=Xe(wo),Bs=si(function(n,t){var r=null==n?0:n.length,e=Qr(n,t);return He(n,c(t,function(n){return zi(n,r)?+n:n}).sort(Ru)),e}),Ts=Xe(function(n){return su(ae(n,1,qf,!0))}),$s=Xe(function(n){var t=go(n);return qf(t)&&(t=Y),su(ae(n,1,qf,!0),gi(t,2))}),Ds=Xe(function(n){var t=go(n);return t="function"==typeof t?t:Y,su(ae(n,1,qf,!0),Y,t)}),Ms=Xe(function(n,t){return qf(n)?ue(n,t):[]}),Fs=Xe(function(n){return gu(i(n,qf))}),Ns=Xe(function(n){var t=go(n);return qf(t)&&(t=Y),gu(i(n,qf),gi(t,2))}),Ps=Xe(function(n){var t=go(n);return t="function"==typeof t?t:Y,gu(i(n,qf),Y,t)}),qs=Xe(No),Zs=Xe(function(n){var t=n.length,r=t>1?n[t-1]:Y;return r="function"==typeof r?(n.pop(),r):Y,Po(n,r)}),Ks=si(function(n){var t=n.length,r=t?n[0]:0,e=this.__wrapped__,u=function(t){return Qr(t,n)};return!(t>1||this.__actions__.length)&&e instanceof Wt&&zi(r)?(e=e.slice(r,+r+(t?1:0)),e.__actions__.push({func:Go,args:[u],thisArg:Y}),new H(e,this.__chain__).thru(function(n){return t&&!n.length&&n.push(Y),n})):this.thru(u)}),Vs=Bu(function(n,t,r){pl.call(n,r)?++n[r]:Yr(n,r,1)}),Gs=Zu(oo),Hs=Zu(fo),Js=Bu(function(n,t,r){pl.call(n,r)?n[r].push(t):Yr(n,r,[t])}),Ys=Xe(function(t,r,e){var u=-1,i="function"==typeof r,o=Pf(t)?Xa(t.length):[];return ss(t,function(t){o[++u]=i?n(r,t,e):xe(t,r,e)}),o}),Qs=Bu(function(n,t,r){Yr(n,r,t)}),Xs=Bu(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),nh=Xe(function(n,t){if(null==n)return[];var r=t.length;return r>1&&Ei(n,t[0],t[1])?t=[]:r>2&&Ei(t[0],t[1],t[2])&&(t=[t[0]]),qe(n,ae(t,1),[])}),th=Wl||function(){return kr.Date.now()},rh=Xe(function(n,t,r){var e=ln;if(r.length){var u=F(r,vi(rh));e|=vn}return ui(n,e,t,r,u)}),eh=Xe(function(n,t,r){var e=ln|sn;if(r.length){var u=F(r,vi(eh));e|=vn}return ui(t,e,n,r,u)}),uh=Xe(function(n,t){return ee(n,1,t)}),ih=Xe(function(n,t,r){return ee(n,mc(t)||0,r)});Rf.Cache=or;var oh=ys(function(t,r){r=1==r.length&&ph(r[0])?c(r[0],R(gi())):c(ae(r,1),R(gi()));var e=r.length;return Xe(function(u){for(var i=-1,o=Pl(u.length,e);++i<o;)u[i]=r[i].call(this,u[i]);return n(t,this,u)})}),fh=Xe(function(n,t){var r=F(t,vi(fh));return ui(n,vn,Y,t,r)}),ch=Xe(function(n,t){var r=F(t,vi(ch));return ui(n,gn,Y,t,r)}),ah=si(function(n,t){return ui(n,dn,Y,Y,Y,t)}),lh=ni(ge),sh=ni(function(n,t){return n>=t}),hh=je(function(){return arguments}())?je:function(n){return rc(n)&&pl.call(n,"callee")&&!Ol.call(n,"callee")},ph=Xa.isArray,_h=Sr?R(Sr):Ae,vh=$l||$a,gh=Lr?R(Lr):ke,yh=Wr?R(Wr):Re,dh=Cr?R(Cr):Se,bh=Ur?R(Ur):Le,wh=Br?R(Br):We,mh=ni(Te),xh=ni(function(n,t){return n<=t}),jh=Tu(function(n,t){if(Ui(t)||Pf(t))return void Wu(t,Tc(t),n);for(var r in t)pl.call(t,r)&&Kr(n,r,t[r])}),Ah=Tu(function(n,t){Wu(t,$c(t),n)}),kh=Tu(function(n,t,r,e){Wu(t,$c(t),n,e)}),Oh=Tu(function(n,t,r,e){Wu(t,Tc(t),n,e)}),Ih=si(Qr),Rh=Xe(function(n,t){n=ul(n);var r=-1,e=t.length,u=e>2?t[2]:Y;for(u&&Ei(t[0],t[1],u)&&(e=1);++r<e;)for(var i=t[r],o=$c(i),f=-1,c=o.length;++f<c;){var a=o[f],l=n[a];(l===Y||Nf(l,ll[a])&&!pl.call(n,a))&&(n[a]=i[a])}return n}),zh=Xe(function(t){return t.push(Y,oi),n(Ch,Y,t)}),Eh=Gu(function(n,t,r){null!=t&&"function"!=typeof t.toString&&(t=gl.call(t)),n[t]=r},ka(Ia)),Sh=Gu(function(n,t,r){null!=t&&"function"!=typeof t.toString&&(t=gl.call(t)),pl.call(n,t)?n[t].push(r):n[t]=[r]},gi),Lh=Xe(xe),Wh=Tu(function(n,t,r){Fe(n,t,r)}),Ch=Tu(function(n,t,r,e){Fe(n,t,r,e)}),Uh=si(function(n,t){var r={};if(null==n)return r;var e=!1;t=c(t,function(t){return t=wu(t,n),e||(e=t.length>1),t}),Wu(n,pi(n),r),e&&(r=ne(r,un|on|fn,fi));for(var u=t.length;u--;)hu(r,t[u]);return r}),Bh=si(function(n,t){return null==n?{}:Ze(n,t)}),Th=ei(Tc),$h=ei($c),Dh=Nu(function(n,t,r){return t=t.toLowerCase(),n+(r?ta(t):t)}),Mh=Nu(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Fh=Nu(function(n,t,r){return n+(r?" ":"")+t.toLowerCase()}),Nh=Fu("toLowerCase"),Ph=Nu(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),qh=Nu(function(n,t,r){return n+(r?" ":"")+Kh(t)}),Zh=Nu(function(n,t,r){return n+(r?" ":"")+t.toUpperCase()}),Kh=Fu("toUpperCase"),Vh=Xe(function(t,r){try{return n(t,Y,r)}catch(n){return Jf(n)?n:new tl(n)}}),Gh=si(function(n,t){return r(t,function(t){t=Gi(t),Yr(n,t,rh(n[t],n))}),n}),Hh=Ku(),Jh=Ku(!0),Yh=Xe(function(n,t){return function(r){return xe(r,n,t)}}),Qh=Xe(function(n,t){return function(r){
return xe(n,r,t)}}),Xh=Ju(c),np=Ju(u),tp=Ju(h),rp=Xu(),ep=Xu(!0),up=Hu(function(n,t){return n+t},0),ip=ri("ceil"),op=Hu(function(n,t){return n/t},1),fp=ri("floor"),cp=Hu(function(n,t){return n*t},1),ap=ri("round"),lp=Hu(function(n,t){return n-t},0);return q.after=mf,q.ary=xf,q.assign=jh,q.assignIn=Ah,q.assignInWith=kh,q.assignWith=Oh,q.at=Ih,q.before=jf,q.bind=rh,q.bindAll=Gh,q.bindKey=eh,q.castArray=Bf,q.chain=Ko,q.chunk=Qi,q.compact=Xi,q.concat=no,q.cond=ja,q.conforms=Aa,q.constant=ka,q.countBy=Vs,q.create=kc,q.curry=Af,q.curryRight=kf,q.debounce=Of,q.defaults=Rh,q.defaultsDeep=zh,q.defer=uh,q.delay=ih,q.difference=zs,q.differenceBy=Es,q.differenceWith=Ss,q.drop=to,q.dropRight=ro,q.dropRightWhile=eo,q.dropWhile=uo,q.fill=io,q.filter=ef,q.flatMap=uf,q.flatMapDeep=of,q.flatMapDepth=ff,q.flatten=co,q.flattenDeep=ao,q.flattenDepth=lo,q.flip=If,q.flow=Hh,q.flowRight=Jh,q.fromPairs=so,q.functions=Lc,q.functionsIn=Wc,q.groupBy=Js,q.initial=_o,q.intersection=Ls,q.intersectionBy=Ws,q.intersectionWith=Cs,q.invert=Eh,q.invertBy=Sh,q.invokeMap=Ys,q.iteratee=Ra,q.keyBy=Qs,q.keys=Tc,q.keysIn=$c,q.map=sf,q.mapKeys=Dc,q.mapValues=Mc,q.matches=za,q.matchesProperty=Ea,q.memoize=Rf,q.merge=Wh,q.mergeWith=Ch,q.method=Yh,q.methodOf=Qh,q.mixin=Sa,q.negate=zf,q.nthArg=Ca,q.omit=Uh,q.omitBy=Fc,q.once=Ef,q.orderBy=hf,q.over=Xh,q.overArgs=oh,q.overEvery=np,q.overSome=tp,q.partial=fh,q.partialRight=ch,q.partition=Xs,q.pick=Bh,q.pickBy=Nc,q.property=Ua,q.propertyOf=Ba,q.pull=Us,q.pullAll=wo,q.pullAllBy=mo,q.pullAllWith=xo,q.pullAt=Bs,q.range=rp,q.rangeRight=ep,q.rearg=ah,q.reject=vf,q.remove=jo,q.rest=Sf,q.reverse=Ao,q.sampleSize=yf,q.set=qc,q.setWith=Zc,q.shuffle=df,q.slice=ko,q.sortBy=nh,q.sortedUniq=Lo,q.sortedUniqBy=Wo,q.split=ha,q.spread=Lf,q.tail=Co,q.take=Uo,q.takeRight=Bo,q.takeRightWhile=To,q.takeWhile=$o,q.tap=Vo,q.throttle=Wf,q.thru=Go,q.toArray=yc,q.toPairs=Th,q.toPairsIn=$h,q.toPath=Pa,q.toPlainObject=xc,q.transform=Kc,q.unary=Cf,q.union=Ts,q.unionBy=$s,q.unionWith=Ds,q.uniq=Do,q.uniqBy=Mo,q.uniqWith=Fo,q.unset=Vc,q.unzip=No,q.unzipWith=Po,q.update=Gc,q.updateWith=Hc,q.values=Jc,q.valuesIn=Yc,q.without=Ms,q.words=xa,q.wrap=Uf,q.xor=Fs,q.xorBy=Ns,q.xorWith=Ps,q.zip=qs,q.zipObject=qo,q.zipObjectDeep=Zo,q.zipWith=Zs,q.entries=Th,q.entriesIn=$h,q.extend=Ah,q.extendWith=kh,Sa(q,q),q.add=up,q.attempt=Vh,q.camelCase=Dh,q.capitalize=ta,q.ceil=ip,q.clamp=Qc,q.clone=Tf,q.cloneDeep=Df,q.cloneDeepWith=Mf,q.cloneWith=$f,q.conformsTo=Ff,q.deburr=ra,q.defaultTo=Oa,q.divide=op,q.endsWith=ea,q.eq=Nf,q.escape=ua,q.escapeRegExp=ia,q.every=rf,q.find=Gs,q.findIndex=oo,q.findKey=Oc,q.findLast=Hs,q.findLastIndex=fo,q.findLastKey=Ic,q.floor=fp,q.forEach=cf,q.forEachRight=af,q.forIn=Rc,q.forInRight=zc,q.forOwn=Ec,q.forOwnRight=Sc,q.get=Cc,q.gt=lh,q.gte=sh,q.has=Uc,q.hasIn=Bc,q.head=ho,q.identity=Ia,q.includes=lf,q.indexOf=po,q.inRange=Xc,q.invoke=Lh,q.isArguments=hh,q.isArray=ph,q.isArrayBuffer=_h,q.isArrayLike=Pf,q.isArrayLikeObject=qf,q.isBoolean=Zf,q.isBuffer=vh,q.isDate=gh,q.isElement=Kf,q.isEmpty=Vf,q.isEqual=Gf,q.isEqualWith=Hf,q.isError=Jf,q.isFinite=Yf,q.isFunction=Qf,q.isInteger=Xf,q.isLength=nc,q.isMap=yh,q.isMatch=ec,q.isMatchWith=uc,q.isNaN=ic,q.isNative=oc,q.isNil=cc,q.isNull=fc,q.isNumber=ac,q.isObject=tc,q.isObjectLike=rc,q.isPlainObject=lc,q.isRegExp=dh,q.isSafeInteger=sc,q.isSet=bh,q.isString=hc,q.isSymbol=pc,q.isTypedArray=wh,q.isUndefined=_c,q.isWeakMap=vc,q.isWeakSet=gc,q.join=vo,q.kebabCase=Mh,q.last=go,q.lastIndexOf=yo,q.lowerCase=Fh,q.lowerFirst=Nh,q.lt=mh,q.lte=xh,q.max=Za,q.maxBy=Ka,q.mean=Va,q.meanBy=Ga,q.min=Ha,q.minBy=Ja,q.stubArray=Ta,q.stubFalse=$a,q.stubObject=Da,q.stubString=Ma,q.stubTrue=Fa,q.multiply=cp,q.nth=bo,q.noConflict=La,q.noop=Wa,q.now=th,q.pad=oa,q.padEnd=fa,q.padStart=ca,q.parseInt=aa,q.random=na,q.reduce=pf,q.reduceRight=_f,q.repeat=la,q.replace=sa,q.result=Pc,q.round=ap,q.runInContext=p,q.sample=gf,q.size=bf,q.snakeCase=Ph,q.some=wf,q.sortedIndex=Oo,q.sortedIndexBy=Io,q.sortedIndexOf=Ro,q.sortedLastIndex=zo,q.sortedLastIndexBy=Eo,q.sortedLastIndexOf=So,q.startCase=qh,q.startsWith=pa,q.subtract=lp,q.sum=Ya,q.sumBy=Qa,q.template=_a,q.times=Na,q.toFinite=dc,q.toInteger=bc,q.toLength=wc,q.toLower=va,q.toNumber=mc,q.toSafeInteger=jc,q.toString=Ac,q.toUpper=ga,q.trim=ya,q.trimEnd=da,q.trimStart=ba,q.truncate=wa,q.unescape=ma,q.uniqueId=qa,q.upperCase=Zh,q.upperFirst=Kh,q.each=cf,q.eachRight=af,q.first=ho,Sa(q,function(){var n={};return le(q,function(t,r){pl.call(q.prototype,r)||(n[r]=t)}),n}(),{chain:!1}),q.VERSION="4.17.15",r(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){q[n].placeholder=q}),r(["drop","take"],function(n,t){Wt.prototype[n]=function(r){r=r===Y?1:Nl(bc(r),0);var e=this.__filtered__&&!t?new Wt(this):this.clone();return e.__filtered__?e.__takeCount__=Pl(r,e.__takeCount__):e.__views__.push({size:Pl(r,En),type:n+(e.__dir__<0?"Right":"")}),e},Wt.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),r(["filter","map","takeWhile"],function(n,t){var r=t+1,e=r==An||3==r;Wt.prototype[n]=function(n){var t=this.clone();return t.__iteratees__.push({iteratee:gi(n,3),type:r}),t.__filtered__=t.__filtered__||e,t}}),r(["head","last"],function(n,t){var r="take"+(t?"Right":"");Wt.prototype[n]=function(){return this[r](1).value()[0]}}),r(["initial","tail"],function(n,t){var r="drop"+(t?"":"Right");Wt.prototype[n]=function(){return this.__filtered__?new Wt(this):this[r](1)}}),Wt.prototype.compact=function(){return this.filter(Ia)},Wt.prototype.find=function(n){return this.filter(n).head()},Wt.prototype.findLast=function(n){return this.reverse().find(n)},Wt.prototype.invokeMap=Xe(function(n,t){return"function"==typeof n?new Wt(this):this.map(function(r){return xe(r,n,t)})}),Wt.prototype.reject=function(n){return this.filter(zf(gi(n)))},Wt.prototype.slice=function(n,t){n=bc(n);var r=this;return r.__filtered__&&(n>0||t<0)?new Wt(r):(n<0?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==Y&&(t=bc(t),r=t<0?r.dropRight(-t):r.take(t-n)),r)},Wt.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Wt.prototype.toArray=function(){return this.take(En)},le(Wt.prototype,function(n,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),e=/^(?:head|last)$/.test(t),u=q[e?"take"+("last"==t?"Right":""):t],i=e||/^find/.test(t);u&&(q.prototype[t]=function(){var t=this.__wrapped__,o=e?[1]:arguments,f=t instanceof Wt,c=o[0],l=f||ph(t),s=function(n){var t=u.apply(q,a([n],o));return e&&h?t[0]:t};l&&r&&"function"==typeof c&&1!=c.length&&(f=l=!1);var h=this.__chain__,p=!!this.__actions__.length,_=i&&!h,v=f&&!p;if(!i&&l){t=v?t:new Wt(this);var g=n.apply(t,o);return g.__actions__.push({func:Go,args:[s],thisArg:Y}),new H(g,h)}return _&&v?n.apply(this,o):(g=this.thru(s),_?e?g.value()[0]:g.value():g)})}),r(["pop","push","shift","sort","splice","unshift"],function(n){var t=cl[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:pop|shift)$/.test(n);q.prototype[n]=function(){var n=arguments;if(e&&!this.__chain__){var u=this.value();return t.apply(ph(u)?u:[],n)}return this[r](function(r){return t.apply(ph(r)?r:[],n)})}}),le(Wt.prototype,function(n,t){var r=q[t];if(r){var e=r.name+"";pl.call(ts,e)||(ts[e]=[]),ts[e].push({name:t,func:r})}}),ts[Vu(Y,sn).name]=[{name:"wrapper",func:Y}],Wt.prototype.clone=Zt,Wt.prototype.reverse=Kt,Wt.prototype.value=Vt,q.prototype.at=Ks,q.prototype.chain=Ho,q.prototype.commit=Jo,q.prototype.next=Yo,q.prototype.plant=Xo,q.prototype.reverse=nf,q.prototype.toJSON=q.prototype.valueOf=q.prototype.value=tf,q.prototype.first=q.prototype.head,zl&&(q.prototype[zl]=Qo),q}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(kr._=Fr,define(function(){return Fr})):Ir?((Ir.exports=Fr)._=Fr,Or._=Fr):kr._=Fr}).call(this);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],110:[function(require,module,exports){
function parse(e){if(e=String(e),!(e.length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(r){var a=parseFloat(r[1]);switch((r[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*y;case"days":case"day":case"d":return a*d;case"hours":case"hour":case"hrs":case"hr":case"h":return a*h;case"minutes":case"minute":case"mins":case"min":case"m":return a*m;case"seconds":case"second":case"secs":case"sec":case"s":return a*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function fmtShort(e){return e>=d?Math.round(e/d)+"d":e>=h?Math.round(e/h)+"h":e>=m?Math.round(e/m)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function fmtLong(e){return plural(e,d,"day")||plural(e,h,"hour")||plural(e,m,"minute")||plural(e,s,"second")||e+" ms"}function plural(s,e,r){if(!(s<e))return s<1.5*e?Math.floor(s/e)+" "+r:Math.ceil(s/e)+" "+r+"s"}var s=1e3,m=60*s,h=60*m,d=24*h,y=365.25*d;module.exports=function(s,e){e=e||{};var r=typeof s;if("string"===r&&s.length>0)return parse(s);if("number"===r&&!1===isNaN(s))return e.long?fmtLong(s):fmtShort(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))};
},{}],111:[function(require,module,exports){
"use strict";var commonConfig=function(){this.config={controllerActivateSuccessEvent:"ControllerActivateSuccess",demoModelLocation:{organisation:"mike-goodwin",repo:"owasp-threat-dragon-demo",branch:"master",model:"Demo Threat Model"}},this.$get=function(){return{config:this.config}}},common=function(o,n,t,e){function c(n,e){return o.all(n).then(function(o){var n={controllerId:e};r(t.config.controllerActivateSuccessEvent,n)})}function r(){return n.$broadcast.apply(n,arguments)}return{$broadcast:r,activateController:c,logger:e}};module.exports={commonModule:common,commonConfig:commonConfig};
},{}],112:[function(require,module,exports){
"use strict";var commonModule=angular.module("common",[]);commonModule.provider("commonConfig",[require("./common").commonConfig]),commonModule.factory("common",["$q","$rootScope","commonConfig","logger",require("./common").commonModule]),commonModule.factory("logger",["$log",require("./logger")]);
},{"./common":111,"./logger":113}],113:[function(require,module,exports){
"use strict";function logger(r){function o(r,o){switch(o=o||"log",o.toLowerCase()){case"success":o="logSuccess";break;case"error":o="logError";break;case"warn":case"warning":o="logWarning"}var n=a[o]||a.log;return function(o,s,e){n(o,s,r,void 0===e||e)}}function n(r,o,n,s){c(r,o,n,s,"info")}function s(r,o,n,s){c(r,o,n,s,"warning")}function e(r,o,n,s){c(r,o,n,s,"success")}function t(r,o,n,s){c(r,o,n,s,"error")}function c(o,n,s,e,t){var c="error"===t?r.error:r.log;s=s?"["+s+"] ":"",c(s,o,n),e&&("error"===t?toastr.error(o):"warning"===t?toastr.warning(o):"success"===t?toastr.success(o):toastr.info(o))}var a={getLogFn:o,log:n,logError:t,logSuccess:e,logWarning:s};return a}var toastr=require("toastr");module.exports=logger;
},{"toastr":137}],114:[function(require,module,exports){
"use strict";var core=angular.module("owasp-threat-dragon-core"),toastr=require("toastr");toastr.options.timeOut=1e3,toastr.options.positionClass="toast-bottom-right";var events={controllerActivateSuccess:"controller.activateSuccess"},config={appErrorPrefix:"[Error] ",docTitle:"Threat Dragon: ",events:events,version:"0.4.0"};core.value("config",config),core.config(["$logProvider",function(o){o.debugEnabled(!1)}]),core.config(["commonConfigProvider",function(o){o.config.controllerActivateSuccessEvent=config.events.controllerActivateSuccess}]);
},{"toastr":137}],115:[function(require,module,exports){
"use strict";function diagram(e,t,r,n,a,i,o,c,l,u,d,s){function g(){var e={diagramJson:{cells:R.graph.getCells()}};if(!_.isUndefined(R.currentDiagram.options)&&!_.isUndefined(R.currentDiagram.options.height)&&!_.isUndefined(R.currentDiagram.options.width)){var t={height:R.currentDiagram.options.height,width:R.currentDiagram.options.width};e.size=t}c.saveThreatModelDiagram(R.diagramId,e).then(m)}function m(){R.dirty=!1,A()}function h(e,t){function r(e){if(_.isUndefined(e.diagramJson)||(R.graph.initialise(e.diagramJson),R.graph.getCells().forEach(M)),_.isUndefined(e.size)||R.currentDiagram.resize(e.size),R.graph.on("remove",Z),A(),R.diagram=e,R.dirty=!1,n.element){var t=R.graph.getCellById(n.element);z(t),R.currentDiagram.setSelected(t),a(function(){R.viewStencil=!1,R.viewThreats=!0})}R.loaded=!0}R.currentDiagram=e;var i=d.getModelLocation(n);c.load(i,t).then(function(e){r(e.detail.diagrams[R.diagramId])},D)}function f(){R.dirty&&R.graph.cellCount()>0?i.confirm("diagrams/confirmReloadOnDirty.html",function(){R.initialise(R.currentDiagram,!0)}):R.initialise(R.currentDiagram,!0)}function p(){R.graph.clearAll(),R.currentDiagram.resize({height:"590",width:"790"})}function v(){R.currentZoomLevel<R.maxZoom&&(R.currentZoomLevel++,R.currentDiagram.zoom(R.currentZoomLevel))}function y(){R.currentZoomLevel>-R.maxZoom&&(R.currentZoomLevel--,R.currentDiagram.zoom(R.currentZoomLevel))}function w(){R.showGrid?(R.currentDiagram.setGridSize(Q),R.currentDiagram.drawGrid()):(R.currentDiagram.clearGrid(),R.currentDiagram.setGridSize(W))}function D(e){R.errored=!0,H(e)}function b(){R.dirty=!0}function C(){return d.getModelPathFromRouteParams(n)}function E(){R.selected&&l.generateForElement(R.selected).then(S)}function x(){if(R.selected){var e=R.cloneElement(R.selected),t="";if("tm.Flow"!=e.attributes.type&&"tm.Boundary"!=e.attributes.type?t="Copy of "+e.attributes.attrs.text.text:void 0!==e.attributes.labels&&(t="Copy of "+e.attributes.labels[0].attrs.text.text),"tm.Flow"==e.attributes.type||"tm.Boundary"==e.attributes.type)e.attributes.source={x:30,y:20},e.attributes.target={x:110,y:100},""!=t&&(e.attributes.labels[0].attrs.text.text=t),delete e.attributes.vertices;else{var r=e.attributes.size.height+20;e.attributes.position.y+=r,e.attributes.attrs.text.text=t}var n={diagramJson:{cells:R.graph.getCells()}};R.graph.initialise(n.diagramJson)}}function S(e){function t(){l.length>0&&(o=l.shift(),i.confirm("diagrams/ThreatEditPane.html",r,function(){return{heading:"Add this threat?",threat:o,editing:!1,threatIndex:c-l.length,threatTotal:c}},n,"fade-right"))}function r(e){R.dirty=!0,_.isUndefined(R.selected.threats)&&(R.selected.threats=[]),R.selected.threats.push(o),e?l.forEach(function(e){R.selected.threats.push(e)}):a(t,500)}function n(e){e||a(t,500)}var o,c=e.length,l=e;t()}function $(){var e=null,t=n.element;t&&(e=R.graph.getCellById(t)),R.selected=e,"function"!=typeof R.currentDiagram.setSelected&&"object"!=typeof R.currentDiagram.setSelected||R.currentDiagram.setSelected(e)}function z(e){R.selected=e}function T(e){var t=null;e&&(t=e.id),r.search("element",t),K.$apply()}function Z(e,t,n){R.dirty=!0,R.selected=null,U(e),r.search("element",null),n.clear||K.$apply()}function F(){return M(R.graph.addProcess())}function L(){return M(R.graph.addStore())}function B(){return M(R.graph.addActor())}function G(e,t){return M(R.graph.addFlow(e,t))}function I(){return R.graph.addBoundary()}function P(e){return M(R.graph.duplicateElement(e))}function A(){function e(){R.dirty=!0,R.graph.off("change add",e)}R.graph.on("change add",e)}function M(e){return N[e.id]=K.$watch('{ element: "'+e.id+'", threats: vm.graph.getCell("'+e.id+'").threats}',function(e){var t=R.graph.getCell(e.element);e.threats?t.hasOpenThreats=e.threats.some(function(e){return"Open"===e.status}):t.hasOpenThreats=!1},!0),e}function U(e){N[e.id]&&(N[e.id](),N.splice(e.id,1))}function J(e,r){R.currentDiagram.el===t[0].activeElement&&T(null)}function O(e,r){R.currentDiagram.el===t[0].activeElement&&R.selected&&(R.copied=R.selected)}function V(e,r){R.currentDiagram.el===t[0].activeElement&&R.copied&&(R.select(R.copied),R.duplicateElement())}var R=this,j="diagram",q=o.logger.getLogFn,k=q(j),H=q(j,"error"),K=e,N=[],Q=10,W=1;R.errored=!1,R.title="ThreatModelDiagram",R.initialise=h,R.dirty=!1,R.graph=u.newGraph(),R.newProcess=F,R.newStore=L,R.newFlow=G,R.newActor=B,R.newBoundary=I,R.cloneElement=P,R.getThreatModelPath=C,R.select=T,R.edit=b,R.generateThreats=E,R.duplicateElement=x,R.setGrid=w,R.showGrid=!1,R.selected=null,R.copied=null,R.viewStencil=!0,R.viewThreats=!1,R.stencils=function(){return[{shape:{getElement:function(){return new u.Process},label:"Process"},action:F},{shape:{getElement:function(){return new u.Store},label:"Store"},action:L},{shape:{getElement:function(){return new u.Actor},label:"Actor"},action:B},{shape:{getElement:function(){return new u.Flow},label:"Data Flow"},action:G},{shape:{getElement:function(){return new u.Boundary},label:"Trust\nBoundary"},action:I}]}(),R.zoomIn=v,R.zoomOut=y,R.reload=f,R.save=g,e.$parent.$parent&&(e.$parent.$parent.vm.saveDiagram=R.save),R.clear=p,R.currentDiagram={},R.diagramId=n.diagramId,R.currentZoomLevel=0,R.maxZoom=4,s("Escape",J),s("Cmd+C, Ctrl+C",O),s("Cmd+V, Ctrl+V",V),e.$on("$locationChangeStart",function(e,t,r){var n=t.split("?")[0],a=r.split("?")[0];R.dirty&&n!=a&&i.structuredExit(e,function(){},function(){R.dirty=!1})}),e.$on("$locationChangeSuccess",function(e,t,r){$()}),e.$on("$destroy",function(){s.unbind("Escape"),s.unbind("Cmd+C","Ctrl+C"),s.unbind("Cmd+V","Ctrl+V")}),function(){o.activateController([],j).then(function(){k("Activated Threat Model Diagram View")})}()}var _=require("lodash");module.exports=diagram;
},{"lodash":109}],116:[function(require,module,exports){
"use strict";var $=require("jquery"),stencil=function(e){function t(t,o){angular.isUndefined(t.scale)&&(t.scale=1),angular.isUndefined(t.padding)&&(t.padding=0);var r,a=e.newGraph(),l=t.shape.getElement();r=l.isLink()?i(l,t.shape.label,o,t.scale,t.padding,a):n(l,t.shape.label,o,t.scale,t.padding,a),r.on("cell:pointerclick",t.action);var s="Add a new "+t.shape.label+" to the model";l.attr({".tooltip":{text:s}}),a.addCell(l)}function i(t,i,n,o,r,a){var l=$(n).parent("div").width();return t.attributes.source={x:(1-o)*l+r,y:r},t.attributes.target={x:o*l-r,y:.5*o*l-r},t.setLabel(i),e.newDiagram(.5*l+2*r,l,1,a,n[0],!1)}function n(t,i,n,o,r,a){var l=$(n).parent("div").width();t.resize(t.get("size").width*o,t.get("size").height*o);var s=t.get("size").height;return t.translate(.5*(l-t.get("size").width),r),t.attr("text/text",i),e.newDiagram(s+2*r,l,1,a,n[0],!1)}return{link:t,restrict:"E",scope:{shape:"=",action:"&",padding:"=?",scale:"=?"}}},diagram=function(e,t){function i(e,i){$(i).parent().height(e.height);var a=t.newDiagram(e.height-10,e.width-10,e.gridSize,e.graph,i[0],e.interactive);s=e.select,e.graph.on("add",function(e){e.translate($(i).parent().scrollLeft(),$(i).parent().scrollTop())}),a.on("cell:pointerclick",function(t){t.model.isLink()||("linkFrom"===t._action?n(t):"removeLinkFrom"===t._action?o(t):(l&&!l.model.isLink()&&l.linkFrom&&(e.newFlow({source:l.model,target:t.model}),o(l)),r(t)))}),a.on("blank:pointerclick",function(){l&&!l.model.isLink()&&o(l),r(null)}),a.on("link:options",function(e,t){l&&!l.model.isLink()&&o(l),r(e)}),a.on("cell:pointermove",function(t,n,o,r){var l=!1,s=o,d=r,c=t.model.attributes.size.width,p=t.model.attributes.size.height,h=o,g=r,u=t.getBBox();"tm.Flow"!=t.model.attributes.type&&"tm.Boundary"!=t.model.attributes.type&&(h=u.x,g=u.y),h<=0&&(s=o+e.gridSize,l=!0,h=0),h+c>=a.options.width&&(a.setDimensions(h+c,a.options.height),$(i).parent().scrollLeft(a.options.width-e.width)),h<=$(i).parent().scrollLeft()&&$(i).parent().scrollLeft(h),h+c-$(i).parent().scrollLeft()>=$(i).parent().width()&&h+c<a.options.width&&$(i).parent().scrollLeft(h+c-$(i).parent().width()),g<=0&&(d=r+e.gridSize,l=!0,g=0),g+p>=a.options.height&&(a.setDimensions(a.options.width,g+p),$(i).parent().scrollTop(a.options.height-e.height)),g<=$(i).parent().scrollTop()&&$(i).parent().scrollTop(g),g+p-$(i).parent().scrollTop()>=$(i).parent().height()&&g+p<a.options.height&&$(i).parent().scrollTop(g+p-$(i).parent().height()),l&&t.pointermove(n,s,d)}),a.setSelected=function(e){if(l&&l.setUnselected(),e){var t=a.findViewByModel(e);t&&(t.setSelected(),l=t)}else l=null},e.initialiseGraph({diagram:a})}function n(e){e.addLinkFrom(),c("Select another model element to add a data flow")}function o(e){e.removeLinkFrom()}function r(e){var t=null;e&&(t=e.model),s({element:t})}var a={link:i,restrict:"E",scope:{height:"=",width:"=",gridSize:"=",graph:"=",select:"&",newFlow:"&",initialiseGraph:"&",interactive:"="}},l=null,s=null,d=e.logger.getLogFn,c=d();return a};module.exports={stencil:stencil,diagram:diagram};
},{"jquery":94}],117:[function(require,module,exports){
"use strict";function modalClose(){function e(e,t,r){e.onAction=function(){var t=$("[role='dialog']"),r=t.attr("window-class");t.removeClass(r),t.addClass(e.newClass),e.action()}}return{link:e,templateUrl:function(e,t){return t.templateUrl},restrict:"E",scope:{action:"&",newClass:"@"}}}function elementProperties(e){function t(e,t,r){}return{link:t,templateUrl:"diagrams/ElementPropertiesPane.html",restrict:"E",scope:{selected:"=",elementType:"@",edit:"&"}}}function elementThreats(e,t,r,a){function n(r,n,l){r.applyToAll=!1,r.onNewThreat=function(){a.confirm("diagrams/ThreatEditPane.html",r.addThreat,function(){return{heading:"New Threat",threat:o,editing:!0}},i)},r.onEditThreat=function(e){h=e,c=angular.copy(r.threats[e]),t.search("threat",c.id),a.confirm("diagrams/ThreatEditPane.html",r.editThreat,function(){return{heading:"Edit Threat",threat:r.threats[e],editing:!0}},r.cancelEdit)},r.removeThreat=function(e){r.threats.splice(e,1),r.save()},r.addThreat=function(){r.threats||(r.threats=[]),r.threats.push(o),r.save({threat:o}),i()},r.editThreat=function(){r.save(),i()},r.cancelEdit=function(){r.threats[h]=c,i()};var s=e.threat;if(angular.isDefined(s)){var u=-1;r.threats.forEach(function(e,t){e.id==s&&(u=t)}),u>=0?r.onEditThreat(u):(d("Invalid threat ID"),t.search("threat",null))}}function i(){o=l(),h=null,t.search("threat",null)}function l(){return{status:"Open",severity:"Medium"}}var s={link:n,templateUrl:"diagrams/ThreatSummaryPane.html",restrict:"E",scope:{threats:"=",save:"&"}},o=l(),h=null,c={},u=r.logger.getLogFn,d=u("tmtElementThreats","error");return s}var $=require("jquery");module.exports={modalClose:modalClose,elementProperties:elementProperties,elementThreats:elementThreats};
},{"jquery":94}],118:[function(require,module,exports){
"use strict";var core=angular.module("owasp-threat-dragon-core"),diagramdirectives=require("./diagramdirectives"),elementPropertyDirectives=require("./elementpropdirectives"),diagram=require("./diagram");core.directive("tmtStencil",["diagramming",diagramdirectives.stencil]),core.directive("tmtDiagram",["common","diagramming",diagramdirectives.diagram]),core.directive("tmtModalClose",[elementPropertyDirectives.modalClose]),core.directive("tmtElementProperties",[elementPropertyDirectives.elementProperties]),core.directive("tmtElementThreats",["$routeParams","$location","common","dialogs",elementPropertyDirectives.elementThreats]),core.controller("diagram",["$scope","$document","$location","$routeParams","$timeout","dialogs","common","datacontext","threatengine","diagramming","threatmodellocator","hotkeys",diagram]);
},{"./diagram":115,"./diagramdirectives":116,"./elementpropdirectives":117}],119:[function(require,module,exports){
"use strict";window.jQuery=require("jquery"),require("bootstrap"),require("angular-route"),require("angular-ui-bootstrap"),require("./templates"),require("./common"),angular.module("owasp-threat-dragon-core",["common","ui.bootstrap","ngRoute","templates"]),require("./services/joint.shapes.tm"),require("./config"),require("./services"),require("./diagrams"),require("./layout"),require("./threatmodels");
},{"./common":112,"./config":114,"./diagrams":118,"./layout":121,"./services":125,"./services/joint.shapes.tm":126,"./templates":129,"./threatmodels":130,"angular-route":4,"angular-ui-bootstrap":6,"bootstrap":13,"jquery":94}],120:[function(require,module,exports){
"use strict";var pager=function(){function e(e,t,r){}return{templateUrl:"layout/pager.html",link:e,restrict:"E",scope:{canPrevious:"=",canNext:"=",page:"=",items:"=",next:"&",previous:"&",select:"&"}}};module.exports=pager;
},{}],121:[function(require,module,exports){
var core=angular.module("owasp-threat-dragon-core"),directives=require("./directives");core.directive("tmtPager",[directives]);
},{"./directives":120}],122:[function(require,module,exports){
"use strict";function diagramming(){function t(){return new joint.dia.Graph}function e(t,e,i,o,n,r){var a=new joint.dia.Paper({width:e,height:t,gridSize:i,model:o,interactive:r});return a.el.setAttribute("tabindex","0"),a.el.addEventListener("mousedown",function(){this.focus()}),n.appendChild(a.el),a}function i(t,e,i,o){return new t({position:{x:e,y:i},attrs:{text:{text:o}}})}function o(t,e,i){var o=e?{id:e.id}:{x:110,y:100},n=t?{id:t.id}:{x:30,y:20},r=new joint.shapes.tm.Flow({target:o,source:n,vertices:[]});return r.setLabel(i),r}function n(t,e,i){var o=new joint.shapes.tm.Boundary({target:e||{x:110,y:100},source:t||{x:30,y:20},vertices:[]});return i&&o.setLabel(i),o}return joint.dia.Graph.prototype.initialise=function(t){this.fromJSON(t)},joint.dia.Graph.prototype.addProcess=function(){var t=i(joint.shapes.tm.Process,50,50,"process "+this.attributes.cells.length);return this.addCell(t),t},joint.dia.Graph.prototype.addStore=function(){var t=i(joint.shapes.tm.Store,50,50,"store "+this.attributes.cells.length);return this.addCell(t),t},joint.dia.Graph.prototype.addActor=function(){var t=i(joint.shapes.tm.Actor,50,50,"actor "+this.attributes.cells.length);return this.addCell(t),t},joint.dia.Graph.prototype.addFlow=function(t,e){var i=o(t,e,"flow "+this.attributes.cells.length);return this.addCell(i),i},joint.dia.Graph.prototype.addBoundary=function(t,e,i){var o=i||"",r=n(t,e,o);return this.addCell(r),r},joint.dia.Graph.prototype.duplicateElement=function(t){var e=this.cloneCells([t]),i=Object.keys(e)[0],o=e[i];return this.addCell(o),o},joint.dia.Graph.prototype.clearAll=function(){this.clear(!0)},joint.dia.Graph.prototype.cellCount=function(){return this.attributes.cells.length},joint.dia.Graph.prototype.getCellById=function(t){return this.getCell(t)},joint.dia.Paper.prototype.resize=function(t){this.setDimensions(t.width,t.height)},joint.dia.Paper.prototype.scaleContent=function(){this.scaleContentToFit()},joint.dia.Paper.prototype.zoom=function(t){var e=Math.pow(1.25,t);this.scale(e,e)},{newGraph:t,newDiagram:e,Process:joint.shapes.tm.Process,Store:joint.shapes.tm.Store,Actor:joint.shapes.tm.Actor,Flow:joint.shapes.tm.Flow,Boundary:joint.shapes.tm.Boundary}}var joint=require("jointjs");module.exports=diagramming;
},{"jointjs":91}],123:[function(require,module,exports){
"use strict";function structuredExitController(o,n,r,t,l,e){function i(){l(t),n.dismiss()}function c(){e(t),n.close(),r.path(t)}o.onCancel=i,o.onOK=c}function confirmController(o,n,r,t,l){function e(o){_.isFunction(t)&&t(o),n.dismiss()}function i(o){_.isFunction(r)&&r(o),n.close()}o.applyToAll=!1,o.onCancel=e,o.onOK=i,l&&(o.parameter=l())}var _=require("lodash"),controllers={confirmController:confirmController,structuredExitController:structuredExitController};module.exports=controllers;
},{"lodash":109}],124:[function(require,module,exports){
"use strict";function dialogs(t,r){function e(e,n,o){var u=r.open({templateUrl:"layout/structuredExit.html",controller:"structuredExitController",keyboard:!1,backdrop:"static",resolve:{destination:function(){return t.path()},cancel:function(){return n},ok:function(){return o}}});return e.preventDefault(),u.result}function n(t,e,n,o,u){var c={templateUrl:t,controller:"confirmController",keyboard:!1,backdrop:"static",resolve:{ok:function(){return e},cancel:function(){return o},parameter:function(){return n}}};return u&&(c.windowClass=u),r.open(c).result}return{confirm:n,structuredExit:e}}module.exports=dialogs;
},{}],125:[function(require,module,exports){
var core=angular.module("owasp-threat-dragon-core");require("angular-ui-bootstrap"),core.factory("routemediator",["$rootScope","$location","config","logger",require("./routemediator")]),core.factory("threatengine",[require("./threatengine")]),core.controller("structuredExitController",["$scope","$uibModalInstance","$location","destination","cancel","ok",require("./dialogControllers").structuredExitController]),core.controller("confirmController",["$scope","$uibModalInstance","ok","cancel","parameter",require("./dialogControllers").confirmController]),core.factory("dialogs",["$location","$uibModal",require("./dialogs")]),core.factory("diagramming",[require("./diagramming")]),core.value("hotkeys",require("hotkeys-js"));
},{"./diagramming":122,"./dialogControllers":123,"./dialogs":124,"./routemediator":127,"./threatengine":128,"angular-ui-bootstrap":6,"hotkeys-js":89}],126:[function(require,module,exports){
"use strict";var joint=require("jointjs"),V=joint.V;joint.shapes.tm={},joint.shapes.tm.Highlighter={highlighter:{name:"addClass",options:{className:"highlighted"}}},joint.shapes.tm.utils={shapeFromClassName:function(t){for(var e=t.split("."),s=window||this,i=0,o=e.length;i<o;i++)s=s[e[i]];if("function"!=typeof(s=require("jointjs")[s]))throw new Error("function not found");return s},editNameElement:function(t,e){t.attr("text/text",this.wordWrap(t,e))},editNameLink:function(t,e){t.label(0,{attrs:{text:{text:this.wordWrap(t,e)}}})},wordWrap:function(t,e){var s=t.isLink()?{width:140,height:80}:t.get("size");return joint.util.breakText(e,s,{})},wordUnwrap:function(t){var e=/\n/gm;return t.replace(e," ")},defineProperties:function(t,e){e.forEach(function(e){Object.defineProperty(t,e,{get:function(){return this.prop(e)},set:function(t){this.prop(e,t)}})})},defineOutOfScope:function(t,e){Object.defineProperty(t,"outOfScope",{get:function(){return this.prop("outOfScope")},set:function(t){var s="."+e+"/class",i=this.attr(s)||e+" hasNoOpenThreats isInScope";t?this.attr(s,i.replace("isInScope","isOutOfScope")):this.attr(s,i.replace("isOutOfScope","isInScope")),this.prop("outOfScope",t)}})},defineHasOpenThreats:function(t,e){Object.defineProperty(t,"hasOpenThreats",{get:function(){return this.prop("hasOpenThreats")},set:function(t){var s=this;e.forEach(function(e){var i="."+e+"/class",o=s.attr(i)||e+" hasNoOpenThreats isInScope";t?s.attr(i,o.replace("hasNoOpenThreats","hasOpenThreats")):s.attr(i,o.replace("hasOpenThreats","hasNoOpenThreats"))}),this.prop("hasOpenThreats",t)}})}},joint.shapes.tm.Flow=joint.dia.Link.extend({arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<circle class="marker-arrowhead" end="<%= end %>" r="6" />',"</g>"].join(""),setLabel:function(t){this.attributes.labels=[{position:.5,attrs:{text:{text:t,"font-weight":"400","font-size":"small"}}}]},defaults:joint.util.deepSupplement({type:"tm.Flow",size:{width:10,height:10},attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}},smooth:!0},joint.dia.Link.prototype.defaults)}),Object.defineProperty(joint.shapes.tm.Flow.prototype,"name",{get:function(){return joint.shapes.tm.utils.wordUnwrap(this.attributes.labels[0].attrs.text.text)},set:function(t){joint.shapes.tm.utils.editNameLink(this,t)}}),joint.shapes.tm.utils.defineOutOfScope(joint.shapes.tm.Flow.prototype,"connection"),joint.shapes.tm.utils.defineHasOpenThreats(joint.shapes.tm.Flow.prototype,["connection","marker-target"]),joint.shapes.tm.utils.defineProperties(joint.shapes.tm.Flow.prototype,["description","reasonOutOfScope","protocol","isEncrypted","isPublicNetwork","threats"]),joint.shapes.tm.Boundary=joint.dia.Link.extend({markup:['<path class="connection" stroke="black"/>','<path class="marker-source" fill="black" stroke="black" />','<path class="marker-target" fill="black" stroke="black" />','<path class="connection-wrap"/><title class="tooltip"></title>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<circle class="marker-arrowhead" end="<%= end %>" r="6" />',"</g>"].join(""),setLabel:function(t){this.attributes.labels=[{position:.5,attrs:{text:{text:t,"font-weight":"400","font-size":"small"}}}]},defaults:joint.util.deepSupplement({type:"tm.Boundary",size:{width:10,height:10},attrs:{".connection":{stroke:"green","stroke-width":3,"stroke-dasharray":"10,5"}},smooth:!0},joint.dia.Link.prototype.defaults)}),Object.defineProperty(joint.shapes.tm.Boundary.prototype,"name",{get:function(){var t="";return"labels"in this.attributes&&(t=this.attributes.labels[0].attrs.text.text),joint.shapes.tm.utils.wordUnwrap(t)},set:function(t){if(joint.shapes.tm.utils.editNameLink(this,t),!("font-weight"in this.attributes.labels[0].attrs.text&&"font-size"in this.attributes.labels[0].attrs.text)){this.attributes.labels[0]={position:.5,attrs:{text:{text:t,"font-weight":"400","font-size":"small"}}};var e={diagramJson:{cells:this.graph.getCells()}};this.graph.initialise(e.diagramJson)}}}),joint.shapes.tm.toolElement=joint.shapes.basic.Generic.extend({toolMarkup:['<g class="element-tools">','<g class="element-tool-remove"><circle fill="red" r="11"/>','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z"/>',"<title>Remove this element from the model</title>","</g>",'<g class="element-tool-link"><circle r="11" transform="translate(23,0)"/>','<path fill="none" stroke="white" stroke-width="6" transform="scale (0.7) translate(20.86, 11)" d="m6.5 -1.47 l13.5 -9.53 l-13.5 -9.53"/> ',"<title>Link from here</title>","</g>","</g>"].join(""),defaults:joint.util.deepSupplement({attrs:{text:{"font-weight":400,"font-size":"small",fill:"black","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle"}}},joint.shapes.basic.Generic.prototype.defaults)}),Object.defineProperty(joint.shapes.tm.toolElement.prototype,"name",{get:function(){return joint.shapes.tm.utils.wordUnwrap(this.attr("text/text"))},set:function(t){joint.shapes.tm.utils.editNameElement(this,t)}}),joint.shapes.tm.utils.defineProperties(joint.shapes.tm.toolElement.prototype,["description","reasonOutOfScope","threats"]),joint.shapes.tm.utils.defineOutOfScope(joint.shapes.tm.toolElement.prototype,"element-shape"),joint.shapes.tm.utils.defineHasOpenThreats(joint.shapes.tm.toolElement.prototype,["element-shape","element-text"]),joint.shapes.tm.Process=joint.shapes.tm.toolElement.extend({markup:'<g class="rotatable"><g class="scalable"><circle class="element-shape hasNoOpenThreats isInScope"/><title class="tooltip"/></g><text class="element-text hasNoOpenThreats isInScope"/></g>',defaults:joint.util.deepSupplement({type:"tm.Process",attrs:{".element-shape":{"stroke-width":1,r:30,stroke:"black",transform:"translate(30, 30)"},text:{ref:".element-shape"}},size:{width:100,height:100}},joint.shapes.tm.toolElement.prototype.defaults)}),joint.shapes.tm.utils.defineProperties(joint.shapes.tm.Process.prototype,["privilegeLevel"]),joint.shapes.tm.Store=joint.shapes.tm.toolElement.extend({markup:'<g class="rotatable"><g class="scalable"><rect/><path class="element-shape hasNoOpenThreats isInScope"/><title class="tooltip"/></g><text class="element-text hasNoOpenThreats isInScope"/></g>',defaults:joint.util.deepSupplement({type:"tm.Store",attrs:{rect:{fill:"white",stroke:"white","follow-scale":!0,width:160,height:80},".element-shape":{d:"M0 0 H160 M0 80 H160",stroke:"black",fill:"white","stroke-width":1,"follow-scale":!0},text:{ref:".element-shape"}},size:{width:160,height:80}},joint.shapes.tm.toolElement.prototype.defaults)}),joint.shapes.tm.utils.defineProperties(joint.shapes.tm.Store.prototype,["isALog","storesCredentials","isEncrypted","isSigned"]),joint.shapes.tm.Actor=joint.shapes.tm.toolElement.extend({markup:'<g class="rotatable"><g class="scalable"><rect class="element-shape hasNoOpenThreats isInScope"/><title class="tooltip"/></g><text class="element-text hasNoOpenThreats isInScope"/></g>',defaults:joint.util.deepSupplement({type:"tm.Actor",attrs:{".element-shape":{fill:"white",stroke:"black","stroke-width":1,"follow-scale":!0,width:160,height:80},text:{ref:".element-shape"}},size:{width:160,height:80}},joint.shapes.tm.toolElement.prototype.defaults)}),joint.shapes.tm.utils.defineProperties(joint.shapes.tm.Store.prototype,["providesAuthentication"]),joint.shapes.tm.ToolElementView=joint.dia.ElementView.extend({initialize:function(){joint.dia.ElementView.prototype.initialize.apply(this,arguments)},render:function(){return joint.dia.ElementView.prototype.render.apply(this,arguments),this.renderTools(),this.update(),this},renderTools:function(){var t=this.model.toolMarkup||this.model.get("toolMarkup");if(t){var e=V(t);V(this.el).append(e)}return this},pointerclick:function(t,e,s){switch(this._dx=e,this._dy=s,this._action="",t.target.parentNode.getAttribute("class")){case"element-tool-remove":return void this.model.remove();case"element-tool-link":this._action="linkFrom";break;case"element-tool-link linking":this._action="removeLinkFrom"}joint.dia.CellView.prototype.pointerclick.apply(this,arguments)},setSelected:function(){this.highlight(null,joint.shapes.tm.Highlighter)},setUnselected:function(){this.unhighlight(null,joint.shapes.tm.Highlighter)},addLinkFrom:function(){this.linkFrom=!0,new V(this.$el.find(".element-tool-link")[0]).addClass("linking")},removeLinkFrom:function(){this.linkFrom=!1,new V(this.$el.find(".element-tool-link")[0]).removeClass("linking")}}),joint.shapes.tm.StoreView=joint.shapes.tm.ToolElementView,joint.shapes.tm.ActorView=joint.shapes.tm.ToolElementView,joint.shapes.tm.ProcessView=joint.shapes.tm.ToolElementView,joint.shapes.tm.LinkView=joint.dia.LinkView.extend({setSelected:function(){this.highlight(null,joint.shapes.tm.Highlighter)},setUnselected:function(){this.unhighlight(null,joint.shapes.tm.Highlighter)}}),joint.shapes.tm.FlowView=joint.shapes.tm.LinkView,joint.shapes.tm.BoundaryView=joint.shapes.tm.LinkView,"object"==typeof exports&&(module.exports=joint.shapes.tm);
},{"jointjs":91}],127:[function(require,module,exports){
"use strict";function routemediator(t,o,r,n){function e(){u(),i()}function i(){t.$on("$routeChangeError",function(t,r,e,i){if(!a){a=!0;var u="Error routing: "+(r&&r.name);n.logWarning(u,r,"routemediator",!0),o.path("/")}})}function u(){t.$on("$routeChangeSuccess",function(o,n,e){a=!1;var i=r.docTitle+" "+(n.title||"");t.title=i})}var a=!1;return{setRoutingHandlers:e}}module.exports=routemediator;
},{}],128:[function(require,module,exports){
"use strict";function threatengine(){function e(e){function t(e){return e.map(function(e){return e.params})}var a=new Engine;return r(a),a.addFact("el",new n(e)),a.run().then(t)}function t(){return[]}function a(){return[]}function r(e){e.addRule({conditions:{any:[{fact:"el",path:".element.attributes.type",operator:"equal",value:"tm.Process"},{fact:"el",path:".element.attributes.type",operator:"equal",value:"tm.Actor"}]},event:{type:"b2a6d40d-d3f8-4750-8e4d-c02cc84b13dc",params:{ruleId:"b2a6d40d-d3f8-4750-8e4d-c02cc84b13dc",title:"Generic spoofing threat",type:"Spoofing",status:"Open",severity:"Medium",description:"A generic spoofing threat"}}}),e.addRule({conditions:{any:[{fact:"el",path:".element.attributes.type",operator:"equal",value:"tm.Process"},{fact:"el",path:".element.attributes.type",operator:"equal",value:"tm.Store"},{fact:"el",path:".element.attributes.type",operator:"equal",value:"tm.Flow"}]},event:{type:"4adaa48a-0345-4533-a189-64c98c4420dd",params:{ruleId:"4adaa48a-0345-4533-a189-64c98c4420dd",title:"Generic tampering threat",type:"Tampering",status:"Open",severity:"Medium",description:"A generic tampering threat"}}}),e.addRule({conditions:{any:[{fact:"el",path:".element.attributes.type",operator:"equal",value:"tm.Process"},{fact:"el",path:".element.attributes.type",operator:"equal",value:"tm.Store"},{fact:"el",path:".element.attributes.type",operator:"equal",value:"tm.Actor"}]},event:{type:"87bc37e2-798e-4d68-bb96-feb1da26da48",params:{ruleId:"87bc37e2-798e-4d68-bb96-feb1da26da48",title:"Generic repudiation threat",type:"Repudiation",status:"Open",severity:"Medium",description:"A generic repudiation threat"}}}),e.addRule({conditions:{any:[{fact:"el",path:".element.attributes.type",operator:"equal",value:"tm.Process"},{fact:"el",path:".element.attributes.type",operator:"equal",value:"tm.Store"},{fact:"el",path:".element.attributes.type",operator:"equal",value:"tm.Flow"}]},event:{type:"13000296-b17d-4b72-9cc4-f5cc33f80e4c",params:{ruleId:"13000296-b17d-4b72-9cc4-f5cc33f80e4c",title:"Generic information disclosure threat",type:"Information disclosure",status:"Open",severity:"Medium",description:"A generic information disclosure threat"}}}),e.addRule({conditions:{any:[{fact:"el",path:".element.attributes.type",operator:"equal",value:"tm.Process"},{fact:"el",path:".element.attributes.type",operator:"equal",value:"tm.Store"},{fact:"el",path:".element.attributes.type",operator:"equal",value:"tm.Flow"}]},event:{type:"edb05d76-a695-455f-947b-7d67b78bc31d",params:{ruleId:"edb05d76-a695-455f-947b-7d67b78bc31d",title:"Generic DoS threat",type:"Denial of service",status:"Open",severity:"Medium",description:"A generic DoS threat"}}}),e.addRule({conditions:{any:[{fact:"el",path:".element.attributes.type",operator:"equal",value:"tm.Process"}]},event:{type:"c1377855-ea20-4c97-8861-f95c364fb8d2",params:{ruleId:"c1377855-ea20-4c97-8861-f95c364fb8d2",title:"Generic elevation threat",type:"Elevation of privilege",status:"Open",severity:"Medium",description:"A generic elevation threat"}}}),e.addRule({conditions:{all:[{fact:"el",path:".element.attributes.type",operator:"equal",value:"tm.Flow"},{fact:"el",path:".element.isPublicNetwork",operator:"equal",value:!0},{any:[{fact:"el",path:".element.isEncrypted",operator:"equal",value:!1},{fact:"el",path:".element.isEncrypted",operator:"equal",value:void 0}]}]},event:{type:"c1cae982-3e92-4bb2-b50b-ea51137fc3a7",params:{ruleId:"c1cae982-3e92-4bb2-b50b-ea51137fc3a7",title:"Use encryption",type:"Information disclosure",status:"Open",severity:"High",description:"Unencrypted data sent over a public network may be intercepted and read by an attacker.",mitigation:"Data sent over a public network should be encrypted either at the message or transport level."}}})}var n=function(e){this.element=e};return{generateForElement:e,generateForElementInContext:t,generateForGraph:a}}var Engine=require("json-rules-engine").Engine;module.exports=threatengine;
},{"json-rules-engine":103}],129:[function(require,module,exports){
angular.module("templates",[]).run(["$templateCache",function(e){e.put("diagrams/confirmReloadOnDirty.html",'\ufeff<div>\n    <div class="modal-header">\n        <h3>Are you sure?</h3>\n    </div>\n    <div class="modal-body">\n        Your diagram has unsaved changes and if you reload they will be lost!\n        Press Cancel to keep the unsaved changes, or press OK to reload the diagram and lose the unsaved changes.\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" ng-click="onOK()">OK</button>\n        <button class="btn btn-primary" ng-click="onCancel()">Cancel</button>\n    </div>\n</div>\n'),e.put("diagrams/diagrameditor.html",'\ufeff<div data-ng-controller="diagram as vm" class="container-fluid diagram-container">\n    <div ng-show="!vm.errored">\n        <div class="col-lg-2">\n            \x3c!--Diagram stencil--\x3e\n            <uib-accordion close-others="true">\n                <div uib-accordion-group is-open="vm.viewStencil">\n                    <uib-accordion-heading>\n                        Edit diagram <i class="pull-right glyphicon" ng-class="{\'glyphicon-chevron-down\': vm.viewStencil, \'glyphicon-chevron-right\': !vm.viewStencil}"></i>\n                    </uib-accordion-heading>\n                    <div ng-repeat="stencil in vm.stencils">\n                        <div height="120">\n                            <tmt-stencil class="stencil" shape="stencil.shape" padding="5" scale="0.9" action="stencil.action()" />\n                        </div>\n                    </div>\n                </div\n                \x3c!--Threat pane--\x3e\n                <div uib-accordion-group is-open="vm.viewThreats">\n                    <uib-accordion-heading>\n                        Edit threats <i class="pull-right glyphicon" ng-class="{\'glyphicon-chevron-down\': vm.viewThreats, \'glyphicon-chevron-right\': !vm.viewThreats}"></i>\n                    </uib-accordion-heading>\n                    <div ng-if="vm.selected">\n                        <div ng-if="!vm.selected.outOfScope">\n                            <tmt-element-threats threats="vm.selected.threats" save="vm.edit()" />\n                        </div>\n                        <div ng-if="vm.selected.outOfScope">\n                            <em>The selected element is out of scope</em>\n                        </div>                       \n                    </div>\n                    <div ng-if="!vm.selected">\n                        <em>Select an element in the diagram to see or edit its threats</em>\n                    </div>\n                </div>\n            </uib-accordion>\n        </div>\n        \x3c!--Diagram area--\x3e\n        <div class="col-lg-8">\n            <div class="panel panel-default">\n                <div ng-if="!vm.diagram.title" class="panel-heading panel-title">\n                    <span>Loading...</span>\n                </div>\n                <div ng-if="vm.diagram.title" class="panel-heading panel-title">\n                    <span editable-text="vm.diagram.title" onaftersave="vm.save()" e-form="diagramTitleInput" e-required e-placeholder="Diagram title">{{ vm.diagram.title }}</span>\n                    <span class="pull-right glyphicon glyphicon-edit" ng-click="diagramTitleInput.$show()" ng-hide="diagramTitleInput.$visible"></span>\n                </div>\n                <div class="panel-body">\n                    <form name="diagramEditToolBar">\n                        <div class="col-md-12">\n                            <div class="btn-group pull-left" role="group">\n                                <button type="button" class="btn btn-default" ng-model="vm.showGrid" uib-btn-checkbox ng-click="vm.setGrid()" data-toggle="tooltip" data-placement="top" title="Toggle Gridlines">\n                                        <span class="glyphicon glyphicon-th" aria-hidden="true"></span>\n                                </button>\n                                <a class="btn btn-default" ng-href="#/threatmodel/{{vm.getThreatModelPath()}}" role="button" data-toggle="tooltip" data-placement="top" title="Cancel Edit">\n                                    <span class="glyphicon glyphicon-remove"></span>\n                                </a>\n                                <button class="btn btn-default" type="button" data-toggle="tooltip" ng-click="vm.clear()" data-placement="top" title="Delete All Elements From This Diagram">\n                                    <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>\n                                </button>\n                                <button class="btn btn-default" type="button" data-toggle="tooltip" ng-click="vm.reload()" data-placement="top" title="Discard Changes And Reopen Diagram">\n                                    <span class="fa fa-undo" aria-hidden="true"></span>\n                                </button>\n                                <button class="btn btn-default" ng-disabled="vm.selected == null || vm.selected.outOfScope || vm.selected.attributes.type == \'tm.Boundary\'" type="button" data-toggle="tooltip" ng-click="vm.generateThreats()" data-placement="top" title="Suggest threats for the selected element">\n                                    <span class="glyphicon glyphicon-flash" aria-hidden="true"></span>\n                                </button>\n                                <button class="btn btn-default" ng-disabled="vm.selected == null" type="button" data-toggle="tooltip" ng-click="vm.duplicateElement()" data-placement="top" title="Duplicate the selected element">\n                                    <span class="glyphicon glyphicon-duplicate" aria-hidden="true"></span>\n                                </button>\n                                <button class="btn btn-default" type="button" data-toggle="tooltip" ng-click="vm.save()" data-placement="top" title="Save This Diagram">\n                                    <span class="glyphicon glyphicon-save" aria-hidden="true"></span>\n                                </button>\n                            </div>\n                        </div>\n                    </form>\n                    <div class="tmt-diagram-container">\n                        <tmt-diagram graph="vm.graph" select="vm.select(element)" new-flow="vm.newFlow(source, target)" initialise-graph="vm.initialise(diagram)" height="600" width="800" grid-size="1" interactive="true"/>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \x3c!--Element properties--\x3e\n        <div class="col-lg-2">\n            <div class="panel panel-default">\n                <div class="panel-heading panel-title">Properties</div>\n                <div class="panel-body">\n                    <div ng-if="vm.selected">\n                        <tmt-element-properties edit=" vm.edit()" selected="vm.selected" element-type="{{vm.selected.attributes.type}}">\n                    </div>\n                    <div ng-if="!vm.selected">\n                        <em>Select an element in the diagram to see or edit its properties</em>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    \x3c!--Error content--\x3e\n    <div ng-show="vm.errored">\n        <div class="jumbotron">\n            <h1>oooops!</h1>\n            <p>\n                It looks like you tried to edit a threat model diagram that doesn\'t exist. Maybe you typed the\n                address wrong? Or if you clicked a link to get here, the diagram might have been\n                deleted since you made the link <span class="fa fa-frown-o"></span>\n            </p>\n            <p>\n                <a href="#">Take me home</a>\n            </p>\n        </div>\n    </div>\n</div>\n'),e.put("diagrams/ElementPropertiesPane.html",'\ufeff<form name="elementPropertiesEditForm">\n    <div>\n        <div class="form-group">\n            <label>Name</label>\n            <input name="nameInput" class="form-control" type="text" ng-model="selected.name" ng-change="edit()" placeholder="Element name" />\n        </div>\n    </div>\n    <div ng-show="elementType !== \'tm.Boundary\'">\n        <div class="form-group">\n            <label>Description</label>\n            <textarea name="textareaDescription" rows="4" class="form-control" type="text" ng-model="selected.description" ng-change="edit()" placeholder="Description"></textarea>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input name="checkboxOutOfScope" type="checkbox" ng-model="selected.outOfScope" ng-change="edit()" /> Out of scope\n            </label>\n        </div>\n        <div class="form-group">\n            <label>Reason for out of scope</label>\n            <textarea name="textareaReasonOutOfScope" ng-disabled="!selected.outOfScope" rows="4" class="form-control" type="text" ng-model="selected.reasonOutOfScope" ng-change="edit()" placeholder="Reason for out of scope"></textarea>\n        </div>\n    </div>\n    <div ng-show="elementType === \'tm.Process\'">\n        <div class="form-group">\n            <label>Privilege level</label>\n            <input name="privilegeLevelInput" ng-disabled="selected.outOfScope" class="form-control" type="text" ng-model="selected.privilegeLevel" ng-change="edit()" placeholder="Privilege level" />\n        </div>\n    </div>\n    <div ng-show="elementType === \'tm.Actor\'">\n        <div class="checkbox">\n            <label>\n                <input name="checkboxProvidesAuthentication" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.providesAuthentication" ng-change="edit()" /> Provides authentication\n            </label>\n        </div>\n    </div>\n    <div ng-show="elementType === \'tm.Store\'">\n        <div class="checkbox">\n            <label>\n                <input name="checkboxIsALog" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.isALog" ng-change="edit()" /> Is a log\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input name="checkboxStoresCredentials" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.storesCredentials" ng-change="edit()" /> Stores credentials\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input name="checkboxIsEncryptedStore" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.isEncrypted" ng-change="edit()" /> Is encrypted\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input name="checkboxIsSigned" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.isSigned" ng-change="edit()" /> Is signed\n            </label>\n        </div>\n    </div>\n    <div ng-show="elementType === \'tm.Flow\'">\n        <div class="form-group">\n            <label>Protocol</label>\n            <input name="inputProtocol" ng-disabled="selected.outOfScope" class="form-control" type="text" ng-model="selected.protocol" ng-change="edit()" placeholder="Protocol" />\n        </div>\n        <div class="checkbox">\n            <label>\n                <input name="checkboxIsEncryptedFlow" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.isEncrypted" ng-change="edit()" /> Is encrypted\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input name="checkboxIsPublicNetwork" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.isPublicNetwork" ng-change="edit()" /> Is over a public network\n            </label>\n        </div>\n    </div>\n</form>\n'),e.put("diagrams/modalAccept.html",'\ufeff<button class="btn btn-primary" ng-disabled="parameter.editing && (!threatEditForm.$dirty || !threatEditForm.$valid)" ng-click="onAction()">\n    Accept\n</button>'),e.put("diagrams/modalIgnore.html",'\ufeff<button class="btn btn-default" ng-click="onAction()">\n    Ignore\n</button>'),e.put("diagrams/ThreatEditPane.html",'\ufeff<div>\n    <div class="modal-header">\n        <h3>{{parameter.heading}}<span class="pull-right" ng-if="parameter.threatTotal"> ({{parameter.threatIndex}} of {{parameter.threatTotal}})</span></h3>\n    </div>\n    <div class="modal-body">\n        <form name="threatEditForm">\n            <div class="form-group">\n                <label>Title</label>\n                <input name="titleInput" class="form-control" ng-required="true" type="text" ng-model="parameter.threat.title" placeholder="A short title for the threat" />\n                <div ng-show="!threatEditForm.titleInput.$valid && threatEditForm.titleInput.$dirty">\n                    <p>\n                        <div class="alert alert-danger" role="alert">\n                            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>\n                            <span class="sr-only">Error:</span>\n                            The threat title cannot be empty.\n                        </div>\n                    </p>\n                </div>\n            </div>\n            <div class="form-group">\n                <label>STRIDE threat type</label>\n                <select name="typeInput" class="form-control" ng-required="true" ng-model="parameter.threat.type">\n                    <option selected>Spoofing</option>\n                    <option>Tampering</option>\n                    <option>Repudiation</option>\n                    <option>Information disclosure</option>\n                    <option>Denial of service</option>\n                    <option>Elevation of privilege</option>\n                </select>\n                <div ng-show="!threatEditForm.typeInput.$valid && threatEditForm.typeInput.$dirty">\n                    <p>\n                        <div class="alert alert-danger" role="alert">\n                            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>\n                            <span class="sr-only">Error:</span>\n                            The threat type cannot be empty.\n                        </div>\n                    </p>\n                </div>\n            </div>\n            <div class="form-group pull-left">\n                <label>Threat status</label>\n                <div>\n                    <div class="btn-group" name="statusInput">\n                        <label class="btn btn-primary" name="statusInputOpen" ng-model="parameter.threat.status" uib-btn-radio="\'Open\'">Open</label>\n                        <label class="btn btn-primary" name="statusInputMitigated" ng-model="parameter.threat.status" uib-btn-radio="\'Mitigated\'">Mitigated</label>\n                    </div>\n                </div>\n            </div>\n            <div class="form-group pull-right">\n                <label>Severity</label>\n                <div>\n                    <div class="btn-group" required>\n                        <label class="btn btn-default" ng-model="parameter.threat.severity" uib-btn-radio="\'High\'">High</label>\n                        <label class="btn btn-default" ng-model="parameter.threat.severity" uib-btn-radio="\'Medium\'">Medium</label>\n                        <label class="btn btn-default" ng-model="parameter.threat.severity" uib-btn-radio="\'Low\'">Low</label>\n                    </div>\n                </div>\n            </div>\n            <div class="clearfix"></div>\n            <div class="form-group">\n                <label>Description</label>\n                <textarea name="descriptionInput" ng-model="parameter.threat.description" class="form-control" rows="5" placeholder="Detailed description of the threat"></textarea>\n            </div>\n            <div class="form-group">\n                <label>Mitigations</label>\n                <textarea name="mitigationInput" ng-model="parameter.threat.mitigation" class="form-control" rows="5" placeholder="Mitigations for the threat"></textarea>\n            </div>\n        </form>\n    </div>\n    <div ng-if="parameter.editing" class="modal-footer">\n        <button class="btn btn-primary" ng-disabled="!threatEditForm.$dirty || !threatEditForm.$valid" ng-click="onOK()">Save</button>\n        <button class="btn btn-default" ng-click="onCancel()">Cancel</button>\n    </div>\n    <div ng-if="!parameter.editing" class="modal-footer">\n        <span class="pull-left">\n            <input type="checkbox" ng-model="applyToAll">\n            Do this for all remaining threats \n        </span>\n        <tmt-modal-close action="onOK(applyToAll)" new-class="fade-left" template-url="diagrams/modalAccept.html"></tmt-modal-close>\n        <tmt-modal-close action="onCancel(applyToAll)" new-class="fade-down" template-url="diagrams/modalIgnore.html"></tmt-modal-close>\n    </div>\n</div>\n'),e.put("diagrams/ThreatSummaryPane.html",'\ufeff<ul id="threatSummaryPane" class="list-group">\n    <li class="list-group-item" ng-repeat="threat in threats">\n        <a id="editThreat{{$index}}" href="" ng-click="onEditThreat($index)" data-toggle="tooltip" data-placement="top" title="Edit {{threat.title}}">\n            <div class="text-overflow"><small>{{threat.title}}</small></div>\n        </a>\n        <div>\n            <small>{{threat.type}}</small>\n        </div>\n        <div>\n            <span ng-class="{Open:\'severity-high fa fa-exclamation-triangle\', Mitigated:\'severity-low fa fa-check\'}[threat.status]" data-toggle="tooltip" data-placement="top" title="{{threat.status}}"></span>\n            <span ng-class="{Low:\'fa fa-circle severity-low\', Medium:\'fa fa-circle severity-medium\', High:\'fa fa-circle severity-high\'}[threat.severity]" data-toggle="tooltip" data-placement="top" title="{{threat.severity}}"></span>\n            <span id="remove{{$index}}" class="pull-right glyphicon glyphicon-remove severity-high" ng-click="removeThreat($index)" data-toggle="tooltip" data-placement="top" title="Remove this threat"></span>\n        </div>\n    </li>\n</ul> \n<button id="buttonNewThreat" class="btn btn-link" ng-click="onNewThreat()">\n    <span class="glyphicon glyphicon-plus"></span> Add a new threat...\n</button>'),e.put("layout/pager.html",'<div class="clearfix" ng-if="canPrevious || canNext">\n    <button ng-disabled="!canPrevious" class="pull-left btn btn-link" ng-click="previous()">Previous page</button>\n    <button ng-disabled="!canNext" class="pull-right  btn btn-link" href="" ng-click="next()">Next page</button>\n</div>\n<div class="list-group">\n    <a ng-repeat="item in items" ng-click="select({item: item})" class="list-group-item h4">{{item}}</a>\n</div>\n<div ng-if="(canPrevious || canNext) && items.length >= 10">\n    <button ng-disabled="!canPrevious" class="pull-left btn btn-link" ng-click="previous()">Previous page</button>\n    <button ng-disabled="!canNext" class="pull-right  btn btn-link" href="" ng-click="next()">Next page</button>\n</div>\n'),e.put("layout/structuredExit.html",'\ufeff<div id="structuredExitModal">\n    <div class="modal-header">\n        <h3>Are you sure you want to leave this page?</h3>\n    </div>\n    <div class="modal-body">\n        You have unsaved changes and if you leave this page they will be lost!\n        Press Cancel to stay where you are and keep the unsaved changes,\n        or press OK to leave and lose the unsaved changes.\n    </div>\n    <div class="modal-footer">\n        <button id="buttonOK" class="btn btn-default" ng-click="onOK()">OK</button>\n        <button id="buttonCancel" class="btn btn-primary" ng-click="onCancel()">Cancel</button>\n    </div>\n</div>\n'),e.put("threatmodels/confirmDelete.html",'<div>\n    <div class="modal-header">\n        <h3>Are you sure?</h3>\n    </div>\n    <div class="modal-body">\n        You are about to delete this threat model. It cannot be undone!\n        Press Cancel to keep the threat model, or press OK to delete the threat model.\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" ng-click="onOK()">OK</button>\n        <button class="btn btn-primary" ng-click="onCancel()">Cancel</button>\n    </div>\n</div>\n'),e.put("threatmodels/confirmReloadOnDirty.html",'\ufeff<div>\n    <div class="modal-header">\n        <h3>Are you sure?</h3>\n    </div>\n    <div class="modal-body">\n        Your threat model has unsaved changes and if you reload they will be lost!\n        Press Cancel to keep the unsaved changes, or press OK to reload the threat model and lose the unsaved changes.\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" ng-click="onOK()">OK</button>\n        <button class="btn btn-primary" ng-click="onCancel()">Cancel</button>\n    </div>\n</div>\n'),e.put("threatmodels/threatmodeldetail.html",'\ufeff<div data-ng-controller="threatmodel as vm" class="container-fluid">\n    <div ng-if="!vm.threatModel.summary && !vm.errored">\n        <p class="h3 text-center">Your threat model is loading...</p>\n        <div class="spinner"></div>\n    </div>\n    <div ng-if="!vm.errored && vm.threatModel.summary">\n        <div class="panel panel-default">\n            <div class="panel-heading panel-title">\n                <a ng-href="#/threatmodel/edit/{{vm.threatModelPath()}}"><h4>{{vm.threatModel.summary.title}}</h4></a>\n            </div>\n            <div class="panel-body">\n                <div class="col-md-2">\n                    <div><strong>Owner: </strong></div>\n                    <div>{{vm.threatModel.summary.owner}}</div>\n                </div>\n                <div class="col-md-2">\n                    <div><strong>Reviewer: </strong></div>\n                    <div>{{vm.threatModel.detail.reviewer}}</div>\n                </div>\n                <div class="col-md-8">\n                    <div><strong>Contributors: </strong></div>\n                    <div>\n                        <span ng-repeat="contributor in vm.threatModel.detail.contributors"> {{contributor.name}}<span ng-show=" ! $last ">;</span></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="panel panel-default">\n            <div class="panel-heading panel-title">\n                <h4>High level system description</h4>\n            </div>\n            <div class="panel-body">\n                <div class="col-md-12"><p class="report">{{vm.threatModel.summary.description}}</p></div>\n            </div>\n        </div>\n        <div class="panel-body">\n            <div ng-repeat-start="diagram in vm.threatModel.detail.diagrams">\n                <div class="col-md-3">\n                    <div class="panel panel-default">\n                        <div class="panel-heading panel-title">\n                            <a ng-href="#/threatmodel/{{vm.threatModelPath()}}/diagram/{{diagram.id}}"><h6>{{diagram.title}}</h6></a>\n                        </div>\n                        <div class="panel-body">\n                            <a ng-href="#/threatmodel/{{vm.threatModelPath()}}/diagram/{{diagram.id}}">\n                                <img ng-src="{{diagram.thumbnail}}" class="img-thumbnail center-block" alt="Thumbnail of {{diagram.title}}" />\n                            </a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div ng-if="(($index+1) % 4) == 0" class="clearfix visible-lg-block"></div>\n            <div ng-repeat-end ng-hide></div>\n        </div>\n        <div class="row">\n            <div class="col-md-12">\n                <div class="btn-group pull-right" role="group">\n                    <a class="btn btn-primary" ng-href="#/threatmodel/edit/{{vm.threatModelPath()}}" \n                    role="button" data-toggle="tooltip" data-placement="top" title="Edit This Threat Model">\n                        <span class="glyphicon glyphicon-edit"></span> Edit\n                    </a>\n                    <a class="btn btn-default" ng-href="#/threatmodel/report/{{vm.threatModelPath()}}" \n                    role="button" data-toggle="tooltip" data-placement="top" title="View Or Print Threat Model Report">\n                        <span class="fa fa-file-text"></span> Report\n                    </a>\n                    <button class="btn btn-default" role="button" ng-click="vm.deleteModel()" data-toggle="tooltip" data-placement="top" title="Delete This Threat Model">\n                        <span class="glyphicon glyphicon-remove"></span> Delete\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div ng-if="vm.errored">\n        <div class="jumbotron">\n            <h1>oooops!</h1>\n            <p>\n                It looks like you tried to view an invalid threat model. Maybe you typed the\n                address wrong? Or if you clicked a link to get here, the threat model might have been\n                deleted since you made the link <span class="fa fa-frown-o"></span>\n            </p>\n            <p>\n                <a href="#">Take me home</a>\n            </p>\n        </div>\n    </div>\n</div>\n'),
e.put("threatmodels/threatmodeledit.html",'\ufeff<div data-ng-controller="threatmodel as vm" class="container-fluid">\n    <div ng-if="!vm.threatModel.summary && !vm.errored && !vm.isNewModel">\n        <p class="h3 text-center">Your threat model is loading...</p>\n        <div class="spinner"></div>\n    </div>\n    <div class="panel panel-default" ng-if="vm.threatModel.summary">\n        \x3c!--heading--\x3e\n        <div class="panel panel-heading">\n            <h4>Editing: {{vm.threatModel.summary.title}}</h4>\n        </div>\n        <div class="panel panel-body">\n            <form name="vm.threatModelEditForm">\n                \x3c!--title--\x3e\n                <div class="form-group col-md-12">\n                    <label>Title</label>\n                    <input name="threatModelTitle" class="form-control" type="text" ng-model="vm.threatModel.summary.title" ng-required="true"\n                        placeholder="Threat model title" />\n                    <div ng-show="vm.threatModelEditForm.threatModelTitle.$dirty && !vm.threatModelEditForm.threatModelTitle.$valid">\n                        <p>\n                            <div class="alert alert-danger" role="alert">\n                                <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>\n                                <span class="sr-only">Error:</span> The threat model title cannot be empty.\n                            </div>\n                        </p>\n                    </div>\n                    <div ng-show="vm.willMoveThreatModel({model: vm.threatModelEditForm.threatModelTitle.$viewValue}) && !vm.isNewModel()">                      \n                        <p>\n                            <div class="alert alert-info" role="alert">\n                                <span class="fa fa-info-circle" aria-hidden="true"></span>\n                                <span class="sr-only">Warning:</span> Changing the model title will delete the old model\n                                and create a new one to replace it.\n                            </div>\n                        </p>\n                    </div>\n                </div>\n                \x3c!--Owner--\x3e\n                <div class="form-group col-md-6">\n                    <label>Owner</label>\n                    <input class="form-control" type="text" ng-model="vm.threatModel.summary.owner" placeholder="The owner of the threat model"\n                    />\n                </div>\n                \x3c!--reviewer--\x3e\n                <div class="form-group col-md-6">\n                    <label>Reviewer</label>\n                    <input class="form-control" type="text" ng-model="vm.threatModel.detail.reviewer" placeholder="The reviewer of the threat model"\n                    />\n                </div>\n                \x3c!--description--\x3e\n                <div class="form-group col-md-12">\n                    <label>High level system description</label>\n                    <textarea rows="5" class="form-control" ng-model="vm.threatModel.summary.description" placeholder="A high level description of the system"></textarea>\n                </div>\n                \x3c!--contributors--\x3e\n                <div class="form-group col-md-12">\n                    <label>Contributors</label>\n                    <div ng-repeat="contributor in vm.threatModel.detail.contributors" ng-form="contributorSubForm">\n                        <div class="col-md-6">\n                            <p>\n                                <div class="input-group">\n                                    <input name="contributorName" class="form-control" type="text" ng-model="contributor.name" required placeholder="The name of a contributor to the threat model"\n                                    />\n                                    <span class="input-group-btn">\n                                        <button class="btn btn-default" data-toggle="tooltip" ng-click="vm.removeContributor($index)" data-placement="top" title="Remove This Contributor" aria-hidden="true" type="button">\n                                            <span class="glyphicon glyphicon-remove"></span>                                    Remove\n                                    </button>\n                                    </span>\n                                </div>\n                            </p>\n                            <div ng-show="contributorSubForm.contributorName.$dirty && !contributorSubForm.contributorName.$valid">\n                                <p>\n                                    <div class="alert alert-danger" role="alert">\n                                        <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>\n                                        <span class="sr-only">Error:</span> The contributor name cannot be empty.\n                                    </div>\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                    <div ng-repeat-end>\n                        <div class="col-md-6">\n                            <p>\n                                <div class="input-group" ng-show="vm.addingContributor">\n                                    <input class="form-control" name="newContributorNameInput" type="text" ng-model="vm.newContributor" placeholder="The name of a contributor"\n                                    />\n                                    <span class="input-group-btn">\n                                        <button class="btn btn-default" ng-disabled="vm.newContributor.length == 0" data-toggle="tooltip" ng-click="vm.addContributor()" data-placement="top" title="Add this contributor" aria-hidden="true" type="button">\n                                            <span class="glyphicon glyphicon-plus"></span>                                    Add\n                                    </button>\n                                    </span>\n                                    <span class="input-group-btn">\n                                        <button class="btn btn-link" data-toggle="tooltip" ng-click="vm.cancelAddingContributor()" data-placement="top" title="Cancel adding this contributor" aria-hidden="true" type="button">\n                                            <span class="glyphicon glyphicon-remove"></span>                                    Cancel\n                                    </button>\n                                    </span>\n                                </div>\n                                <div ng-hide="vm.addingContributor">\n                                    <button class="btn btn-link" ng-click="vm.startAddingContributor()">\n                                        <span class="glyphicon glyphicon-plus"></span> Add a new contributor...\n                                    </button>\n                                </div>\n                            </p>\n                        </div>\n                    </div>\n                </div>\n                \x3c!--diagrams--\x3e\n                <div class="form-group col-md-12">\n                    <label>Diagrams</label>\n                    <div ng-repeat="diagram in vm.threatModel.detail.diagrams" ng-form="diagramSubForm">\n                        <div class="col-md-6">\n                            <p>\n                                <div class="input-group">\n                                    <input name="diagramTitle" class="form-control" type="text" ng-model="diagram.title" required placeholder="Diagram title"\n                                    />\n                                    <span class="input-group-btn">\n                                        <button class="btn btn-primary" data-toggle="tooltip" ng-click="vm.duplicateDiagram($index)" data-placement="top" title="Duplicate This Diagram" aria-hidden="true" type="button">\n                                            <span class="glyphicon glyphicon-duplicate"></span>                                    Duplicate\n                                        </button>\n                                        <button class="btn btn-default" data-toggle="tooltip" ng-click="vm.removeDiagram($index)" data-placement="top" title="Remove This Diagram" aria-hidden="true" type="button">\n                                            <span class="glyphicon glyphicon-remove"></span>                                    Remove\n                                        </button>\n                                    </span>\n                                </div>\n                            </p>\n                            <div ng-show="diagramSubForm.diagramTitle.$dirty && !diagramSubForm.diagramTitle.$valid">\n                                <p>\n                                    <div class="alert alert-danger" role="alert">\n                                        <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>\n                                        <span class="sr-only">Error:</span> The diagram title cannot be empty.\n                                    </div>\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                    <div ng-repeat-end>\n                        <div class="col-md-6">\n                            <p>\n                                <div class="input-group" ng-show="vm.addingDiagram">\n                                    <input class="form-control" type="text" ng-model="vm.newDiagram.title" placeholder="Diagram title" />\n                                    <span class="input-group-btn">\n                                        <button class="btn btn-default" ng-disabled="vm.newDiagram.title.length == 0" data-toggle="tooltip" ng-click="vm.addDiagram()" data-placement="top" title="Add this diagram" aria-hidden="true" type="button">\n                                            <span class="glyphicon glyphicon-plus"></span>                                    Add\n                                    </button>\n                                    </span>\n                                    <span class="input-group-btn">\n                                        <button class="btn btn-link" data-toggle="tooltip" ng-click="vm.cancelAddingDiagram()" data-placement="top" title="Cancel adding this diagram" aria-hidden="true" type="button">\n                                            <span class="glyphicon glyphicon-remove"></span>                                    Cancel\n                                    </button>\n                                    </span>\n                                </div>\n                                <div ng-hide="vm.addingDiagram">\n                                    <button class="btn btn-link" ng-click="vm.startAddingDiagram()">\n                                        <span class="glyphicon glyphicon-plus"></span> Add a new diagram...\n                                    </button>\n                                </div>\n                            </p>\n                        </div>\n                    </div>\n                </div>\n                \x3c!--buttons--\x3e\n                <div class="col-md-3 col-md-offset-9">\n                    <div class="btn-group pull-right" role="group">\n                        <button class="btn btn-default" ng-click="vm.cancel()" data-toggle="tooltip" data-placement="top" title="Cancel Editing"\n                            type="button">\n                            <span class="glyphicon glyphicon-remove"></span> Cancel\n                        </button>\n                        <button class="btn btn-default" ng-disabled="!vm.dirty" ng-click="vm.reload()" data-toggle="tooltip" data-placement="top"\n                            title="Reset Form" type="button">\n                            <span class="fa fa-undo"></span> Reload\n                        </button>\n                        <button class="btn btn-primary" ng-disabled="!vm.dirty || !vm.threatModelEditForm.$valid" ng-click="vm.isNewModel() ? vm.create() : vm.save()"\n                            data-toggle="tooltip" data-placement="top" title="Save Changes" type="button">\n                            <span class="glyphicon glyphicon-save"></span> Save\n                        </button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n    \x3c!--oops--\x3e\n    <div ng-if="vm.errored">\n        <div class="jumbotron">\n            <h1>oooops!</h1>\n            <p>\n                It looks like you tried to edit an invalid threat model. Maybe you typed the address wrong? Or if you clicked a link to get\n                here, the threat model might have been deleted since you made the link <span class="fa fa-frown-o"></span>\n            </p>\n            <p>\n                <a href="#/">Take me home</a>\n            </p>\n        </div>\n    </div>\n</div>'),e.put("threatmodels/threatmodelreport.html",'<div ng-if="!isPrintingOrSaving" class="panel panel-default">\n    <div class="panel-body">\n        <div class="pull-left">\n            <div>\n                <input type="checkbox" id="cbShowOutOfScope" ng-model="reportOptions.showOutOfScope"> Show out of scope elements\n            </div>\n            <div>\n                <input type="checkbox" id="cbShowMitigated" ng-model="reportOptions.showMitigated"> Show mitigated threats\n            </div>\n            <div>\n                <input type="checkbox" id="cbShowDiagrams" ng-model="reportOptions.showDiagrams""> Include threat model diagrams\n            </div>\n        </div>\n        <div class="btn-group pull-right" role="group">\n            <button ng-if="saveable" class="btn btn-default" id="savePDFButton" role="button" ng-click="savePDF()" data-toggle="tooltip" data-placement="top" title="Save Threat Model Report As PDF">\n                <span class="fa fa-floppy-o"></span> Save PDF\n            </button>\n            <button ng-if="printable" class="btn btn-default" id="printButton" role="button" ng-click="printPDF()" data-toggle="tooltip" data-placement="top" title="Print Threat Model Report">\n                <span class="glyphicon glyphicon-print"></span> Print\n            </button>\n            <button class="btn btn-primary" id="cancelButton" role="button" ng-click="cancel()" data-toggle="tooltip" data-placement="top" title="Return To Detail View">\n                <span class="glyphicon glyphicon-remove"></span> Return\n            </button>\n        </div>\n    </div>\n</div>\n<div ng-if="model.summary">\n    <div class="panel panel-default">\n        <div class="panel-heading panel-title">\n            <h4 id="titleText">Threat model report for {{model.summary.title}}</h4>\n        </div>\n        <div class="panel-body">\n            <div class="col-md-2">\n                <div><strong>Owner: </strong></div>\n                <div>{{model.summary.owner}}</div>\n            </div>\n            <div class="col-md-2">\n                <div><strong>Reviewer: </strong></div>\n                <div>{{model.detail.reviewer}}</div>\n            </div>\n            <div class="col-md-8">\n                <div><strong>Contributors: </strong></div>\n                <div>\n                    <span ng-repeat="contributor in model.detail.contributors"> {{contributor.name}}<span ng-show=" ! $last ">;</span></span>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="panel panel-default">\n        <div class="panel-heading panel-title">\n            <h4>High level system description</h4>\n        </div>\n        <div class="panel-body">\n            <div class="col-md-12"><p class="report">{{model.summary.description}}</p></div>\n        </div>\n    </div>\n    <div ng-repeat="diagram in model.detail.diagrams">\n        <div class="panel panel-default">\n            <div class="panel-heading panel-title">\n                <h4>{{diagram.title}}</h4>\n            </div>\n            <div class="panel-body">\n                <div ng-if="reportOptions.showDiagrams" class="tmt-diagram-container">\n                    <tmt-diagram graph="graphs[diagram.id]" initialise-graph="initialise(diagram)" height="487" width="650" grid-size="1" interactive="false"/>\n                </div>\n                <div ng-repeat="element in graphs[diagram.id].getCells() | filter:{outOfScope: \'!true\'}">\n                    <div ng-if="element.attributes.type != \'tm.Boundary\'" class="panel panel-default model-element">\n                        <div class="panel-heading panel-title">\n                            {{element.name}}\n                            <span ng-switch="element.attributes.type">\n                                <span ng-switch-when="tm.Store">(Data Store)</span>\n                                <span ng-switch-when="tm.Flow">(Data Flow)</span>\n                                <span ng-switch-when="tm.Process">(Process)</span>\n                                <span ng-switch-when="tm.Actor">(External Actor)</span>\n                            </span>\n                        </div>\n                        <div class="panel-body">\n                            <div><strong>Description: </strong></div>\n                            <div><p class="report">{{element.description}}</p></div>\n                            <div ng-if="element.hasOpenThreats || (reportOptions.showMitigated && element.threats.length > 0)">\n                                <div ng-repeat="threat in element.threats">\n                                    <div ng-if="threat.status == \'Open\' || reportOptions.showMitigated" class="panel panel-default threat">\n                                        <div class="panel-heading panel-title">\n                                            <div>\n                                                {{threat.title}}\n                                            </div>\n                                            <em class="small">\n                                                {{threat.type}},\n                                                <span ng-class="{Mitigated:\'text-success\', Open:\'text-danger\'}[threat.status]">{{threat.status}}</span>,\n                                                <span ng-class="{Low:\'text-success\', Medium:\'text-warning\', High:\'text-danger\'}[threat.severity]">{{threat.severity}} Severity</span>\n                                            </em>\n                                        </div>\n                                        <div class="panel-body">\n                                            <div class="col-md-12">\n                                                <div><strong>Description: </strong></div>\n                                                <div><p class="report">{{threat.description}}</p></div>\n                                            </div>\n                                            <div class="col-md-12">\n                                                <div><strong>Mitigation: </strong></div>\n                                                <div><p class="report">{{threat.mitigation}}</p></div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div ng-if="element.threats.length == 0 || !element.threats || (!element.hasOpenThreats && !reportOptions.showMitigated)">\n                                <div>\n                                    <em>No threats listed.</em>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div ng-if="reportOptions.showOutOfScope" ng-repeat="element in graphs[diagram.id].getCells() | filter:{outOfScope: true}">\n                    <div class="panel panel-default model-element">\n                        <div class="panel-heading panel-title">\n                            {{element.name}} (out of scope \n                            <span ng-switch="element.attributes.type">\n                                <span ng-switch-when="tm.Store">Data Store)</span>\n                                <span ng-switch-when="tm.Flow">Data Flow)</span>\n                                <span ng-switch-when="tm.Process">Process)</span>\n                                <span ng-switch-when="tm.Actor">External Actor)</span>\n                            </span>\n                        </div>\n                        <div class="panel-body">\n                            <div><strong>Description: </strong></div>\n                            <div><p class="report">{{element.description}}</p></div>\n                            <div><strong>Out of scope reason: </strong></div>\n                            <div><p class="report">{{element.reasonOutOfScope}}</p></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div ng-if="!isPrintingOrSaving" class="row">\n        <div class="col-md-12">\n            <div class="btn-group pull-right" role="group">\n                <button ng-if="saveable" class="btn btn-default" id="savePDFButton" role="button" ng-click="savePDF()" data-toggle="tooltip" data-placement="top" title="Save Threat Model Report As PDF">\n                    <span class="fa fa-floppy-o"></span> Save PDF\n                </button>\n                <button ng-if="printable" class="btn btn-default" id="printButton" role="button" ng-click="printPDF()" data-toggle="tooltip" data-placement="top" title="Print Threat Model Report">\n                    <span class="glyphicon glyphicon-print"></span> Print\n                </button>\n                <button class="btn btn-primary" id="cancelButton" role="button" ng-click="cancel()" data-toggle="tooltip" data-placement="top" title="Return To Detail View">\n                    <span class="glyphicon glyphicon-remove"></span> Return\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n')}]);
},{}],130:[function(require,module,exports){
"use strict";var core=angular.module("owasp-threat-dragon-core"),threatmodel=require("./threatmodel"),threatModelDirectives=require("./threatmodeldirectives");core.directive("tmtThreatModelReport",["$location","$routeParams","threatmodellocator","diagramming",threatModelDirectives.threatModelReport]),core.controller("threatmodel",["$scope","$location","$routeParams","dialogs","common","datacontext","threatmodellocator",threatmodel]);
},{"./threatmodel":131,"./threatmodeldirectives":132}],131:[function(require,module,exports){
"use strict";function threatModel(t,e,r,n,i,a,o){function d(t){function e(t){return T.threatModelEditForm?T.threatModelEditForm.$setPristine():T.dirty=!1,T.threatModel=t,T.threatModel}if(A())return T.threatModel={summary:{},detail:{contributors:[],diagrams:[]}},a.threatModel=T.threatModel,T.threatModel;var n=o.getModelLocation(r);return a.load(n,t).then(e,$)}function l(){function t(t){T.dirty=!1,e.path("/threatmodel/"+o.getModelPath(t.location))}a.update().then(t,$)}function u(){function t(t){T.dirty=!1,e.path("/threatmodel/"+o.getModelPath(t.location))}a.create(r,T.threatModel).then(t,$)}function c(){T.dirty?n.confirm("threatmodels/confirmReloadOnDirty.html",function(){d(!0)},function(){return null},function(){}):d(!0)}function h(){return o.getModelPathFromRouteParams(r)}function m(){return o.getModelLocation(r)}function g(t){return o.willMoveModel(r,t)}function f(){n.confirm("threatmodels/confirmDelete.html",function(){a.deleteModel().then(s,J)},function(){return null},function(){})}function s(){T.dirty=!1,e.path("/")}function M(){_.isUndefined(T.threatModel.summary.title)?e.path("/"):e.path("/threatmodel/"+T.threatModelPath())}function D(t){T.threatModel.detail.contributors.splice(t,1),T.dirty=!0}function w(t){T.threatModel.detail.diagrams.splice(t,1),T.dirty=!0;var e=0;T.threatModel.detail.diagrams.forEach(function(t){t.id=e,e+=1})}function b(t){var e=angular.copy(T.threatModel.detail.diagrams[t]);T.newDiagram.title="Copy of "+e.title,T.newDiagram.id=L(),T.newDiagram.diagramJson=e.diagramJson,T.newDiagram.size=e.size,T.threatModel.detail.diagrams.push(T.newDiagram),T.newDiagram=F(),T.addingDiagram=!1,T.dirty=!0}function y(){T.threatModel.detail.contributors.push({name:T.newContributor}),T.newContributor="",T.addingContributor=!1,T.dirty=!0}function p(){T.addingContributor=!1,T.newContributor=""}function C(){T.addingContributor=!0}function v(){T.newDiagram.id=L(),T.threatModel.detail.diagrams.push(T.newDiagram),T.newDiagram=F(),T.addingDiagram=!1,T.dirty=!0}function E(){T.addingDiagram=!1,T.newDiagram=F()}function P(){T.addingDiagram=!0}function F(){return{title:"",thumbnail:"./public/content/images/thumbnail.jpg"}}function A(){return e.path().substr(0,16)===o.newModelLocation}function L(){var t=0;return T.threatModel.detail.diagrams.forEach(function(e){t==e.id&&(t+=1)}),t}function $(t){T.errored=!0,J(t.data.message)}var T=this,U="threatmodel",x=i.logger.getLogFn,z=x(U),J=x(U,"error");T.errored=!1,T.title="Threat Model Details",T.threatModel={},T.removeContributor=D,T.addContributor=y,T.removeDiagram=w,T.duplicateDiagram=b,T.addDiagram=v,T.save=l,T.create=u,T.reload=c,T.threatModelPath=h,T.threatModelLocation=m,T.willMoveThreatModel=g,T.deleteModel=f,T.cancel=M,T.newContributor="",T.addingContributor=!1,T.cancelAddingContributor=p,T.startAddingContributor=C,T.newDiagram=F(),T.addingDiagram=!1,T.cancelAddingDiagram=E,T.startAddingDiagram=P,T.newID=L,T.isNewModel=A,t.$watch(function(){if(!_.isUndefined(T.threatModelEditForm))return T.threatModelEditForm.$dirty},function(t){_.isUndefined(t)||(T.dirty=t)}),t.$on("$locationChangeStart",function(t,e,r){T.dirty&&n.structuredExit(t,function(){},function(){T.dirty=!1})}),function(){i.activateController([d()],U).then(function(){z("Activated Threat Model Detail View")})}()}var _=require("lodash");module.exports=threatModel;
},{"lodash":109}],132:[function(require,module,exports){
"use strict";function threatModelReport(t,i,e,n){function o(o){function a(t){d(),t.removeTools(),t.scaleContentToFit()}function r(){o.isPrintingOrSaving=!0,o.save({done:l})}function s(){o.isPrintingOrSaving=!0,o.print({done:l})}function l(){o.isPrintingOrSaving=!1,o.safeApply()}function p(){_.isUndefined(o.model.summary.title)?t.path("/"):t.path("/threatmodel/"+e.getModelPathFromRouteParams(i))}function d(){function t(t){o.graphs[t.id].initialise(t.diagramJson)}o.model.detail.diagrams.forEach(t)}o.printable=_.isFunction(o.print),o.saveable=_.isFunction(o.save),o.savePDF=r,o.printPDF=s,o.cancel=p,o.isPrintingOrSaving=!1,o.initialise=a,o.graphs=null,o.reportOptions={showMitigated:!0,showOutOfScope:!0,showDiagrams:!0},function(){o.graphs=[];for(var t=0;t<20;t++)o.graphs[t]=n.newGraph()}(),o.loaded(),o.safeApply=function(t){var i=this.$root.$$phase;"$apply"==i||"$digest"==i?t&&"function"==typeof t&&t():this.$apply(t)}}return{link:o,templateUrl:"threatmodels/threatmodelreport.html",restrict:"E",scope:{model:"=",loaded:"&",save:"&?",print:"&?"}}}var _=require("lodash");module.exports={threatModelReport:threatModelReport};
},{"lodash":109}],133:[function(require,module,exports){
function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
},{}],134:[function(require,module,exports){
"use strict";function selectn(e,t){debug("arguments:",{path:e,object:t});for(var r=-1,u="[object Array]"===string.call(e)?e:splits(dotted(e)),s=u.length,o=s?t:void 0;++r<s;){if(Object(o)!==o)return;o=o[u[r]]}return debug("ref:",o),"function"==typeof o?o():o}var curry2=require("curry2"),debug=require("debug")("selectn"),dotted=require("brackets2dots"),splits=require("dotsplit.js"),string=Object.prototype.toString;module.exports=curry2(selectn);
},{"brackets2dots":26,"curry2":31,"debug":135,"dotsplit.js":62}],135:[function(require,module,exports){
(function (process){
function useColors(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function formatArgs(e){var o=this.useColors;if(e[0]=(o?"%c":"")+this.namespace+(o?" %c":" ")+e[0]+(o?"%c ":" ")+"+"+exports.humanize(this.diff),o){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var t=0,n=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(t++,"%c"===e&&(n=t))}),e.splice(n,0,r)}}function log(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(e){try{null==e?exports.storage.removeItem("debug"):exports.storage.debug=e}catch(e){}}function load(){var e;try{e=exports.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}function localstorage(){try{return window.localStorage}catch(e){}}exports=module.exports=require("./debug"),exports.log=log,exports.formatArgs=formatArgs,exports.save=save,exports.load=load,exports.useColors=useColors,exports.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:localstorage(),exports.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},exports.enable(load());
}).call(this,require('_process'))

},{"./debug":136,"_process":133}],136:[function(require,module,exports){
function selectColor(e){var r,t=0;for(r in e)t=(t<<5)-t+e.charCodeAt(r),t|=0;return exports.colors[Math.abs(t)%exports.colors.length]}function createDebug(e){function r(){if(r.enabled){var e=r,t=+new Date,o=t-(prevTime||t);e.diff=o,e.prev=prevTime,e.curr=t,prevTime=t;for(var s=new Array(arguments.length),n=0;n<s.length;n++)s[n]=arguments[n];s[0]=exports.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var p=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(r,t){if("%%"===r)return r;p++;var o=exports.formatters[t];if("function"==typeof o){var n=s[p];r=o.call(e,n),s.splice(p,1),p--}return r}),exports.formatArgs.call(e,s);(r.log||exports.log||console.log.bind(console)).apply(e,s)}}return r.namespace=e,r.enabled=exports.enabled(e),r.useColors=exports.useColors(),r.color=selectColor(e),"function"==typeof exports.init&&exports.init(r),r}function enable(e){exports.save(e),exports.names=[],exports.skips=[];for(var r=("string"==typeof e?e:"").split(/[\s,]+/),t=r.length,o=0;o<t;o++)r[o]&&(e=r[o].replace(/\*/g,".*?"),"-"===e[0]?exports.skips.push(new RegExp("^"+e.substr(1)+"$")):exports.names.push(new RegExp("^"+e+"$")))}function disable(){exports.enable("")}function enabled(e){var r,t;for(r=0,t=exports.skips.length;r<t;r++)if(exports.skips[r].test(e))return!1;for(r=0,t=exports.names.length;r<t;r++)if(exports.names[r].test(e))return!0;return!1}function coerce(e){return e instanceof Error?e.stack||e.message:e}exports=module.exports=createDebug.debug=createDebug.default=createDebug,exports.coerce=coerce,exports.disable=disable,exports.enable=enable,exports.enabled=enabled,exports.humanize=require("ms"),exports.names=[],exports.skips=[],exports.formatters={};var prevTime;
},{"ms":110}],137:[function(require,module,exports){
!function(e){e(["jquery"],function(e){return function(){function t(e,t,n){return g({type:O.error,iconClass:m().iconClasses.error,message:e,optionsOverride:n,title:t})}function n(t,n){return t||(t=m()),v=e("#"+t.containerId),v.length?v:(n&&(v=u(t)),v)}function i(e,t,n){return g({type:O.info,iconClass:m().iconClasses.info,message:e,optionsOverride:n,title:t})}function o(e){w=e}function s(e,t,n){return g({type:O.success,iconClass:m().iconClasses.success,message:e,optionsOverride:n,title:t})}function a(e,t,n){return g({type:O.warning,iconClass:m().iconClasses.warning,message:e,optionsOverride:n,title:t})}function r(e,t){var i=m();v||n(i),d(e,i,t)||l(i)}function c(t){var i=m();if(v||n(i),t&&0===e(":focus",t).length)return void h(t);v.children().length&&v.remove()}function l(t){for(var n=v.children(),i=n.length-1;i>=0;i--)d(e(n[i]),t)}function d(t,n,i){var o=!(!i||!i.force)&&i.force;return!(!t||!o&&0!==e(":focus",t).length)&&(t[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){h(t)}}),!0)}function u(t){return v=e("<div/>").attr("id",t.containerId).addClass(t.positionClass).attr("aria-live","polite").attr("role","alert"),v.appendTo(e(t.target)),v}function p(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',newestOnTop:!0,preventDuplicates:!1,progressBar:!1}}function f(e){w&&w(e)}function g(t){function i(e){return null==e&&(e=""),new String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function o(){t.iconClass&&D.addClass(w.toastClass).addClass(O)}function s(){w.newestOnTop?v.prepend(D):v.append(D)}function a(){t.title&&(x.append(w.escapeHtml?i(t.title):t.title).addClass(w.titleClass),D.append(x))}function r(){t.message&&(E.append(w.escapeHtml?i(t.message):t.message).addClass(w.messageClass),D.append(E))}function c(){w.closeButton&&(y.addClass("toast-close-button").attr("role","button"),D.prepend(y))}function l(){w.progressBar&&(H.addClass("toast-progress"),D.prepend(H))}function d(t){var n=t&&!1!==w.closeMethod?w.closeMethod:w.hideMethod,i=t&&!1!==w.closeDuration?w.closeDuration:w.hideDuration,o=t&&!1!==w.closeEasing?w.closeEasing:w.hideEasing;if(!e(":focus",D).length||t)return clearTimeout(I.intervalId),D[n]({duration:i,easing:o,complete:function(){h(D),w.onHidden&&"hidden"!==M.state&&w.onHidden(),M.state="hidden",M.endTime=new Date,f(M)}})}function u(){(w.timeOut>0||w.extendedTimeOut>0)&&(b=setTimeout(d,w.extendedTimeOut),I.maxHideTime=parseFloat(w.extendedTimeOut),I.hideEta=(new Date).getTime()+I.maxHideTime)}function p(){clearTimeout(b),I.hideEta=0,D.stop(!0,!0)[w.showMethod]({duration:w.showDuration,easing:w.showEasing})}function g(){var e=(I.hideEta-(new Date).getTime())/I.maxHideTime*100;H.width(e+"%")}var w=m(),O=t.iconClass||w.iconClass;if(void 0!==t.optionsOverride&&(w=e.extend(w,t.optionsOverride),O=t.optionsOverride.iconClass||O),!function(e,t){if(e.preventDuplicates){if(t.message===C)return!0;C=t.message}return!1}(w,t)){T++,v=n(w,!0);var b=null,D=e("<div/>"),x=e("<div/>"),E=e("<div/>"),H=e("<div/>"),y=e(w.closeHtml),I={intervalId:null,hideEta:null,maxHideTime:null},M={toastId:T,state:"visible",startTime:new Date,options:w,map:t};return function(){o(),a(),r(),c(),l(),s()}(),function(){D.hide(),D[w.showMethod]({duration:w.showDuration,easing:w.showEasing,complete:w.onShown}),w.timeOut>0&&(b=setTimeout(d,w.timeOut),I.maxHideTime=parseFloat(w.timeOut),I.hideEta=(new Date).getTime()+I.maxHideTime,w.progressBar&&(I.intervalId=setInterval(g,10)))}(),function(){D.hover(p,u),!w.onclick&&w.tapToDismiss&&D.click(d),w.closeButton&&y&&y.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&!0!==e.cancelBubble&&(e.cancelBubble=!0),d(!0)}),w.onclick&&D.click(function(e){w.onclick(e),d()})}(),f(M),w.debug&&console&&console.log(M),D}}function m(){return e.extend({},p(),b.options)}function h(e){v||(v=n()),e.is(":visible")||(e.remove(),e=null,0===v.children().length&&(v.remove(),C=void 0))}var v,w,C,T=0,O={error:"error",info:"info",success:"success",warning:"warning"},b={clear:r,remove:c,error:t,getContainer:n,info:i,options:{},subscribe:o,success:s,version:"2.1.2",warning:a};return b}()})}("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)});
},{"jquery":94}],138:[function(require,module,exports){
(function(){function n(n){function t(t,r,e,u,i,o){for(;i>=0&&i<o;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}return function(r,e,u,i){e=b(e,i,4);var o=!k(r)&&m.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),t(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=x(r,e);for(var u=O(t),i=n>0?0:u-1;i>=0&&i<u;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t,r){return function(e,u,i){var o=0,a=O(e);if("number"==typeof i)n>0?o=i>=0?i:Math.max(i+a,o):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return i=r(e,u),e[i]===u?i:-1;if(u!==u)return i=t(l.call(e,o,a),m.isNaN),i>=0?i+o:-1;for(i=n>0?o:a-1;i>=0&&i<a;i+=n)if(e[i]===u)return i;return-1}}function e(n,t){var r=I.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||a,i="constructor";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)(i=I[r])in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}var u=this,i=u._,o=Array.prototype,a=Object.prototype,c=Function.prototype,f=o.push,l=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,y=c.bind,d=Object.create,g=function(){},m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):u._=m,m.VERSION="1.8.3";var b=function(n,t,r){if(void 0===t)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},x=function(n,t,r){return null==n?m.identity:m.isFunction(n)?b(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};m.iteratee=function(n,t){return x(n,t,1/0)};var _=function(n,t){return function(r){var e=arguments.length;if(e<2||null==r)return r;for(var u=1;u<e;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;c<a;c++){var f=o[c];t&&void 0!==r[f]||(r[f]=i[f])}return r}},j=function(n){if(!m.isObject(n))return{};if(d)return d(n);g.prototype=n;var t=new g;return g.prototype=null,t},w=function(n){return function(t){return null==t?void 0:t[n]}},A=Math.pow(2,53)-1,O=w("length"),k=function(n){var t=O(n);return"number"==typeof t&&t>=0&&t<=A};m.each=m.forEach=function(n,t,r){t=b(t,r);var e,u;if(k(n))for(e=0,u=n.length;e<u;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;e<u;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;o<u;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;if(void 0!==(e=k(n)?m.findIndex(n,t,r):m.findKey(n,t,r))&&-1!==e)return n[e]},m.filter=m.select=function(n,t,r){var e=[];return t=x(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(x(t)),r)},m.every=m.all=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r,e){return k(n)||(n=m.values(n)),("number"!=typeof r||e)&&(r=0),m.indexOf(n,t,r)>=0},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-1/0,o=-1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;a<c;a++)(e=n[a])>i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){((u=t(n,r,e))>o||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;a<c;a++)(e=n[a])<i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){((u=t(n,r,e))<o||u===1/0&&i===1/0)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=k(n)?n:m.values(n),e=r.length,u=Array(e),i=0;i<e;i++)t=m.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(k(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=x(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=x(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};m.groupBy=F(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=F(function(n,t,r){n[r]=t}),m.countBy=F(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):k(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:k(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=x(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){if(null!=n)return null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){if(null!=n)return null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var S=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=O(n);o<a;o++){var c=n[o];if(k(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=S(c,t,r));var f=0,l=c.length;for(u.length+=l;f<l;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};m.flatten=function(n,t){return S(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=x(r,e));for(var u=[],i=[],o=0,a=O(n);o<a;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?m.contains(i,f)||(i.push(f),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(S(arguments,!0,!0))},m.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=O(n);e<u;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;o<r&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=S(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,O).length||0,r=Array(t),e=0;e<t;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=O(n);e<u;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){r=x(r,e,1);for(var u=r(t),i=0,o=O(n);i<o;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.indexOf=r(1,m.findIndex,m.sortedIndex),m.lastIndexOf=r(-1,m.findLastIndex),m.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;i<e;i++,n+=r)u[i]=n;return u};var E=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=j(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i};m.bind=function(n,t){if(y&&n.bind===y)return y.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),e=function(){return E(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;o<u;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return E(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(e<=1)throw new Error("bindAll must be passed function names");for(t=1;t<e;t++)r=arguments[t],n[r]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=!1===r.leading?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var f=m.now();a||!1!==r.leading||(a=f);var l=t-(f-a);return e=this,u=arguments,l<=0||l>t?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||!1===r.trailing||(o=setTimeout(c,l)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=m.now()-o;f<t&&f>=0?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var f=r&&!e;return e||(e=setTimeout(c,t)),f&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},m.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=null),r}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(n){if(!m.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)m.has(n,r)&&t.push(r);return M&&e(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var r in n)t.push(r);return M&&e(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;a<i;a++)e=u[a],o[e]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;e<u;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=0,o=u.length;i<o;i++)if(e=u[i],t(n[e],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=b(t,r)):(u=S(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;a<c;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(S(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=_(m.allKeys,!0),m.create=function(n,t){var r=j(n);return t&&m.extendOwn(r,t),r},m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;i<e;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!=+n?+t!=+t:0==+n?1/+n==1/t:+n==+t;case"[object Date]":case"[object Boolean]":return+n==+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if((c=n.length)!==t.length)return!1;for(;c--;)if(!N(n[c],t[c],r,e))return!1}else{var f,l=m.keys(n);if(c=l.length,m.keys(t).length!==c)return!1;for(;c--;)if(f=l[c],!m.has(t,f)||!N(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};m.isEqual=function(n,t){return N(n,t)},m.isEmpty=function(n){return null==n||(k(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length)},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=h||function(n){return"[object Array]"===s.call(n)},m.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(t){return s.call(t)==="[object "+n+"]"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(n){return"function"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"===s.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return void 0===n},m.has=function(n,t){return null!=n&&p.call(n,t)},m.noConflict=function(){return u._=i,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=w,m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;u<n;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T=m.invert(B),R=function(n){var t=function(t){return n[t]},r="(?:"+m.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};m.escape=R(B),m.unescape=R(T),m.result=function(n,t,r){var e=null==n?void 0:n[t];return void 0===e&&(e=r),m.isFunction(e)?e.call(n):e};var q=0;m.uniqueId=function(n){var t=++q+"";return n?n+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,L=function(n){return"\\"+z[n]};m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(D,L),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(n){throw n.source=i,n}var a=function(n){return o.call(this,n,m)};return a.source="function("+(t.variable||"obj")+"){\n"+i+"}",a},m.chain=function(n){var t=m(n);return t._chain=!0,t};var P=function(n,t){return n._chain?m(t).chain():t};m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),P(this,r.apply(m,n))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],P(this,r)}}),m.each(["concat","join","slice"],function(n){var t=o[n];m.prototype[n]=function(){return P(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this);
},{}],139:[function(require,module,exports){
"use strict";var angular=require("angular");require("angular-ui-bootstrap"),require("angular-route"),require("angular-xeditable"),require("angular-animate"),window.jQuery=require("jquery"),require("owasp-threat-dragon-core"),SVGElement.prototype.getTransformToElement=SVGElement.prototype.getTransformToElement||function(e){return e.getScreenCTM().inverse().multiply(this.getScreenCTM())};var app=angular.module("app",["ui.bootstrap","ngRoute","xeditable","ngAnimate","templates","owasp-threat-dragon-core","common"]);require("./config.route"),require("./services"),require("./layout"),require("./welcome"),require("./threatmodels"),app.config(["$qProvider",function(e){e.errorOnUnhandledRejections(!1)}]),app.run(["$rootScope","$location",function(e,r){e.location=r}]),app.config(["$locationProvider",function(e){e.hashPrefix("")}]),app.run(["$route","$rootScope","routemediator",function(e,r,o){o.setRoutingHandlers()}]),app.run(["editableOptions",function(e){e.theme="bs3"}]);
},{"./config.route":140,"./layout":141,"./services":144,"./threatmodels":147,"./welcome":149,"angular":10,"angular-animate":2,"angular-route":4,"angular-ui-bootstrap":6,"angular-xeditable":8,"jquery":94,"owasp-threat-dragon-core":119}],140:[function(require,module,exports){
"use strict";function routeConfigurator(e,t){function o(t,o){return e.when(t,o),e}t.forEach(function(e){o(e.url,e.config)}),e.otherwise({redirectTo:"/"})}function getRoutes(){return[{url:"/",config:{templateUrl:"./public/app/welcome/welcome.html",title:"Welcome Page",settings:{}}},{url:"/welcome",config:{templateUrl:"./public/app/welcome/welcome.html",title:"Welcome Page",settings:{}}},{url:"/threatmodel",config:{templateUrl:"./public/app/threatmodels/repos.html",title:"Choose a Repo",settings:{}}},{url:"/threatmodel/:organisation/:repo",config:{templateUrl:"./public/app/threatmodels/branches.html",title:"Choose a Branch",settings:{}}},{url:"/threatmodel/:organisation/:repo/:branch",config:{templateUrl:"./public/app/threatmodels/models.html",title:"Choose a Model",settings:{}}},{url:"/threatmodel/:organisation/:repo/:branch/:model",config:{title:"Threat Model Details",templateUrl:"threatmodels/threatmodeldetail.html",settings:{}}},{url:"/threatmodel/edit/:organisation/:repo/:branch/:model",config:{title:"Edit Threat Model",templateUrl:"threatmodels/threatmodeledit.html",settings:{}}},{url:"/threatmodel/report/:organisation/:repo/:branch/:model",config:{title:"Threat Model Report",templateUrl:"./public/app/threatmodels/webreport.html",settings:{}}},{url:"/new/threatmodel",config:{title:"Choose a Repo For Your New Model",templateUrl:"./public/app/threatmodels/repos.html",settings:{}}},{url:"/new/threatmodel/:organisation/:repo",config:{title:"Choose a Branch For Your New Model",templateUrl:"./public/app/threatmodels/branches.html",settings:{}}},{url:"/new/threatmodel/:organisation/:repo/:branch",config:{title:"Create a New Model",templateUrl:"threatmodels/threatmodeledit.html",settings:{}}},{url:"/threatmodel/:organisation/:repo/:branch/:model/diagram/:diagramId",config:{title:"Threat Model Diagram",templateUrl:"diagrams/diagrameditor.html",reloadOnSearch:!1,settings:{}}}]}var app=require("angular").module("app");app.constant("routes",getRoutes()),app.config(["$routeProvider","routes",routeConfigurator]);
},{"angular":10}],141:[function(require,module,exports){
"use strict";var app=require("angular").module("app");app.controller("shell",["$rootScope","$scope","common","config",require("./shell")]);
},{"./shell":142,"angular":10}],142:[function(require,module,exports){
"use strict";function shell(e,n,o,t){var l="shell",c=o.logger.getLogFn(l,"success"),a=t.events;n.$on("$viewContentLoaded",function(){e.appLoaded=!0}),function(){c("Threat Dragon loaded!",null,!0),o.activateController([],l)}(),e.$on("$routeChangeStart",function(e,n,o){}),e.$on(a.controllerActivateSuccess,function(e){})}module.exports=shell;
},{}],143:[function(require,module,exports){
"use strict";function datacontext(t,e,r,o){function a(t){var r="threatmodel/repos";t&&(r+="?page="+t);var o={headers:{Accept:"application/json"}};return e.get(r,o)}function n(t,r,o){var a="threatmodel/"+t+"/"+r+"/branches";o&&(a+="?page="+o);var n={headers:{Accept:"application/json"}};return e.get(a,n)}function l(t,r,o){var a="threatmodel/"+t+"/"+r+"/"+o+"/models",n={headers:{Accept:"application/json"}};return e.get(a,n)}function i(r,o){function a(e){return M.threatModel=e.data,M.threatModelLocation=l,t.resolve(M.threatModel)}function n(e){return M.threatModel=null,M.threatModelLocation=null,t.reject(e)}var l={organisation:r.organisation,repo:r.repo,branch:r.branch,model:r.model};if(M.threatModel&&JSON.stringify(l)===JSON.stringify(M.threatModelLocation)&&!o)return t.when(M.threatModel);var i=s(l)+"/data",d={headers:{Accept:"application/json"}};return e.get(i,d).then(a,n)}function d(r,o){function a(){return M.threatModelLocation=l,t.resolve({model:M.threatModel,location:M.threatModelLocation})}function n(e){return M.threatModelLocation=null,t.reject(e)}var l={organisation:r.organisation,repo:r.repo,branch:r.branch,model:o.summary.title},i=s(l)+"/create";return M.threatModel=o,e.put(i,o).then(a,n)}function c(){function r(){var t=s(a);return e.delete(t)}function o(){return t.resolve({model:M.threatModel,location:M.threatModelLocation})}var a=Object.assign({},M.threatModelLocation);if(a.model===M.threatModel.summary.title){var n=s(M.threatModelLocation)+"/update";return e.put(n,M.threatModel)}return M.threatModelLocation.model=M.threatModel.summary.title,d(M.threatModelLocation,M.threatModel).then(r).then(o)}function u(){function r(){return M.threatModel=null,M.threatModelLocation=null,t.resolve(M.threatModel)}function o(e){return t.reject(e)}var a=s(M.threatModelLocation);return e.delete(a).then(r,o)}function h(e,r){var o=M.threatModel.detail.diagrams.find(function(t){return t.id==e});return o?(o.diagramJson=r.diagramJson,o.size=r.size,c()):t.reject(new Error("invalid diagram id"))}function s(t){return"threatmodel/"+o.getModelPath(t)}var M={repos:a,branches:n,models:l,load:i,create:d,update:c,deleteModel:u,saveThreatModelDiagram:h,threatModel:null,threatModelLocation:null};return M}module.exports=datacontext;
},{}],144:[function(require,module,exports){
var angular=require("angular"),app=angular.module("app");app.factory("datacontext",["$q","$http","common","threatmodellocator",require("./datacontext")]),app.factory("threatmodellocator",[require("./threatmodellocator")]);
},{"./datacontext":143,"./threatmodellocator":145,"angular":10}],145:[function(require,module,exports){
"use strict";function threatmodellocator(){function o(o){return{organisation:o.organisation,repo:o.repo,branch:o.branch,model:o.model}}function e(o){var e="";return e+=o.organisation+"/",e+=o.repo+"/",e+=o.branch+"/",e+=o.model}function t(o,e){return e.model!=o.model}return{getModelLocation:o,getModelPath:e,getModelPathFromRouteParams:e,willMoveModel:t,newModelLocation:"/new/threatmodel"}}module.exports=threatmodellocator;
},{}],146:[function(require,module,exports){
"use strict";function github(n,a,t,e,o){function i(){d.error=null,d.organisation=a.organisation,d.repo=a.repo,d.branch=a.branch,d.organisation||d.repo?d.branch?p(d.organisation,d.repo,d.branch):g(d.organisation,d.repo):r()}function r(){return o.repos(t.search().page).then(function(n){d.pagination=n.data.pagination,d.pagination.page=parseInt(d.pagination.page,10),d.repos=n.data.repos},function(n){d.repos=[],l(n)})}function g(n,a){return o.branches(n,a,t.search().page).then(function(n){d.pagination=n.data.pagination,d.pagination.page=parseInt(d.pagination.page,10),d.branches=n.data.branches},function(n){d.branches=[],l(n)})}function p(n,a,t){return o.models(n,a,t).then(function(n){d.models=n.data},function(n){d.models=[],l(n)})}function c(n){t.url(f()+"threatmodel/"+d.organisation+"/"+d.repo+"/"+n)}function u(n){t.url(f()+"threatmodel/"+n)}function s(){d.pagination.next?t.search("page",d.pagination.page+1):x("Cannot navigate to next page")}function h(){d.pagination.prev?t.search("page",d.pagination.page-1):x("Cannot navigate to previous page")}function f(){return"/new/threatmodel"===t.path().substr(0,16)?"new/":""}function l(n){d.error=n,x(n.data.message)}var d=this,b="github",m=e.logger.getLogFn,v=m(b),x=m(b,"error");d.title="Load From GitHub",d.selectBranch=c,d.selectRepo=u,d.nextPage=s,d.previousPage=h,d.uriPrefix=f,function(){e.activateController([i()],b).then(function(){v("Activated GitHub Controller")})}()}module.exports=github;
},{}],147:[function(require,module,exports){
var app=require("angular").module("app"),github=require("./github"),webreport=require("./webreport");app.controller("github",["$q","$routeParams","$location","common","datacontext",github]),app.controller("webreport",["$timeout","$routeParams","common","datacontext","threatmodellocator",webreport]);
},{"./github":146,"./webreport":148,"angular":10}],148:[function(require,module,exports){
"use strict";function webreport(t,e,o,r,n){function a(t){function e(t){return c.threatModel=t,c.threatModel}var o=l();return r.load(o,t).then(e,i)}function d(){return c.loaded=!0,"called onLoaded"}function i(t){c.error=t,g(t.data.message)}function l(){return n.getModelLocation(e)}function u(e){t(function(){window.print(),e()})}var c=this,f="webreport",p=o.logger.getLogFn,h=p(f),g=p(f,"error");c.title="Threat Model Report",c.threatModel={},c.error=!1,c.loaded=!1,c.onLoaded=d,c.onError=i,c.printPDF=u,function(){o.activateController([a()],f).then(function(){h("Activated Web Report Controller")})}()}module.exports=webreport;
},{}],149:[function(require,module,exports){
"use strict";var app=require("angular").module("app");app.controller("welcome",["$location","common","commonConfig",require("./welcome")]);
},{"./welcome":150,"angular":10}],150:[function(require,module,exports){
"use strict";function welcome(o,e,t){function n(){var e="threatmodel/";e+=t.config.demoModelLocation.organisation+"/",e+=t.config.demoModelLocation.repo+"/",e+=t.config.demoModelLocation.branch+"/",e+=t.config.demoModelLocation.model,o.path(e)}var c="welcome",i=this,l=e.logger.getLogFn,a=l(c);i.title="Welcome",i.loadDemoModel=n,function(){e.activateController([],c).then(function(){a("Activated Welcome View")})}()}module.exports=welcome;
},{}]},{},[139])


//# sourceMappingURL=./td/public/app/threatdragon.js.map